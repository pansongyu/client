{"version":3,"sources":["UIClubMainBase.js"],"names":["app","require","BaseClubMainForm","cc","Class","extends","OnCreateInit","left","node","getChildByName","left_layout","clubDemo","mark","right_layout","roomDemo","fangka","fangkaLabel","getComponent","Label","lb_name","lb_id","clubName","clubId","page_tip","page_demo","bg_signal","lb_signal","selectCityConfig","SysDataManager","GetTableDict","WeChatHeadImage1","active","discountType","RegEvent","Event_AllClubDataNtf","Event_LoadClub","WeChatManager","SDKManager","Event_InitClubRoom","Event_RoomStatusChange","Event_RoomPlayerChange","Event_RoomSetChange","Event_ClubCardNtf","Event_ClubPlayerNtf","Event_OnDiamondsNotEnough","Event_RefreshRoomList","Event_UnionSportsPoint","Event_PromotionLevelPowerChange","OnEvent_SpeedTest","Event_ClubPlayerNtfToManager","Event_UnionMatchState","Event_UnionStateChange","Event_OutSportsPoint","Event_SportsPointWarning","Event_CodeError","Event_ReJoin","Event_OutRoom","on","Node","EventType","TOUCH_START","OnTouch","TOUCH_END","TOUCH_MOVE","TOUCH_CANCEL","roomScrollView","ScrollView","GetNextRoomPage","event","code","ShareDefine","ErrorPassword","dataDict","JSON","parse","Result","Msg","SysNotifyManager","ShowSysMsg","localStorage","setItem","tagId","OnShow","isRejoin","joining","CheckRoomDisplayList","last_club_data","ClubManager","GetLastClubData","nowClubID","club_data","id","clubData","GetClubData","ScrollDataPage","sys","ShowRoomKeyList","CreateRoomKeyList","ShowUserInfo","FormManager","ShowForm","CloseForm","roomList","DestroyAllChildren","clubBg","getItem","Sprite","spriteFrame","gameList","Client","GetAllGameId","that","isToggleHideRoom","Toggle","isChecked","inRoom","GetIsLoadClub","SendReqClubData","UpdateClubList","CheckInRoom","LocationOnStartMgr","OnGetLocation","schedule","RunRoomDisplay","scheduleOnce","Click_btn_qhwh","self","NetManager","SendPack","inRoomInfo","console","log","name","diamondsValue","type","CheckRoomDisplay","GetDiscountTypeData","serverPack","ChangeBg","heroName","HeroManager","GetHeroProperty","string","ComTool","GetBeiZhuName","heroID","headImageUrl","i18n","t","GetPid","OnLoad","ShowHeroHead","clubDatas","length","cityInfo","cityId","Name","clubsign","nowUnionID","unionId","nowCLubSign","nowClubName","SetUnionSendPackHead","SetLastClubData","showUplevelId","showClubSign","isShowClubSign","showLostConnect","CheckSkinType","tableNum","myisminister","minister","myisPartner","promotion","levelPromotion","isPromotionManage","promotionManagePid","sort","unionType","unionPostType","unionName","unionSign","kicking","modifyValue","showShare","invite","unionNode","moreNode","unionMyWanFa","ownerClubName","Club_MINISTER_MGRSS","UNION_MANAGE","UNION_CREATE","allSelectCityData","GetCurSelectCityData","curUserCityId","allGameIdFormServer","split","curSelectGameList","argDict","UpdateCity","OnEvent","sportsPointStr","sportsPoint","toFixed","toString","eliminatePoint","personalSportsPointWarning","outSportsPoint","endRoundTime","endRoundTimeStr","ServerTimeManager","GetCDTimeStringBySec","DayHourMinuteSecond","unionState","btn_outRaceSprite","color","Color","LabelOutline","caseStatus","ShowUnionTip","ShowUnionRankTip","ShowUnionStateType","unionStateType","Club_MINISTER_MGR","Club_MINISTER_CREATER","Club_MINISTER_GENERAL","Club_PARTNER_ONE","existApply","SendGetAllRoom","selfPid","pid","operate","lbBtnName","matchState","stateType","outSports","taoTaiValue","beginTable","roomKeyList","MyUnionMyWanFaArray","i","indexOf","roomKey","push","posList","setId","InitNullTable","GameType2Name","gameType","gameTypeID","GametTypeNameDict","GametTypeID2Name","GameId2Name","gameId","GameId2PinYin","GametTypeID2PinYin","GetWanFa","gameCfg","wanfa","RoomCfgManager","WanFa","isShowLiXian","islixian","InitHead","playerNum","clubTable","GetCLubTable","key","roomBg","usernode","substr","touxiang","InitHeroHeadImage","WeChatHeadImage","isLostConnect","benquan","clubID","addbenquan","instantiate","icon_benquan","addChild","head","status","clubPlayerInfo","shortPlayer","Enum_Join","Enum_Kick","Enum_Leave","datas","roomCardAttentions","clubCardNtfs","j","roomcard","roomcardattention","isMag","IsManager","SetWaitForConfirm","ConfirmOK","RemoveRoomKey","index","splice","roomData","roomInfoItem","isClose","isChange","RemoveChildFromScroll","childNode","GetRoomNode","isDisplay","UpdateChildInScroll","SortAllRoom","childRoom","AddChildToScroll","tempData","newRoomData","pos","ShowPageTip","page","pageNum","pagedemo","GetClubTb","ClubTb","scrollToLeft","height","Layout","spacingY","spacingX","isExist","children","club","width","zIndex","GetZindex","zIndexNum","GetRoomData","ScrollOffset","getScrollOffset","gundongX","x","updateLayout","batchRoomKey","nullNode","destroy","parseInt","ShowRoomDataBatch","ChangeTableColor","bg_table_color","table_majiang_xinyung","bg_table_color_puke","table_puke_xinyung","bg_table_color_dazhuo","table_dazhuo_xinyung","packName","GetClubDataByClubID","Date","getTime","UpdateRoomData","error","password","roomName","roomSportsThreshold","setCount","ShowRoomData","CreateTable","zhuoziKey","zhuozi","OnJoinBtnClick","OnBtnClickDetail","zhuozi_xingyun","gamePY","zhuozi_xingyun_puke","zhuozi_zhongzhi","isPuke","roomBg_zhongzhi_green","roomBg_zhongzhi_blue","toggleHideRoom","GamePlayManager","game_nameNode","img_sp","fontSize","lb_spStart","roomNameNode","keyNode","jushuNode","paishuNode","jushuStr","total","GameType_JXFZGP","GameType_GD","GameType_WHMJ","haveRen","isNative","parent","sortAllChildren","DestroyFromParent","ReSortRoomList","a","b","PosCount","poscount","RefreshLeft","left_on","left_off","joinState","clubSign","skinType","SendReqClubDataById","CheckRoomIsStart","Click_btn_JiaRu","btnNode","gameName","toLowerCase","isPassword","JoinRoomCheckSubGame","undefined","changeInfo","Confirm","curGameType","curGameTypeStr","SetGameType","Click_btn_weixin","SortPlayerByIsminister","Enum_NotAgree","isminister","time","isSelect","sendPack","UpdateLeftWanFa","SaveQHWF","SortByTagId","content","scrollToTop","demo","child","configId","roomInfoStr","size","setCountt","click_btn_QHWF","quanxuan","sender","target","p","join","OnClick","btnName","startsWith","CLubSign","mySkinType","CloseAllClubForm","ShowClubFrom","IsFormShow","GetFormComponentByFormName","ShowAddClubSprite","newPath","nowClubData","data","gameIndex","enableGameType","heroRoomCard","limit","Config","clubCreateNum","selcetId","wanfaNode","childMore","enabled","GetUnionTypeByLastClubData","btnNameStr","SendPackUnionApply","UNION_GENERAL","OnClose","OutClubUI","unschedule","msgID","msgArg","cbArg","ConfirmManager","SetWaitForConfirmForm","OnConFirm","bind","ShowConfirm","clickType","backArgList","Click_btn_goRoom","jesanState","Enum_RoomCfg_Delete","SendSetRoomCfg","SendCloseClub","CloseFormReal","SendPlayerStateChange","setTimeout","kickState","ChangeRoomCheckSubGame","GetUnionSendPackHead","OnEventToggleHideRoom","YanCi","icon_signal","isNoTip","showTipUnionTime","GetServerTimeData","day","GetDayDiffByTick","existRound","SetClubDataByClubID","unionRankingItem","OnUpdate","serverTimeTick","module","exports"],"mappings":";;;;;;AAAA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;;AAEA,IAAIC,mBAAmBC,GAAGC,KAAH,CAAS;AAC5BC,aAASJ,QAAQ,UAAR,CADmB;;AAG5BK,kBAAc,wBAAY;AACtB,aAAKC,IAAL,GAAY,KAAKC,IAAL,CAAUC,cAAV,CAAyB,WAAzB,CAAZ;AACA,aAAKC,WAAL,GAAmB,KAAKH,IAAL,CAAUE,cAAV,CAAyB,MAAzB,EAAiCA,cAAjC,CAAgD,QAAhD,CAAnB;AACA,aAAKE,QAAL,GAAgB,KAAKJ,IAAL,CAAUE,cAAV,CAAyB,MAAzB,EAAiCA,cAAjC,CAAgD,UAAhD,CAAhB;;AAEA,aAAKG,IAAL,GAAY,KAAKJ,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,MAAtD,CAAZ;AACA,aAAKI,YAAL,GAAoB,KAAKD,IAAL,CAAUH,cAAV,CAAyB,MAAzB,EAAiCA,cAAjC,CAAgD,QAAhD,CAApB;AACA,aAAKK,QAAL,GAAgB,KAAKF,IAAL,CAAUH,cAAV,CAAyB,MAAzB,CAAhB;;AAEA,aAAKM,MAAL,GAAc,KAAKP,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,QAAlD,CAAd;AACA,aAAKO,WAAL,GAAmB,KAAKD,MAAL,CAAYN,cAAZ,CAA2B,OAA3B,EAAoCQ,YAApC,CAAiDd,GAAGe,KAApD,CAAnB;;AAEA,aAAKC,OAAL,GAAe,KAAKX,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DA,cAA9D,CAA6E,SAA7E,EAAwFQ,YAAxF,CAAqGd,GAAGe,KAAxG,CAAf;AACA,aAAKE,KAAL,GAAa,KAAKZ,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DA,cAA9D,CAA6E,OAA7E,EAAsFQ,YAAtF,CAAmGd,GAAGe,KAAtG,CAAb;AACA,aAAKG,QAAL,GAAgB,KAAKb,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,UAA/C,EAA2DQ,YAA3D,CAAwEd,GAAGe,KAA3E,CAAhB;AACA,aAAKI,MAAL,GAAc,KAAKd,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,QAA/C,EAAyDQ,YAAzD,CAAsEd,GAAGe,KAAzE,CAAd;;AAGA,aAAKK,QAAL,GAAgB,KAAKf,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,MAAtD,CAAhB;AACA,aAAKe,SAAL,GAAiB,KAAKhB,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,WAAtD,CAAjB;;AAEA,aAAKgB,SAAL,GAAiB,KAAKjB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,cAA/C,EAA+DA,cAA/D,CAA8E,WAA9E,CAAjB;AACA,aAAKiB,SAAL,GAAiB,KAAKlB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,cAA/C,EAA+DA,cAA/D,CAA8E,WAA9E,EAA2FQ,YAA3F,CAAwGd,GAAGe,KAA3G,CAAjB;;AAEA,aAAKS,gBAAL,GAAwB3B,IAAI4B,cAAJ,GAAqBC,YAArB,CAAkC,YAAlC,CAAxB;AACA,aAAKC,gBAAL,GAAwB,KAAKtB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DA,cAA9D,CAA6E,MAA7E,EAAqFQ,YAArF,CAAkG,iBAAlG,CAAxB;AACA,aAAKN,QAAL,CAAcoB,MAAd,GAAqB,KAArB;AACA,aAAKjB,QAAL,CAAciB,MAAd,GAAqB,KAArB;AACA,aAAKC,YAAL,GAAoB,EAApB;AACA;AACA,aAAKC,QAAL,CAAc,eAAd,EAA8B,KAAKC,oBAAnC;;AAEA,aAAKD,QAAL,CAAc,UAAd,EAAyB,KAAKE,cAA9B;;AAEA,aAAKC,aAAL,GAAqBpC,IAAIoC,aAAJ,EAArB;AACA,aAAKC,UAAL,GAAgBrC,IAAIqC,UAAJ,EAAhB;AACA,aAAKJ,QAAL,CAAc,gBAAd,EAAgC,KAAKK,kBAArC,EAAyD,IAAzD;AACA,aAAKL,QAAL,CAAc,mBAAd,EAAmC,KAAKM,sBAAxC,EAAgE,IAAhE;AACA,aAAKN,QAAL,CAAc,oBAAd,EAAoC,KAAKO,sBAAzC,EAAiE,IAAjE;AACA,aAAKP,QAAL,CAAc,iBAAd,EAAiC,KAAKQ,mBAAtC,EAA2D,IAA3D;AACA;AACA,aAAKR,QAAL,CAAc,mBAAd,EAAmC,KAAKS,iBAAxC,EAA2D,IAA3D;AACA,aAAKT,QAAL,CAAc,iBAAd,EAAiC,KAAKU,mBAAtC,EAA2D,IAA3D;;AAEA,aAAKV,QAAL,CAAc,qBAAd,EAAqC,KAAKW,yBAA1C,EAAqE,IAArE;;AAEA,aAAKX,QAAL,CAAc,mBAAd,EAAmC,KAAKY,qBAAxC,EAA+D,IAA/D;;AAEA,aAAKZ,QAAL,CAAc,oBAAd,EAAoC,KAAKa,sBAAzC,EAAiE,IAAjE;;AAEA,aAAKb,QAAL,CAAc,6BAAd,EAA6C,KAAKc,+BAAlD,EAAmF,IAAnF;;AAEA,aAAKd,QAAL,CAAc,cAAd,EAA8B,KAAKe,iBAAnC,EAAsD,IAAtD;AACA,aAAKf,QAAL,CAAc,0BAAd,EAA0C,KAAKgB,4BAA/C,EAA6E,IAA7E;AACA,aAAKhB,QAAL,CAAc,mBAAd,EAAmC,KAAKiB,qBAAxC,EAA+D,IAA/D;AACA,aAAKjB,QAAL,CAAc,oBAAd,EAAoC,KAAKkB,sBAAzC,EAAiE,IAAjE;AACA,aAAKlB,QAAL,CAAc,kBAAd,EAAkC,KAAKmB,oBAAvC,EAA6D,IAA7D;AACA,aAAKnB,QAAL,CAAc,sBAAd,EAAsC,KAAKoB,wBAA3C,EAAqE,IAArE;AACA,aAAKpB,QAAL,CAAc,WAAd,EAA2B,KAAKqB,eAAhC,EAAiD,IAAjD;AACA,aAAKrB,QAAL,CAAc,QAAd,EAAwB,KAAKsB,YAA7B,EAA2C,IAA3C;AACA,aAAKtB,QAAL,CAAc,SAAd,EAAyB,KAAKuB,aAA9B,EAA6C,IAA7C;AACA,aAAK5C,IAAL,CAAU6C,EAAV,CAAatD,GAAGuD,IAAH,CAAQC,SAAR,CAAkBC,WAA/B,EAA4C,KAAKC,OAAjD,EAA0D,IAA1D;AACA,aAAKjD,IAAL,CAAU6C,EAAV,CAAatD,GAAGuD,IAAH,CAAQC,SAAR,CAAkBG,SAA/B,EAA0C,KAAKD,OAA/C,EAAwD,IAAxD;AACA,aAAKjD,IAAL,CAAU6C,EAAV,CAAatD,GAAGuD,IAAH,CAAQC,SAAR,CAAkBI,UAA/B,EAA2C,KAAKF,OAAhD,EAAyD,IAAzD;AACA,aAAKjD,IAAL,CAAU6C,EAAV,CAAatD,GAAGuD,IAAH,CAAQC,SAAR,CAAkBK,YAA/B,EAA6C,KAAKH,OAAlD,EAA2D,IAA3D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAII,iBAAiB,KAAKzD,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,MAAtD,EAA8DQ,YAA9D,CAA2Ed,GAAG+D,UAA9E,CAArB;AACAD,uBAAezD,IAAf,CAAoBiD,EAApB,CAAuB,iBAAvB,EAAyC,KAAKU,eAA9C,EAA8D,IAA9D;AACH,KAnF2B;AAoF5Bb,qBAAgB,yBAASc,KAAT,EAAe;AAC3B,YAAIC,OAAOD,MAAM,MAAN,CAAX;AACA,YAAGC,QAAQ,KAAKC,WAAL,CAAiBC,aAA5B,EAA0C;AACtC;AACA,gBAAIC,WAAWC,KAAKC,KAAL,CAAWN,MAAMO,MAAN,CAAaC,GAAxB,CAAf;AACA5E,gBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,gBAAlC,EAAmD,EAAnD,EAAsD,CAAtD;AACAC,yBAAaC,OAAb,CAAqB,cAAYR,SAASlD,MAArB,GAA4B,GAA5B,GAAgCkD,SAASS,KAA9D,EAAoE,EAApE;AACH;AAEJ,KA7F2B;AA8F5B;AACAC,YAAQ,kBAAY;AAAA;;AAChB,aAAKC,QAAL,GAAc,KAAd;AACA,aAAKC,OAAL,GAAa,KAAb;AACA,aAAKC,oBAAL,GAA0B,EAA1B;AACA;AACA,YAAIC,iBAAiBtF,IAAIuF,WAAJ,GAAkBC,eAAlB,EAArB;AACA,YAAIF,kBAAkB,IAAtB,EAA4B;AACxB,iBAAKG,SAAL,GAAiBH,eAAeI,SAAf,CAAyBC,EAA1C;AACH,SAFD,MAEK;AACD,gBAAIC,WAAW5F,IAAIuF,WAAJ,GAAkBM,WAAlB,EAAf;AACA,iBAAKJ,SAAL,GAAiBG,SAAS,CAAT,EAAYD,EAA7B;AACH;;AAED,aAAKG,cAAL,GAAoB,CAApB;AACA3F,WAAG4F,GAAH,CAAOhB,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,EAAyC,CAAzC;AACA,YAAG,CAAC,KAAKS,SAAT,EAAmB;AACf,iBAAKA,SAAL,GAAe,CAAC,CAAhB;AACH;AACD,aAAKO,eAAL,GAAqB,EAArB;AACA,aAAKC,iBAAL,GAAuB,EAAvB;AACA,aAAKC,YAAL;AACA,aAAKC,WAAL,CAAiBC,QAAjB,CAA0B,aAA1B;AACA,aAAKD,WAAL,CAAiBE,SAAjB,CAA2B,QAA3B;AACA,aAAKC,QAAL,GAAc,EAAd;AACA;AACA;AACA,aAAKC,kBAAL,CAAwB,KAAK7F,WAA7B;AACA,aAAK6F,kBAAL,CAAwB,KAAK1F,YAA7B;AACA;AACA,aAAKN,IAAL,CAAUwB,MAAV,GAAiB,IAAjB;AACA,aAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,KAAtE;AACA,aAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,IAAtE;;AAEA,aAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,IAAtE;AACA,aAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,KAAtE;AACA,aAAKxB,IAAL,CAAUwB,MAAV,GAAiB,KAAjB;AACA,aAAKvB,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCsB,MAAvC,GAA8C,IAA9C;AACA,aAAKvB,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCsB,MAAvC,GAA8C,KAA9C,CArCgB,CAqCoC;AACpD,aAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DsB,MAA9D,GAAqE,KAArE;AACA,aAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DA,cAA9D,CAA6E,QAA7E,EAAuFsB,MAAvF,GAA8F,KAA9F;AACA,YAAIyE,SAAOrG,GAAG4F,GAAH,CAAOhB,YAAP,CAAoB0B,OAApB,CAA4B,WAA5B,CAAX;AACA,YAAID,UAAU,IAAV,IAAkB,OAAOA,MAAP,IAAkB,WAAxC,EAAqD;AACjDrG,eAAG4F,GAAH,CAAOhB,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,EAAyC,GAAzC;AACAwB,qBAAS,CAAT;AACH;AACD,aAAKhG,IAAL,CAAUC,cAAV,CAAyB,IAAzB,EAA+BQ,YAA/B,CAA4Cd,GAAGuG,MAA/C,EAAuDC,WAAvD,GAAmE,KAAKH,MAAL,CAAYA,MAAZ,CAAnE;AACA,aAAKI,QAAL,GAAgB5G,IAAI6G,MAAJ,CAAWC,YAAX,EAAhB;AACA,YAAIC,OAAO,IAAX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAIC,mBAAmB7G,GAAG4F,GAAH,CAAOhB,YAAP,CAAoB0B,OAApB,CAA4B,kBAA5B,CAAvB;AACA,YAAIO,oBAAoB,GAAxB,EAA6B;AACzB,iBAAKxG,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,gBAA/C,EAAiEQ,YAAjE,CAA8Ed,GAAG8G,MAAjF,EAAyFC,SAAzF,GAAqG,IAArG;AACH,SAFD,MAEK;AACD,iBAAK1G,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,gBAA/C,EAAiEQ,YAAjE,CAA8Ed,GAAG8G,MAAjF,EAAyFC,SAAzF,GAAqG,KAArG;AACH;AACD,aAAKC,MAAL,GAAY,KAAZ;AACA,YAAGnH,IAAIuF,WAAJ,GAAkB6B,aAAlB,MAAmC,KAAtC,EAA4C;AACxCpH,gBAAIuF,WAAJ,GAAkB8B,eAAlB,GADwC,CACH;AACxC,SAFD,MAEK;AACD,iBAAKC,cAAL,GADC,CACsB;AAC1B;AACD,aAAKC,WAAL;AACA;AACAvH,YAAIwH,kBAAJ,GAAyBC,aAAzB;;AAEA,aAAKC,QAAL,CAAc,KAAKC,cAAnB,EAAkC,GAAlC;AACA,aAAKC,YAAL,CAAkB,YAAI;AAClB,kBAAKC,cAAL;AACH,SAFD,EAEE,GAFF;AAGH,KA9K2B;AA+K5BN,iBAAY,uBAAU;AAClB,YAAIO,OAAK,IAAT;AACA9H,YAAI+H,UAAJ,GAAiBC,QAAjB,CAA0B,sBAA1B,EAAkD,EAAlD,EAAsD,UAAS5D,KAAT,EAAe;AACjE0D,iBAAKX,MAAL,GAAY,IAAZ;AACAW,iBAAKG,UAAL,GAAgB7D,KAAhB;AACA0D,iBAAK3B,WAAL,CAAiBC,QAAjB,CAA0B,sBAA1B,EAAiDhC,KAAjD;AACC,SAJL,EAIO,UAASA,KAAT,EAAe;AACd8D,oBAAQC,GAAR,CAAY,MAAZ;AACH,SANL;AAQH,KAzL2B;AA0L5BvF,+BAA0B,mCAASwB,KAAT,EAAe;AACrCpE,YAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkCV,MAAMgE,IAAN,GAAW,MAAX,GAAkBhE,MAAMiE,aAAxB,GAAsC,YAAxE;AACH,KA5L2B;AA6L5BxE,aAAQ,iBAASO,KAAT,EAAe;AACnB,YAAI,gBAAgBA,MAAMkE,IAA1B,EAAgC,CAE/B,CAFD,MAEM,IAAI,cAAclE,MAAMkE,IAApB,IAA4B,iBAAiBlE,MAAMkE,IAAvD,EAA6D;AAC/D;AACA,iBAAKC,gBAAL;AACH,SAHK,MAGA,IAAI,eAAenE,MAAMkE,IAAzB,EAA+B,CAEpC;AACJ,KAtM2B;AAuM5BE,yBAAqB,6BAAUC,UAAV,EAAsB;AACvC,aAAKzG,YAAL,GAAoByG,UAApB;AACH,KAzM2B;AA0M5BC,cAAS,oBAAU;AACf,YAAIlC,SAAOrG,GAAG4F,GAAH,CAAOhB,YAAP,CAAoB0B,OAApB,CAA4B,WAA5B,CAAX;AACA,YAAID,UAAU,IAAV,IAAkB,OAAOA,MAAP,IAAkB,WAAxC,EAAqD;AACjDrG,eAAG4F,GAAH,CAAOhB,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,EAAyC,GAAzC;AACAwB,qBAAS,CAAT;AACH;AACD0B,gBAAQC,GAAR,CAAY,qBAAmB3B,MAA/B;AACA,aAAKhG,IAAL,CAAUC,cAAV,CAAyB,IAAzB,EAA+BQ,YAA/B,CAA4Cd,GAAGuG,MAA/C,EAAuDC,WAAvD,GAAmE,KAAKH,MAAL,CAAYA,MAAZ,CAAnE;AACH,KAlN2B;AAmN5BN,kBAAa,wBAAU;AACnB,YAAIyC,WAAW3I,IAAI4I,WAAJ,GAAkBC,eAAlB,CAAkC,MAAlC,CAAf;AACA,aAAK1H,OAAL,CAAa2H,MAAb,GAAsB,KAAKC,OAAL,CAAaC,aAAb,CAA2BC,MAA3B,EAAkCN,QAAlC,CAAtB;AACA,YAAIM,SAASjJ,IAAI4I,WAAJ,GAAkBC,eAAlB,CAAkC,KAAlC,CAAb;AACA,YAAIK,eAAelJ,IAAI4I,WAAJ,GAAkBC,eAAlB,CAAkC,cAAlC,CAAnB;AACA,aAAKzH,KAAL,CAAW0H,MAAX,GAAoB9I,IAAImJ,IAAJ,CAASC,CAAT,CAAW,gBAAX,EAA4B,EAAC,OAAM,KAAKL,OAAL,CAAaM,MAAb,CAAoBJ,MAApB,CAAP,EAA5B,CAApB;AACA,aAAKnH,gBAAL,CAAsBwH,MAAtB;AACA,aAAKxH,gBAAL,CAAsByH,YAAtB,CAAmCN,MAAnC,EAA0CC,YAA1C;AACH,KA3N2B;AA4N5BhH,0BAAqB,gCAAU;AAC3B,aAAKoF,cAAL;AACH,KA9N2B;AA+N5BnF,oBAAe,wBAASyD,QAAT,EAAkB;AAC7B;AACA,YAAI,CAACA,QAAL,EAAe;AACX5F,gBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,0BAAlC;AACA,gBAAI0E,YAAYxJ,IAAIuF,WAAJ,GAAkBM,WAAlB,EAAhB;AACA,gBAAG2D,UAAUC,MAAV,IAAkB,CAArB,EAAuB;AACnB,qBAAKtD,WAAL,CAAiBC,QAAjB,CAA0B,oBAA1B;AACH,aAFD,MAEK;AACD,qBAAKD,WAAL,CAAiBC,QAAjB,CAA0B,oBAA1B;AACH;AACD,iBAAKC,SAAL;AACA;AACH;AACD,YAAIqD,WAAW,KAAK/H,gBAAL,CAAsBiE,SAAS+D,MAA/B,KAA0C,EAACC,MAAK,EAAN,EAAzD;AACA,aAAKpJ,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,aAA/C,EAA8DQ,YAA9D,CAA2Ed,GAAGe,KAA9E,EAAqF4H,MAArF,GAA8FY,SAASE,IAAvG;;AAEA,aAAKvI,QAAL,CAAcyH,MAAd,GAAqBlD,SAASwC,IAA9B;AACA,aAAK9G,MAAL,CAAYwH,MAAZ,GAAmB,QAAMlD,SAASiE,QAAlC;AACA,aAAKpE,SAAL,GAAeG,SAASD,EAAxB;AACA,aAAKmE,UAAL,GAAgBlE,SAASmE,OAAzB;AACA,aAAKC,WAAL,GAAiBpE,SAASiE,QAA1B;AACA,aAAKI,WAAL,GAAiBrE,SAASwC,IAA1B;;AAEApI,YAAIuF,WAAJ,GAAkB2E,oBAAlB,CAAuCtE,SAASmE,OAAhD,EAAwDnE,SAASD,EAAjE;AACA3F,YAAIuF,WAAJ,GAAkB4E,eAAlB,CAAkCvE,SAASD,EAA3C,EAA8CC,SAASiE,QAAvD,EAAgEjE,SAASwC,IAAzE,EAA8ExC,SAASwE,aAAvF,EAAqGxE,SAASyE,YAA9G;AACA,aAAKxH,qBAAL,GAzB6B,CAyBC;AAC9B,aAAKyH,cAAL,GAAoB1E,SAASyE,YAA7B;AACA,aAAKE,eAAL,GAAsB3E,SAAS2E,eAA/B;;AAEA,aAAKC,aAAL,CAAmB5E,QAAnB;AACA,aAAK6E,QAAL,GAAgB7E,SAAS6E,QAAzB;AACA;;;AAGA,aAAKC,YAAL,GAAoB9E,SAAS+E,QAA7B;AACA,aAAKC,WAAL,GAAmBhF,SAASiF,SAA5B;AACA,aAAKC,cAAL,GAAsBlF,SAASkF,cAA/B,CApC6B,CAoCqB;AAClD,aAAKC,iBAAL,GAAyBnF,SAASmF,iBAAlC,CArC6B,CAqCyB;AACtD,aAAKC,kBAAL,GAAwBpF,SAASoF,kBAAjC;AACA,aAAKC,IAAL,GAAYrF,SAASqF,IAArB;AACA,aAAKlB,OAAL,GAAenE,SAASmE,OAAxB;AACA,aAAKmB,SAAL,GAAiBtF,SAASsF,SAA1B;AACA,aAAKC,aAAL,GAAqB,CAAC,CAAtB;AACA,aAAKC,SAAL,GAAiB,EAAjB;AACA,aAAKC,SAAL,GAAiB,CAAC,CAAlB;;AAIA;;;AAGA,aAAKC,OAAL,GAAe1F,SAAS0F,OAAxB;AACA;;;AAGA,aAAKC,WAAL,GAAmB3F,SAAS2F,WAA5B;AACA;;;AAGA,aAAKC,SAAL,GAAiB5F,SAAS4F,SAA1B;AACA;;;AAGA,aAAKC,MAAL,GAAc7F,SAAS6F,MAAvB;AACA,YAAI3D,OAAO,IAAX;AACA,YAAI4D,YAAY,KAAKlL,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,CAAhB;AACA,YAAIkL,WAAW,KAAKnL,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,UAA3E,CAAf;AACAkL,iBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,cAApD,EAAoEsB,MAApE,GAA2E,IAA3E;AACA4J,iBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,gBAApD,EAAsEsB,MAAtE,GAA6E,KAA7E;;AAEA,YAAI,KAAKgI,OAAL,GAAe,CAAnB,EAAsB;AAClB;AACA,gBAAIhF,eAAe5E,GAAG4F,GAAH,CAAOhB,YAA1B;AACA,iBAAK6G,YAAL,GAAoB7G,aAAa0B,OAAb,CAAqB,aAAW,KAAKsD,OAAhB,GAAwB,GAAxB,GAA4B,KAAKtE,SAAtD,CAApB;AACA;AACA,iBAAKjF,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,KAAtE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,KAAtE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DsB,MAA9D,GAAqE,IAArE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,gBAA/C,EAAiEsB,MAAjE,GAAwE,IAAxE;AACA,iBAAKxB,IAAL,CAAUwB,MAAV,GAAiB,KAAjB;AACA;AACA,iBAAKqJ,SAAL,GAAiBxF,SAASwF,SAA1B;AACA,iBAAKS,aAAL,GAAqBjG,SAASiG,aAA9B;AACA,iBAAKV,aAAL,GAAqBvF,SAASuF,aAA9B;AACAO,sBAAUjL,cAAV,CAAyB,mBAAzB,EAA8CsB,MAA9C,GAAuD,KAAvD;AACA,gBAAI,KAAK2I,YAAL,IAAqB1K,IAAIuF,WAAJ,GAAkBuG,mBAA3C,EAAgE;AAC5DJ,0BAAUjL,cAAV,CAAyB,mBAAzB,EAA8CsB,MAA9C,GAAuD,IAAvD;AACH;AACD,gBAAI,KAAKoJ,aAAL,IAAsBnL,IAAIuF,WAAJ,GAAkBwG,YAAxC,IACA,KAAKZ,aAAL,IAAsBnL,IAAIuF,WAAJ,GAAkByG,YAD5C,EAC0D;AACtDN,0BAAUjL,cAAV,CAAyB,mBAAzB,EAA8CsB,MAA9C,GAAuD,IAAvD;AACA,oBAAIkK,oBAAoBjM,IAAI4I,WAAJ,GAAkBsD,oBAAlB,EAAxB;AACA,oBAAIC,gBAAgBF,kBAAkB,CAAlB,EAAqB,UAArB,CAApB;AACA,oBAAIrG,SAAS+D,MAAT,IAAmBwC,aAAvB,EAAsC;AAClC;AACAnM,wBAAI+H,UAAJ,GAAiBC,QAAjB,CAA0B,sBAA1B,EAAkD,EAAC,gBAAepC,SAAS+D,MAAzB,EAAlD,EAAoF,UAASvF,KAAT,EAAe;AAC/FpE,4BAAI6G,MAAJ,CAAWuF,mBAAX,GAAiChI,MAAMiI,KAAN,CAAY,GAAZ,CAAjC;AACA,4BAAIC,oBAAoBtM,IAAI6G,MAAJ,CAAWC,YAAX,EAAxB;AACA,4BAAIyF,UAAU;AACV,wCAAWD;AADD,yBAAd;;AAIAtM,4BAAI4I,WAAJ,GAAkB4D,UAAlB,CAA6B5G,SAAS+D,MAAtC;AACAxJ,2BAAG4F,GAAH,CAAOhB,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,EAAuCY,SAAS+D,MAAhD;;AAGA3J,4BAAI6G,MAAJ,CAAW4F,OAAX,CAAmB,wBAAnB,EAA6CF,OAA7C;AACAvM,4BAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,sBAAoB4E,SAASE,IAA7B,GAAkC,GAApE,EAAwE,EAAxE,EAA2E,CAA3E;AACH,qBAbD,EAaG,UAASxF,KAAT,EAAe;AACd8D,gCAAQC,GAAR,CAAY,UAAZ;AACH,qBAfD;AAgBH;AACJ;AACD,iBAAKkD,SAAL,GAAiBzF,SAASyF,SAA1B;AACAK,sBAAU3J,MAAV,GAAmB,IAAnB;AACA,gBAAI2K,iBAAiB9G,SAAS+G,WAA9B;AACA,gBAAG/G,SAAS+G,WAAT,IAAwB,OAA3B,EAAmC;AAC/BD,iCAAiB,CAAC9G,SAAS+G,WAAT,GAAqB,KAAtB,EAA6BC,OAA7B,CAAqC,CAArC,EAAwCC,QAAxC,KAAqD,GAAtE;AACH;AACDnB,sBAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,OAAnD,EAA4DQ,YAA5D,CAAyEd,GAAGe,KAA5E,EAAmF4H,MAAnF,GAA4F4D,cAA5F;AACA,gBAAG9G,SAASsF,SAAT,IAAoB,CAAvB,EAAyB;AACrB;AACAQ,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,YAAnD,EAAiEsB,MAAjE,GAA0E,KAA1E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEsB,MAAnE,GAA4E,KAA5E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,YAAnD,EAAiEsB,MAAjE,GAA0E,IAA1E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEsB,MAAnE,GAA4E,IAA5E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEQ,YAAnE,CAAgFd,GAAGe,KAAnF,EAA0F4H,MAA1F,GAAmGlD,SAASkH,cAA5G;AACH,aAPD,MAOM,IAAI,OAAOlH,SAASmH,0BAAhB,IAA+C,WAAnD,EAAgE;AAClErB,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,YAAnD,EAAiEsB,MAAjE,GAA0E,KAA1E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEsB,MAAnE,GAA4E,KAA5E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,YAAnD,EAAiEsB,MAAjE,GAA0E,IAA1E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEsB,MAAnE,GAA4E,IAA5E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEQ,YAAnE,CAAgFd,GAAGe,KAAnF,EAA0F4H,MAA1F,GAAmGlD,SAASoH,cAA5G;AACH,aANK,MAMD;AACDtB,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,YAAnD,EAAiEsB,MAAjE,GAA0E,IAA1E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEsB,MAAnE,GAA4E,IAA5E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,YAAnD,EAAiEsB,MAAjE,GAA0E,KAA1E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEsB,MAAnE,GAA4E,KAA5E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEQ,YAAnE,CAAgFd,GAAGe,KAAnF,EAA0F4H,MAA1F,GAAmGlD,SAASmH,0BAA5G;AACH;AACD;AACA,iBAAKE,YAAL,GAAoBrH,SAASqH,YAA7B;AACA,gBAAIC,kBAAkBlN,IAAImN,iBAAJ,GAAwBC,oBAAxB,CAA6C,KAAKH,YAAlD,EAAgEjN,IAAIsE,WAAJ,GAAkB+I,mBAAlF,CAAtB;AACA3B,sBAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,aAAnD,EAAkEQ,YAAlE,CAA+Ed,GAAGe,KAAlF,EAAyF4H,MAAzF,GAAkGoE,eAAlG;AACA;AACA,gBAAItH,SAAS0H,UAAT,IAAuB,CAA3B,EAA8B;AAC1B;AACA5B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEQ,YAArE,CAAkFd,GAAGe,KAArF,EAA4F4H,MAA5F,GAAqG,MAArG;AACA4C,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCQ,YAAxC,CAAqDd,GAAGuG,MAAxD,EAAgEC,WAAhE,GAA8E,KAAK4G,iBAAL,CAAuB,CAAvB,CAA9E;AACA7B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqE+M,KAArE,GAA6E,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,GAAlB,EAAuB,GAAvB,CAA7E;AACA/B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEQ,YAArE,CAAkFd,GAAGuN,YAArF,EAAmGF,KAAnG,GAA2G,IAAIrN,GAAGsN,KAAP,CAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAA3G;AACH,aAND,MAMM,IAAI7H,SAAS0H,UAAT,IAAuB,CAA3B,EAA8B;AAChC;AACA5B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEQ,YAArE,CAAkFd,GAAGe,KAArF,EAA4F4H,MAA5F,GAAqG,MAArG;AACA4C,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCQ,YAAxC,CAAqDd,GAAGuG,MAAxD,EAAgEC,WAAhE,GAA8E,KAAK4G,iBAAL,CAAuB,CAAvB,CAA9E;AACA7B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqE+M,KAArE,GAA6E,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,GAAlB,EAAuB,GAAvB,CAA7E;AACA/B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEQ,YAArE,CAAkFd,GAAGuN,YAArF,EAAmGF,KAAnG,GAA2G,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,EAAlB,EAAsB,EAAtB,CAA3G;AACH,aANK,MAMA,IAAI7H,SAAS0H,UAAT,IAAuB,CAA3B,EAA8B;AAChC;AACA5B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEQ,YAArE,CAAkFd,GAAGe,KAArF,EAA4F4H,MAA5F,GAAqG,MAArG;AACA4C,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCQ,YAAxC,CAAqDd,GAAGuG,MAAxD,EAAgEC,WAAhE,GAA8E,KAAK4G,iBAAL,CAAuB,CAAvB,CAA9E;AACA7B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqE+M,KAArE,GAA6E,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,GAAlB,EAAuB,GAAvB,CAA7E;AACA/B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEQ,YAArE,CAAkFd,GAAGuN,YAArF,EAAmGF,KAAnG,GAA2G,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,EAAlB,EAAsB,EAAtB,CAA3G;AACH;AACD,gBAAI,KAAKtC,aAAL,IAAsBnL,IAAIuF,WAAJ,GAAkByG,YAA5C,EAA0D;AACtD;AACAN,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCsB,MAAxC,GAAiD,KAAjD;AACH,aAHD,MAGK;AACD2J,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCsB,MAAxC,GAAiD,IAAjD;AACH;AACD;AACA,gBAAI6D,SAAS+H,UAAT,GAAsB,CAA1B,EAA6B;AACzBhC,yBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,gBAApD,EAAsEsB,MAAtE,GAA6E,IAA7E;AACH;AACD,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DsB,MAA9D,GAAqE,KAArE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,aAAlD,EAAiEsB,MAAjE,GAAwE,KAAxE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,QAAlD,EAA4DsB,MAA5D,GAAmE,KAAnE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DsB,MAA9D,GAAqE,KAArE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,YAAlD,EAAgEsB,MAAhE,GAAuE,KAAvE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,oBAA3E,EAAiGsB,MAAjG,GAAwG,IAAxG;AACA,iBAAK6L,YAAL;AACA,iBAAKC,gBAAL,CAAsBjI,QAAtB;AACA;AACA,iBAAKkI,kBAAL,CAAwBlI,SAASmI,cAAjC;AACH,SAlHD,MAkHK;AACDrC,sBAAU3J,MAAV,GAAmB,KAAnB;AACA,iBAAKxB,IAAL,CAAUwB,MAAV,GAAiB,KAAjB;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,gBAA/C,EAAiEsB,MAAjE,GAAwE,KAAxE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DsB,MAA9D,GAAqE,KAArE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,IAAtE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,KAAtE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DsB,MAA9D,GAAqE,IAArE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DsB,MAA9D,GAAqE,KAArE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,aAAlD,EAAiEsB,MAAjE,GAAwE,IAAxE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,QAAlD,EAA4DsB,MAA5D,GAAmE,KAAnE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,YAAlD,EAAgEsB,MAAhE,GAAuE,IAAvE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,oBAA3E,EAAiGsB,MAAjG,GAAwG,KAAxG;AACA,gBAAI,KAAK2I,YAAL,IAAqB1K,IAAIuF,WAAJ,GAAkByI,iBAAvC,IAA4D,KAAKtD,YAAL,IAAqB1K,IAAIuF,WAAJ,GAAkBuG,mBAAnG,IAA0H,KAAKpB,YAAL,IAAqB1K,IAAIuF,WAAJ,GAAkB0I,qBAArK,EAA4L;AACxL,oBAAIhC,qBAAoBjM,IAAI4I,WAAJ,GAAkBsD,oBAAlB,EAAxB;AACA,oBAAIC,iBAAgBF,mBAAkB,CAAlB,EAAqB,UAArB,CAApB;AACA,oBAAIrG,SAAS+D,MAAT,IAAmBwC,cAAvB,EAAsC;AAClC;AACAnM,wBAAI+H,UAAJ,GAAiBC,QAAjB,CAA0B,sBAA1B,EAAkD,EAAC,gBAAepC,SAAS+D,MAAzB,EAAlD,EAAoF,UAASvF,KAAT,EAAe;AAC/FpE,4BAAI6G,MAAJ,CAAWuF,mBAAX,GAAiChI,MAAMiI,KAAN,CAAY,GAAZ,CAAjC;AACA,4BAAIC,oBAAoBtM,IAAI6G,MAAJ,CAAWC,YAAX,EAAxB;AACA,4BAAIyF,UAAU;AACV,wCAAWD;AADD,yBAAd;;AAIAtM,4BAAI4I,WAAJ,GAAkB4D,UAAlB,CAA6B5G,SAAS+D,MAAtC;AACAxJ,2BAAG4F,GAAH,CAAOhB,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,EAAuCY,SAAS+D,MAAhD;;AAEA3J,4BAAI6G,MAAJ,CAAW4F,OAAX,CAAmB,wBAAnB,EAA6CF,OAA7C;AACAvM,4BAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,uBAAqB4E,SAASE,IAA9B,GAAmC,GAArE,EAAyE,EAAzE,EAA4E,CAA5E;AACH,qBAZD,EAYG,UAASxF,KAAT,EAAe;AACd8D,gCAAQC,GAAR,CAAY,UAAZ;AACH,qBAdD;AAeH;AACJ;AACJ;AACD,YAAG,KAAKuC,YAAL,IAAqB1K,IAAIuF,WAAJ,GAAkB2I,qBAA1C,EAAgE;AAC5D,gBAAI,KAAKnE,OAAL,IAAgB,CAApB,EAAuB;AACnB,qBAAKvJ,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,aAAlD,EAAiEsB,MAAjE,GAAwE,IAAxE;AACA,qBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,YAAlD,EAAgEsB,MAAhE,GAAuE,IAAvE;AACH;AACD,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,cAA3E,EAA2FsB,MAA3F,GAAkG,IAAlG;AACA;AACA;AACA4J,qBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,YAApD,EAAkEsB,MAAlE,GAAyE,IAAzE;AACA,gBAAI,KAAKgI,OAAL,GAAe,CAAnB,EAAsB;AAClB,qBAAKvJ,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,cAA3E,EAA2FsB,MAA3F,GAAkG,KAAlG;AACA4J,yBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,gBAApD,EAAsEsB,MAAtE,GAA6E,KAA7E;AACH,aAHD,MAGK;AACD,qBAAKvB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,cAA3E,EAA2FsB,MAA3F,GAAkG,IAAlG;AACA4J,yBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,gBAApD,EAAsEsB,MAAtE,GAA6E,IAA7E;AACH;AACD;AACA,gBAAI,KAAK2I,YAAL,IAAqB1K,IAAIuF,WAAJ,GAAkB0I,qBAAvC,IAAgE,KAAKvD,YAAL,IAAqB1K,IAAIuF,WAAJ,GAAkBuG,mBAA3G,EAAgI;AAC5H,qBAAKtL,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,WAA3E,EAAwFsB,MAAxF,GAA+F,IAA/F;AACH,aAFD,MAEK;AACD,qBAAKvB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,WAA3E,EAAwFsB,MAAxF,GAA+F,KAA/F;AACH;AACD4J,qBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,oBAApD,EAA0EsB,MAA1E,GAAiF,IAAjF;AACA4J,qBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,aAApD,EAAmEsB,MAAnE,GAA0E,IAA1E;AACA4J,qBAAS5J,MAAT,GAAgB,IAAhB;AACH,SAzBD,MAyBK;AACD,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,aAAlD,EAAiEsB,MAAjE,GAAwE,KAAxE;AACA;;AAEA,gBAAG,KAAK+I,cAAL,GAAoB,CAApB,IAAyB,KAAKC,iBAAL,GAAuB,CAAnD,EAAqD;AACjD,qBAAKvK,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,cAA3E,EAA2FsB,MAA3F,GAAkG,IAAlG;AACH,aAFD,MAEK;AACD,qBAAKvB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,cAA3E,EAA2FsB,MAA3F,GAAkG,KAAlG;AACH;;AAED;AACA;AACA4J,qBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,YAApD,EAAkEsB,MAAlE,GAAyE,KAAzE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,cAA3E,EAA2FsB,MAA3F,GAAkG,KAAlG;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,WAA3E,EAAwFsB,MAAxF,GAA+F,KAA/F;AACA4J,qBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,gBAApD,EAAsEsB,MAAtE,GAA6E,KAA7E;AACA4J,qBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,oBAApD,EAA0EsB,MAA1E,GAAiF,KAAjF;AACA4J,qBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,aAApD,EAAmEsB,MAAnE,GAA0E,KAA1E;AACA4J,qBAAS5J,MAAT,GAAgB,IAAhB;AACH;AACD4J,iBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,aAApD,EAAmEsB,MAAnE,GAA0E,IAA1E,CAzQ6B,CAyQkD;AAC/E;AACA;AACA,YAAG,KAAK6I,WAAL,IAAoB5K,IAAIuF,WAAJ,GAAkB4I,gBAAtC,IAA2D,KAAKzD,YAAL,IAAqB1K,IAAIuF,WAAJ,GAAkB0I,qBAArG,EAA4H;AAC5H;AACMtC,qBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,iBAApD,EAAuEsB,MAAvE,GAA8E,KAA9E;AACL,SAHD,MAGK;AACD4J,qBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,iBAApD,EAAuEsB,MAAvE,GAA8E,KAA9E;AACH;AACD;AACA,YAAG,KAAKgJ,iBAAL,GAAuB,CAAvB,IAA4B,KAAKD,cAAL,GAAsB,CAAlD,IAAwD,KAAKJ,YAAL,IAAqB1K,IAAIuF,WAAJ,GAAkB0I,qBAAlG,EAAyH;AACrH,iBAAKzN,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,cAA3E,EAA2FsB,MAA3F,GAAkG,IAAlG;AACH,SAFD,MAEK;AACD,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,cAA3E,EAA2FsB,MAA3F,GAAkG,KAAlG;AACH;AACD;AACA,YAAI,KAAK6I,WAAL,IAAoB5K,IAAIuF,WAAJ,GAAkB4I,gBAAtC,IAA2D,KAAKzD,YAAL,IAAqB1K,IAAIuF,WAAJ,GAAkB2I,qBAAtG,EAA6H;AACzHvC,qBAAS5J,MAAT,GAAgB,IAAhB;AACA4J,qBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,gBAApD,EAAsEsB,MAAtE,GAA6E,KAA7E;AACH;AACD;AACA,YAAI6D,SAASwI,UAAb,EAAyB;AACrB,iBAAK5N,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,cAA3E,EAA2FA,cAA3F,CAA0G,QAA1G,EAAoHsB,MAApH,GAA2H,IAA3H;AACH,SAFD,MAEK;AACD,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,cAA3E,EAA2FA,cAA3F,CAA0G,QAA1G,EAAoHsB,MAApH,GAA2H,KAA3H;AACH;AACD;AACI,YAAG,KAAK2I,YAAL,IAAqB1K,IAAIuF,WAAJ,GAAkB2I,qBAAvC,IAAgE,KAAKnD,iBAAL,GAAuB,CAAvF,IAA4F,KAAKD,cAAL,GAAsB,CAArH,EAAuH;AACnHa,qBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,oBAApD,EAA0EsB,MAA1E,GAAiF,IAAjF;AACH,SAFD,MAEK;AACD4J,qBAASlL,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,oBAApD,EAA0EsB,MAA1E,GAAiF,KAAjF;AACH;AACL;AACH,KAzgB2B;AA0gB5Bc,2BAAsB,iCAAU;AAC5B,aAAKiD,cAAL,GAAsB,CAAtB;AACA,aAAKE,eAAL,GAAqB,EAArB;AACA,aAAKC,iBAAL,GAAuB,EAAvB;AACAjG,YAAIuF,WAAJ,GAAkB8I,cAAlB,CAAiC,KAAK5I,SAAtC;AACH,KA/gB2B;AAghB5B3C,4BAAuB,gCAASsB,KAAT,EAAe;AAClC,YAAIkK,UAAUtO,IAAI4I,WAAJ,GAAkBC,eAAlB,CAAkC,KAAlC,CAAd;AACA,YAAI,KAAKkB,OAAL,GAAe,CAAf,IAAoB,KAAKtE,SAAL,IAAkBrB,MAAM9C,MAA5C,IAAsDgN,WAAWlK,MAAMmK,GAA3E,EAAgF;AAC5E,gBAAGnK,MAAMuI,WAAN,IAAqB,OAAxB,EAAgC;AAC5BvI,sBAAMuI,WAAN,GAAoB,CAACvI,MAAMuI,WAAN,GAAkB,KAAnB,EAA0BC,OAA1B,CAAkC,CAAlC,EAAqCC,QAArC,KAAkD,GAAtE;AACH;AACD,iBAAKrM,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DA,cAA/D,CAA8E,SAA9E,EAAyFA,cAAzF,CAAwG,OAAxG,EAAiHQ,YAAjH,CAA8Hd,GAAGe,KAAjI,EAAwI4H,MAAxI,GAAiJ1E,MAAMuI,WAAvJ;AACH;AACJ,KAxhB2B;AAyhB5B5J,qCAAgC,yCAASqB,KAAT,EAAe;AAC3C,YAAIkK,UAAUtO,IAAI4I,WAAJ,GAAkBC,eAAlB,CAAkC,KAAlC,CAAd;AACA,YAAI,KAAKpD,SAAL,IAAkBrB,MAAM9C,MAAxB,IAAkCgN,WAAWlK,MAAMmK,GAAvD,EAA4D;AACxD,iBAAKjD,OAAL,GAAelH,MAAMkH,OAArB;AACA,iBAAKC,WAAL,GAAmBnH,MAAMmH,WAAzB;AACA,iBAAKC,SAAL,GAAiBpH,MAAMoH,SAAvB;AACA,iBAAKC,MAAL,GAAcrH,MAAMqH,MAApB;AACA,iBAAKX,cAAL,GAAsB1G,MAAM0G,cAA5B;AACH;AACJ,KAliB2B;AAmiB5B7H,kCAA6B,sCAASmB,KAAT,EAAe;AACxC,YAAIA,MAAM9C,MAAN,IAAgB,KAAKmE,SAAzB,EAAoC;AAChC;AACH;AACD,aAAKjF,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,cAA3E,EAA2FA,cAA3F,CAA0G,QAA1G,EAAoHsB,MAApH,GAA2H,IAA3H;AACH,KAxiB2B;AAyiB5BmB,2BAAsB,+BAASkB,KAAT,EAAe;AACjC,YAAIkK,UAAUtO,IAAI4I,WAAJ,GAAkBC,eAAlB,CAAkC,KAAlC,CAAd;AACA,YAAIzE,MAAM9C,MAAN,IAAgB,KAAKmE,SAArB,IAAkCrB,MAAM2F,OAAN,IAAiB,KAAKA,OAAxD,IACA3F,MAAMmK,GAAN,IAAaD,OADjB,EAC0B;AACtB;AACH;AACD,YAAIlK,MAAMoK,OAAN,IAAiB,CAArB,EAAwB;AACpB;AACA,gBAAIpK,MAAMkE,IAAN,IAAc,CAAlB,EAAqB;AACjB;AACAtI,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,eAAlC;AACH,aAHD,MAGM,IAAIV,MAAMkE,IAAN,IAAc,CAAlB,EAAqB;AACvB;AACAtI,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,eAAlC;AACH;AACJ,SATD,MASK;AACD;AACA,gBAAIV,MAAMkE,IAAN,IAAc,CAAlB,EAAqB;AACjB;AACAtI,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,cAAlC;AACH,aAHD,MAGM,IAAIV,MAAMkE,IAAN,IAAc,CAAlB,EAAqB;AACvB;AACAtI,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,cAAlC;AACH;AACJ;AACD;AACA,YAAI4G,YAAY,KAAKlL,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,CAAhB;AACA,YAAIgO,YAAY/C,UAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEQ,YAArE,CAAkFd,GAAGe,KAArF,CAAhB;AACA,YAAIkD,MAAMsK,UAAN,IAAoB,CAAxB,EAA2B;AACvB;AACAD,sBAAU3F,MAAV,GAAmB,MAAnB;AACA4C,sBAAUjL,cAAV,CAAyB,aAAzB,EAAwCQ,YAAxC,CAAqDd,GAAGuG,MAAxD,EAAgEC,WAAhE,GAA8E,KAAK4G,iBAAL,CAAuB,CAAvB,CAA9E;AACA7B,sBAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqE+M,KAArE,GAA6E,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,GAAlB,EAAuB,GAAvB,CAA7E;AACA/B,sBAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEQ,YAArE,CAAkFd,GAAGuN,YAArF,EAAmGF,KAAnG,GAA2G,IAAIrN,GAAGsN,KAAP,CAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAA3G;AACH,SAND,MAMM,IAAIrJ,MAAMsK,UAAN,IAAoB,CAAxB,EAA2B;AAC7B;AACAD,sBAAU3F,MAAV,GAAmB,MAAnB;AACI4C,sBAAUjL,cAAV,CAAyB,aAAzB,EAAwCQ,YAAxC,CAAqDd,GAAGuG,MAAxD,EAAgEC,WAAhE,GAA8E,KAAK4G,iBAAL,CAAuB,CAAvB,CAA9E;AACA7B,sBAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqE+M,KAArE,GAA6E,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,GAAlB,EAAuB,GAAvB,CAA7E;AACA/B,sBAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEQ,YAArE,CAAkFd,GAAGuN,YAArF,EAAmGF,KAAnG,GAA2G,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,EAAlB,EAAsB,EAAtB,CAA3G;AACP,SANK,MAMA,IAAIrJ,MAAMsK,UAAN,IAAoB,CAAxB,EAA2B;AAC7B;AACAD,sBAAU3F,MAAV,GAAmB,MAAnB;AACI4C,sBAAUjL,cAAV,CAAyB,aAAzB,EAAwCQ,YAAxC,CAAqDd,GAAGuG,MAAxD,EAAgEC,WAAhE,GAA8E,KAAK4G,iBAAL,CAAuB,CAAvB,CAA9E;AACA7B,sBAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqE+M,KAArE,GAA6E,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,GAAlB,EAAuB,GAAvB,CAA7E;AACA/B,sBAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEQ,YAArE,CAAkFd,GAAGuN,YAArF,EAAmGF,KAAnG,GAA2G,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,EAAlB,EAAsB,EAAtB,CAA3G;AACP;AACJ,KAxlB2B;AAylB5BtK,4BAAuB,gCAASiB,KAAT,EAAe;AAClC,YAAIA,MAAM2F,OAAN,IAAiB,KAAKA,OAA1B,EAAmC;AAC/B,gBAAI3F,MAAMuK,SAAN,IAAmB,CAAvB,EAA0B;AACtB,qBAAK1B,YAAL,GAAoB7I,MAAM6I,YAA1B;AACH;AACD,iBAAKa,kBAAL,CAAwB1J,MAAMuK,SAA9B;AACH;AACJ,KAhmB2B;AAimB5BvL,0BAAqB,8BAASgB,KAAT,EAAe;AAChC,YAAIA,MAAM2F,OAAN,IAAiB,KAAKA,OAA1B,EAAmC;AAC/B,gBAAI2B,YAAY,KAAKlL,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,CAAhB;AACAiL,sBAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEQ,YAAnE,CAAgFd,GAAGe,KAAnF,EAA0F4H,MAA1F,GAAmG1E,MAAMwK,SAAzG;AACH;AACJ,KAtmB2B;AAumB5BvL,8BAAyB,kCAASe,KAAT,EAAe;AACpC,YAAIA,MAAM2F,OAAN,IAAiB,KAAKA,OAA1B,EAAmC;AAC/B,gBAAI2B,YAAY,KAAKlL,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,CAAhB;AACA,gBAAI2D,MAAMkE,IAAN,IAAc,CAAlB,EAAqB;AACjBoD,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,YAAnD,EAAiEsB,MAAjE,GAA0E,KAA1E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEsB,MAAnE,GAA4E,KAA5E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,YAAnD,EAAiEsB,MAAjE,GAA0E,IAA1E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEsB,MAAnE,GAA4E,IAA5E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEQ,YAAnE,CAAgFd,GAAGe,KAAnF,EAA0F4H,MAA1F,GAAmG1E,MAAMyK,WAAzG;AACH,aAND,MAMK;AACDnD,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,YAAnD,EAAiEsB,MAAjE,GAA0E,IAA1E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEsB,MAAnE,GAA4E,IAA5E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,YAAnD,EAAiEsB,MAAjE,GAA0E,KAA1E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEsB,MAAnE,GAA4E,KAA5E;AACA2J,0BAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,cAAnD,EAAmEQ,YAAnE,CAAgFd,GAAGe,KAAnF,EAA0F4H,MAA1F,GAAmG1E,MAAM2I,0BAAzG;AACH;AACJ;AACJ,KAxnB2B;AAynB5BzK,wBAAmB,4BAASmG,UAAT,EAAoB;AACnC,YAAIA,WAAWnH,MAAX,IAAqB,KAAKmE,SAA9B,EAAyC;AACrCyC,oBAAQC,GAAR,CAAY,uBAAuBM,WAAWnH,MAAlC,GAA2C,aAA3C,GAAyD,KAAKmE,SAA1E;AACA;AACH;AACD,YAAIqJ,aAAW,CAAf;AACA,aAAKxI,QAAL,GAAgB,EAAhB;AACA,aAAKyI,WAAL,GAAmB,EAAnB;AACA,YAAInD,eAAa,KAAKoD,mBAAL,EAAjB;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIxG,WAAWnC,QAAX,CAAoBmD,MAAxC,EAAgDwF,GAAhD,EAAqD;AACjD,gBAAG,KAAKF,WAAL,CAAiBG,OAAjB,CAAyBzG,WAAWnC,QAAX,CAAoB2I,CAApB,EAAuBE,OAAhD,IAAyD,CAAC,CAA7D,EAA+D;AAC3D,yBAD2D,CAChD;AACd;AACD,iBAAKJ,WAAL,CAAiBK,IAAjB,CAAsB3G,WAAWnC,QAAX,CAAoB2I,CAApB,EAAuBE,OAA7C;AACA,gBAAGvD,aAAanC,MAAb,GAAoB,CAApB,IAAyBmC,aAAasD,OAAb,CAAqBzG,WAAWnC,QAAX,CAAoB2I,CAApB,EAAuBhK,KAAvB,CAA6B4H,QAA7B,EAArB,KAA+D,CAAC,CAA5F,EAA8F;AAC1F;AACH;AACDpE,uBAAWnC,QAAX,CAAoB2I,CAApB,EAAuBI,OAAvB,GAA+B,EAA/B;AACA,gBAAG5G,WAAWnC,QAAX,CAAoB2I,CAApB,EAAuBK,KAAvB,GAA6B,CAAhC,EAAkC;AAC9B,oBAAGR,cAAY,KAAKrE,QAAjB,IAA6B,KAAKA,QAAL,GAAc,CAA9C,EAAgD;AAC5C;AACH;AACD,qBAAKnE,QAAL,CAAc8I,IAAd,CAAmB3G,WAAWnC,QAAX,CAAoB2I,CAApB,CAAnB;AACAH;AACH,aAND,MAMK;AACD,qBAAKxI,QAAL,CAAc8I,IAAd,CAAmB3G,WAAWnC,QAAX,CAAoB2I,CAApB,CAAnB;AACH;AACJ;AACD;AACA,aAAKjJ,eAAL,GAAqB,EAArB;AACA,aAAKC,iBAAL,GAAuB,EAAvB;AACA,aAAKsJ,aAAL,CAAmB,KAAKjJ,QAAxB;AACH,KAzpB2B;AA0pB5BkJ,mBAAc,uBAASC,QAAT,EAAkB;AAC5B,YAAIC,aAAW,KAAKpL,WAAL,CAAiBqL,iBAAjB,CAAmCF,QAAnC,CAAf;AACA,eAAO,KAAKnL,WAAL,CAAiBsL,gBAAjB,CAAkCF,UAAlC,CAAP;AACH,KA7pB2B;AA8pB5BG,iBAAY,qBAASC,MAAT,EAAgB;AACxB,eAAO,KAAKxL,WAAL,CAAiBsL,gBAAjB,CAAkCE,MAAlC,CAAP;AACH,KAhqB2B;AAiqB5BC,mBAAc,uBAASD,MAAT,EAAgB;AAC1B,eAAO,KAAKxL,WAAL,CAAiB0L,kBAAjB,CAAoCF,MAApC,CAAP;AACH,KAnqB2B;AAoqB5BG,cAAS,kBAASR,QAAT,EAAkBS,OAAlB,EAA0B;AAC/B,YAAIC,QAAMnQ,IAAIoQ,cAAJ,GAAqBC,KAArB,CAA2BZ,QAA3B,EAAoCS,OAApC,CAAV;AACA,eAAOC,KAAP;AACH,KAvqB2B;AAwqB5BG,kBAAa,sBAASC,QAAT,EAAkB;AAC3B;AACA,eAAO,KAAP;AACH,KA3qB2B;AA4qB5BC,cAAS,kBAAShQ,IAAT,EAAciQ,SAAd,EAAwBpB,OAAxB,EAAgC;AACrC,YAAIqB,YAAU,KAAKC,YAAL,EAAd;AACA,YAAGD,YAAU,CAAb,EAAe;AACXlQ,iBAAKC,cAAL,CAAoB,aAApB,EAAmCA,cAAnC,CAAkD,OAAlD,EAA2DsB,MAA3D,GAAkE,KAAlE;AACAvB,iBAAKC,cAAL,CAAoB,aAApB,EAAmCA,cAAnC,CAAkD,OAAlD,EAA2DsB,MAA3D,GAAkE,KAAlE;AACAvB,iBAAKC,cAAL,CAAoB,aAApB,EAAmCA,cAAnC,CAAkD,OAAlD,EAA2DsB,MAA3D,GAAkE,KAAlE;AACAvB,iBAAKC,cAAL,CAAoB,aAApB,EAAmCA,cAAnC,CAAkD,OAAlD,EAA2DsB,MAA3D,GAAkE,KAAlE;AACA,gBAAI6O,MAAIF,YAAU,CAAlB;AACA,gBAAGD,aAAW,CAAd,EAAgB;AACZjQ,qBAAKS,YAAL,CAAkBd,GAAGuG,MAArB,EAA6BC,WAA7B,GAAyC,KAAKkK,MAAL,CAAYD,MAAI,CAAhB,CAAzC;AACH,aAFD,MAEM,IAAGH,aAAW,CAAd,EAAgB;AAClBjQ,qBAAKS,YAAL,CAAkBd,GAAGuG,MAArB,EAA6BC,WAA7B,GAAyC,KAAKkK,MAAL,CAAYD,MAAI,CAAhB,CAAzC;AACH,aAFK,MAEA,IAAGH,aAAW,CAAd,EAAgB;AAClBjQ,qBAAKS,YAAL,CAAkBd,GAAGuG,MAArB,EAA6BC,WAA7B,GAAyC,KAAKkK,MAAL,CAAYD,MAAI,CAAhB,CAAzC;AACH;AACD,iBAAI,IAAI3B,IAAE,CAAV,EAAYA,IAAEI,QAAQ5F,MAAtB,EAA6BwF,GAA7B,EAAiC;AAC7B,oBAAGA,IAAE,CAAL,EAAO;AACH;AACH;AACD,oBAAIhG,SAASoG,QAAQJ,CAAR,EAAW,KAAX,CAAb;AACA,oBAAGhG,SAAO,CAAV,EAAY;AACR,wBAAIb,OAAOiH,QAAQJ,CAAR,EAAW,MAAX,CAAX;AACA,wBAAI/F,eAAemG,QAAQJ,CAAR,EAAW,cAAX,CAAnB;AACA,wBAAI6B,WAAStQ,KAAKC,cAAL,CAAoB,aAApB,EAAmCA,cAAnC,CAAkD,UAAQwO,IAAE,CAAV,CAAlD,CAAb;AACA6B,6BAAS/O,MAAT,GAAgB,IAAhB;AACA+O,6BAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,IAA/C,EAAqDQ,YAArD,CAAkEd,GAAGe,KAArE,EAA4E4H,MAA5E,GAAmFV,KAAK2I,MAAL,CAAY,CAAZ,EAAc,CAAd,CAAnF;AACA,wBAAG9H,SAAO,CAAV,EAAY;AACR,4BAAI+H,WAASF,SAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,MAA/C,CAAb;AACA,6BAAK2B,aAAL,CAAmB6O,iBAAnB,CAAqChI,MAArC,EAA6CC,YAA7C;AACA,4BAAIgI,kBAAgBF,SAAS/P,YAAT,CAAsB,iBAAtB,CAApB;AACAiQ,wCAAgB5H,MAAhB;AACA4H,wCAAgB3H,YAAhB,CAA6BN,MAA7B,EAAoCC,YAApC;AACA;AACA,4BAAG,KAAKqB,eAAL,IAAsB,CAAzB,EAA2B;AACvBuG,qCAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,QAA/C,EAAyDsB,MAAzD,GAAgE,KAAKuO,YAAL,CAAkBjB,QAAQJ,CAAR,EAAWkC,aAA7B,CAAhE;AACH,yBAFD,MAEK;AACDL,qCAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,QAA/C,EAAyDsB,MAAzD,GAAgE,KAAhE;AACH;AACD,4BAAIqP,UAAQN,SAASrQ,cAAT,CAAwB,SAAxB,CAAZ;AACA,4BAAG4O,QAAQJ,CAAR,EAAWoC,MAAX,IAAmB,KAAK5L,SAAxB,IAAqC,KAAK6E,cAAL,IAAqB,IAA7D,EAAkE;AAC9D,gCAAG8G,OAAH,EAAW;AACPA,wCAAQrP,MAAR,GAAe,IAAf;AACH,6BAFD,MAEK;AACD,oCAAIuP,aAAanR,GAAGoR,WAAH,CAAe,KAAKC,YAApB,CAAjB;AACAF,2CAAWlJ,IAAX,GAAgB,SAAhB;AACA0I,yCAASW,QAAT,CAAkBH,UAAlB;AACH;AACJ,yBARD,MAQK;AACD,gCAAGF,OAAH,EAAW;AACPA,wCAAQrP,MAAR,GAAe,KAAf;AACH;AACJ;AAEJ;AACJ;AACJ;AACJ,SAtDD,MAsDM,IAAG2O,aAAW,CAAd,EAAgB;AAClB;AACA,iBAAI,IAAIzB,KAAE,CAAV,EAAYA,MAAG,CAAf,EAAiBA,IAAjB,EAAqB;AAAE;AACnB,oBAAIyC,OAAKlR,KAAKC,cAAL,CAAoB,aAApB,EAAmCA,cAAnC,CAAkD,SAAOwO,EAAzD,CAAT;AACA,oBAAGyC,IAAH,EAAQ;AACJA,yBAAK3P,MAAL,GAAY,KAAZ;AACH;AACJ;AACD,iBAAI,IAAIkN,MAAE,CAAV,EAAYA,MAAEI,QAAQ5F,MAAtB,EAA6BwF,KAA7B,EAAiC;AAC7B,oBAAIhG,UAASoG,QAAQJ,GAAR,EAAW,KAAX,CAAb;AACA,oBAAGhG,UAAO,CAAV,EAAY;AACR,wBAAIb,QAAOiH,QAAQJ,GAAR,EAAW,MAAX,CAAX;AACA,wBAAI/F,gBAAemG,QAAQJ,GAAR,EAAW,cAAX,CAAnB;AACA,wBAAI6B,YAAStQ,KAAKC,cAAL,CAAoB,aAApB,EAAmCA,cAAnC,CAAkD,UAAQwO,MAAE,CAAV,CAAlD,CAAb;AACA6B,8BAAS/O,MAAT,GAAgB,IAAhB;AACA+O,8BAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,IAA/C,EAAqDQ,YAArD,CAAkEd,GAAGe,KAArE,EAA4E4H,MAA5E,GAAmFV,MAAK2I,MAAL,CAAY,CAAZ,EAAc,CAAd,CAAnF;AACA,wBAAG9H,UAAO,CAAV,EAAY;AACR,4BAAI+H,YAASF,UAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,MAA/C,CAAb;AACA,6BAAK2B,aAAL,CAAmB6O,iBAAnB,CAAqChI,OAArC,EAA6CC,aAA7C;AACA,4BAAIgI,mBAAgBF,UAAS/P,YAAT,CAAsB,iBAAtB,CAApB;AACAiQ,yCAAgB5H,MAAhB;AACA4H,yCAAgB3H,YAAhB,CAA6BN,OAA7B,EAAoCC,aAApC;AACA;AACA,4BAAG,KAAKqB,eAAL,IAAsB,CAAzB,EAA2B;AACvBuG,sCAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,QAA/C,EAAyDsB,MAAzD,GAAgE,KAAKuO,YAAL,CAAkBjB,QAAQJ,GAAR,EAAWkC,aAA7B,CAAhE;AACH,yBAFD,MAEK;AACDL,sCAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,QAA/C,EAAyDsB,MAAzD,GAAgE,KAAhE;AACH;AACD,4BAAIqP,WAAQN,UAASrQ,cAAT,CAAwB,SAAxB,CAAZ;AACA,4BAAG4O,QAAQJ,GAAR,EAAWoC,MAAX,IAAmB,KAAK5L,SAAxB,IAAqC,KAAK6E,cAAL,IAAqB,IAA7D,EAAkE;AAC9D,gCAAG8G,QAAH,EAAW;AACPA,yCAAQrP,MAAR,GAAe,IAAf;AACH,6BAFD,MAEK;AACD,oCAAIuP,cAAanR,GAAGoR,WAAH,CAAe,KAAKC,YAApB,CAAjB;AACAF,4CAAWlJ,IAAX,GAAgB,SAAhB;AACA0I,0CAASW,QAAT,CAAkBH,WAAlB;AACH;AACJ,yBARD,MAQK;AACD,gCAAGF,QAAH,EAAW;AACPA,yCAAQrP,MAAR,GAAe,KAAf;AACH;AACJ;AACJ;AACJ;AACJ;AAEJ,SA9CK,MA8CA,IAAG2O,aAAW,CAAd,EAAgB;AAClB,iBAAI,IAAIzB,MAAE,CAAV,EAAYA,OAAG,CAAf,EAAiBA,KAAjB,EAAqB;AAAE;AACnB,oBAAIyC,QAAKlR,KAAKC,cAAL,CAAoB,aAApB,EAAmCA,cAAnC,CAAkD,SAAOwO,GAAzD,CAAT;AACA,oBAAGyC,KAAH,EAAQ;AACJA,0BAAK3P,MAAL,GAAY,KAAZ;AACH;AACJ;;AAED,iBAAI,IAAIkN,MAAE,CAAV,EAAYA,MAAEI,QAAQ5F,MAAtB,EAA6BwF,KAA7B,EAAiC;AAC7B,oBAAGA,MAAE,CAAL,EAAO;AACH;AACH;AACD,oBAAIhG,WAASoG,QAAQJ,GAAR,EAAW,KAAX,CAAb;AACA,oBAAGhG,WAAO,CAAV,EAAY;AACR,wBAAIb,SAAOiH,QAAQJ,GAAR,EAAW,MAAX,CAAX;AACA,wBAAI/F,iBAAemG,QAAQJ,GAAR,EAAW,cAAX,CAAnB;AACA,wBAAI6B,aAAStQ,KAAKC,cAAL,CAAoB,aAApB,EAAmCA,cAAnC,CAAkD,UAAQwO,MAAE,CAAV,CAAlD,CAAb;AACA6B,+BAAS/O,MAAT,GAAgB,IAAhB;AACA+O,+BAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,IAA/C,EAAqDQ,YAArD,CAAkEd,GAAGe,KAArE,EAA4E4H,MAA5E,GAAmFV,OAAK2I,MAAL,CAAY,CAAZ,EAAc,CAAd,CAAnF;AACA,wBAAG9H,WAAO,CAAV,EAAY;AACR,4BAAI+H,aAASF,WAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,MAA/C,CAAb;AACA,6BAAK2B,aAAL,CAAmB6O,iBAAnB,CAAqChI,QAArC,EAA6CC,cAA7C;AACA,4BAAIgI,oBAAgBF,WAAS/P,YAAT,CAAsB,iBAAtB,CAApB;AACAiQ,0CAAgB5H,MAAhB;AACA4H,0CAAgB3H,YAAhB,CAA6BN,QAA7B,EAAoCC,cAApC;AACA;AACA,4BAAG,KAAKqB,eAAL,IAAsB,CAAzB,EAA2B;AACvBuG,uCAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,QAA/C,EAAyDsB,MAAzD,GAAgE,KAAKuO,YAAL,CAAkBjB,QAAQJ,GAAR,EAAWkC,aAA7B,CAAhE;AACH,yBAFD,MAEK;AACDL,uCAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,QAA/C,EAAyDsB,MAAzD,GAAgE,KAAhE;AACH;AACD,4BAAIqP,YAAQN,WAASrQ,cAAT,CAAwB,SAAxB,CAAZ;AACA,4BAAG4O,QAAQJ,GAAR,EAAWoC,MAAX,IAAmB,KAAK5L,SAAxB,IAAqC,KAAK6E,cAAL,IAAqB,IAA7D,EAAkE;AAC9D,gCAAG8G,SAAH,EAAW;AACPA,0CAAQrP,MAAR,GAAe,IAAf;AACH,6BAFD,MAEK;AACD,oCAAIuP,eAAanR,GAAGoR,WAAH,CAAe,KAAKC,YAApB,CAAjB;AACAF,6CAAWlJ,IAAX,GAAgB,SAAhB;AACA0I,2CAASW,QAAT,CAAkBH,YAAlB;AACH;AACJ,yBARD,MAQK;AACD,gCAAGF,SAAH,EAAW;AACPA,0CAAQrP,MAAR,GAAe,KAAf;AACH;AACJ;AAEJ;AACJ;AACJ;AACJ,SAjDK,MAiDA,IAAG2O,aAAW,CAAX,IAAgBA,aAAW,CAA9B,EAAgC;AAClC;AACA,iBAAI,IAAIzB,MAAE,CAAV,EAAYA,OAAG,EAAf,EAAkBA,KAAlB,EAAsB;AAAE;AACpB,oBAAIyC,SAAKlR,KAAKC,cAAL,CAAoB,aAApB,EAAmCA,cAAnC,CAAkD,SAAOwO,GAAzD,CAAT;AACA,oBAAGyC,MAAH,EAAQ;AACJA,2BAAK3P,MAAL,GAAY,KAAZ;AACH;AACJ;;AAED,iBAAI,IAAIkN,MAAE,CAAV,EAAYA,MAAEI,QAAQ5F,MAAtB,EAA6BwF,KAA7B,EAAiC;AAC7B,oBAAGA,MAAE,CAAL,EAAO;AACH;AACH;AACD,oBAAIhG,WAASoG,QAAQJ,GAAR,EAAW,KAAX,CAAb;AACA,oBAAGhG,WAAO,CAAV,EAAY;AACR,wBAAIb,SAAOiH,QAAQJ,GAAR,EAAW,MAAX,CAAX;AACA,wBAAI/F,iBAAemG,QAAQJ,GAAR,EAAW,cAAX,CAAnB;AACA,wBAAI6B,aAAStQ,KAAKC,cAAL,CAAoB,aAApB,EAAmCA,cAAnC,CAAkD,UAAQwO,MAAE,CAAV,CAAlD,CAAb;AACA6B,+BAAS/O,MAAT,GAAgB,IAAhB;AACA+O,+BAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,IAA/C,EAAqDQ,YAArD,CAAkEd,GAAGe,KAArE,EAA4E4H,MAA5E,GAAmFV,OAAK2I,MAAL,CAAY,CAAZ,EAAc,CAAd,CAAnF;AACA,wBAAG9H,WAAO,CAAV,EAAY;AACR,4BAAI+H,aAASF,WAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,MAA/C,CAAb;AACA,6BAAK2B,aAAL,CAAmB6O,iBAAnB,CAAqChI,QAArC,EAA6CC,cAA7C;AACA,4BAAIgI,oBAAgBF,WAAS/P,YAAT,CAAsB,iBAAtB,CAApB;AACAiQ,0CAAgB5H,MAAhB;AACA4H,0CAAgB3H,YAAhB,CAA6BN,QAA7B,EAAoCC,cAApC;AACA;AACA,4BAAG,KAAKqB,eAAL,IAAsB,CAAzB,EAA2B;AACvBuG,uCAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,QAA/C,EAAyDsB,MAAzD,GAAgE,KAAKuO,YAAL,CAAkBjB,QAAQJ,GAAR,EAAWkC,aAA7B,CAAhE;AACH,yBAFD,MAEK;AACDL,uCAASrQ,cAAT,CAAwB,MAAxB,EAAgCA,cAAhC,CAA+C,QAA/C,EAAyDsB,MAAzD,GAAgE,KAAhE;AACH;AACD,4BAAIqP,YAAQN,WAASrQ,cAAT,CAAwB,SAAxB,CAAZ;AACA,4BAAG4O,QAAQJ,GAAR,EAAWoC,MAAX,IAAmB,KAAK5L,SAAxB,IAAqC,KAAK6E,cAAL,IAAqB,IAA7D,EAAkE;AAC9D,gCAAG8G,SAAH,EAAW;AACPA,0CAAQrP,MAAR,GAAe,IAAf;AACH,6BAFD,MAEK;AACD,oCAAIuP,eAAanR,GAAGoR,WAAH,CAAe,KAAKC,YAApB,CAAjB;AACAF,6CAAWlJ,IAAX,GAAgB,SAAhB;AACA0I,2CAASW,QAAT,CAAkBH,YAAlB;AACH;AACJ,yBARD,MAQK;AACD,gCAAGF,SAAH,EAAW;AACPA,0CAAQrP,MAAR,GAAe,KAAf;AACH;AACJ;AAEJ;AACJ;AACJ;AACJ;AACJ,KAt3B2B;AAu3B5BY,yBAAoB,6BAASyB,KAAT,EAAe;AAC/B,YAAIuN,SAASvN,MAAMwN,cAAN,CAAqBD,MAAlC;AACA,YAAIpD,MAAMnK,MAAMwN,cAAN,CAAqBC,WAArB,CAAiCtD,GAA3C;AACA,YAAID,UAAUtO,IAAI4I,WAAJ,GAAkBC,eAAlB,CAAkC,KAAlC,CAAd;AACA,YAAGyF,WAAWC,GAAd,EAAkB;AACd,gBAAGvO,IAAIuF,WAAJ,GAAkBuM,SAAlB,IAA+BH,MAA/B,IACC3R,IAAIuF,WAAJ,GAAkBwM,SAAlB,IAA+BJ,MADhC,IAEC3R,IAAIuF,WAAJ,GAAkByM,UAAlB,IAAgCL,MAFpC,EAE2C;AACvC3R,oBAAIuF,WAAJ,GAAkB8I,cAAlB,CAAiC,KAAK5I,SAAtC;AACAzF,oBAAIuF,WAAJ,GAAkB8B,eAAlB;AACH;AACJ;AACJ,KAn4B2B;AAo4B5B3E,uBAAkB,2BAAS+F,UAAT,EAAoB;AAClC,YAAI7C,WAAW5F,IAAIuF,WAAJ,GAAkBM,WAAlB,EAAf;AACA,YAAIoM,QAAQxJ,WAAWyJ,kBAAvB;AACA,YAAI5D,UAAUtO,IAAI4I,WAAJ,GAAkBC,eAAlB,CAAkC,KAAlC,CAAd;AACA,aAAKsJ,YAAL,GAAoB,EAApB;AACA,aAAI,IAAIlD,IAAE,CAAV,EAAYA,IAAErJ,SAAS6D,MAAvB,EAA8BwF,GAA9B,EAAkC;AAC9B,iBAAI,IAAImD,IAAE,CAAV,EAAYA,IAAEH,MAAMxI,MAApB,EAA2B2I,GAA3B,EAA+B;AAC3B,oBAAG,KAAK3M,SAAL,IAAgBG,SAASqJ,CAAT,EAAYtJ,EAA/B,EAAkC;AAC9B;AACA,wBAAGC,SAASqJ,CAAT,EAAYtJ,EAAZ,IAAkBsM,MAAMG,CAAN,EAAS9Q,MAA3B,IAAqC2Q,MAAMG,CAAN,EAASC,QAAT,IAAqBJ,MAAMG,CAAN,EAASE,iBAAtE,EAAwF;AACpF,4BAAIC,QAAQvS,IAAIuF,WAAJ,GAAkBiN,SAAlB,CAA4BP,MAAMG,CAAN,EAAS9Q,MAArC,EAA4CgN,OAA5C,CAAZ;AACA,4BAAGiE,KAAH,EACI,KAAKJ,YAAL,CAAkB/C,IAAlB,CAAuB6C,MAAMG,CAAN,CAAvB;AACJ;AACH;AACJ;AACJ;AACJ;;AAED,YAAG,KAAK,KAAKD,YAAL,CAAkB1I,MAA1B,EAAiC;AAC7B,iBAAKgJ,iBAAL,CACI,8BADJ,EAEI,KAAKnO,WAAL,CAAiBoO,SAFrB,EAGI,CAAC,KAAKP,YAAL,CAAkB,CAAlB,EAAqB9Q,QAAtB,EAA+B,KAAK8Q,YAAL,CAAkB,CAAlB,EAAqBG,iBAApD,CAHJ,EAII,CAAC,KAAKH,YAAL,CAAkB,CAAlB,EAAqB7Q,MAAtB,CAJJ;AAMH;AACJ,KA/5B2B;AAg6B5BqR,mBAAc,uBAASxD,OAAT,EAAiB;AAC3B,YAAIyD,QAAQ,KAAK7D,WAAL,CAAiBG,OAAjB,CAAyBC,OAAzB,CAAZ;AACA,YAAIyD,QAAQ,CAAC,CAAb,EAAgB;AACZ,iBAAK7D,WAAL,CAAiB8D,MAAjB,CAAwBD,KAAxB,EAA+B,CAA/B;AACH;AACJ,KAr6B2B;AAs6B5BrQ,4BAAuB,gCAASkG,UAAT,EAAoB;AACvC,YAAI,OAAOA,WAAWnH,MAAlB,IAA2B,WAA3B,IAA0CmH,WAAWnH,MAAX,IAAqB,KAAKmE,SAAxE,EAAmF;AAC/E;AACH;AACD,YAAI,OAAOgD,WAAWsB,OAAlB,IAA4B,WAA5B,IAA2CtB,WAAWsB,OAAX,IAAsB,KAAKA,OAA1E,EAAmF;AAC/E;AACH;AACD,YAAI+I,WAASrK,WAAWsK,YAAxB;AACA,YAAIC,UAAQF,SAASE,OAArB;AACA,YAAIvJ,SAAO,KAAKnD,QAAL,CAAcmD,MAAzB;AACA,YAAIwJ,WAAS,KAAb;AACA,aAAI,IAAIhE,IAAE,CAAV,EAAYA,IAAExF,MAAd,EAAqBwF,GAArB,EAAyB;AACrB,gBAAG6D,SAAS3D,OAAT,IAAkB,KAAK7I,QAAL,CAAc2I,CAAd,EAAiBE,OAAtC,EAA8C;AAC1C,oBAAG6D,WAAS,IAAZ,EAAiB;AACb,yBAAKL,aAAL,CAAmBG,SAAS3D,OAA5B;AACA,yBAAK7I,QAAL,CAAcuM,MAAd,CAAqB5D,CAArB,EAAuB,CAAvB;AACA,yBAAKiE,qBAAL,CAA2BJ,QAA3B;AACA;AACH,iBALD,MAKK;AACD,yBAAKxM,QAAL,CAAc2I,CAAd,IAAiB6D,QAAjB;AACAG,+BAAS,IAAT;AACA,wBAAIE,YAAU,KAAKC,WAAL,CAAiBN,SAAS3D,OAA1B,CAAd;AACA,wBAAGgE,aAAW,IAAd,EAAmB;AACf,4BAAGA,UAAUE,SAAV,IAAqB,IAAxB,EAA6B;AACzB,iCAAKC,mBAAL,CAAyBR,QAAzB;AACH,yBAFD,MAEK;AACD,iCAAKS,WAAL,CAAiBC,SAAjB,EAA4BV,QAA5B;AACA;AACA,iCAAKzN,oBAAL,CAA0B+J,IAA1B,CAA+B,GAA/B;AACH;AACJ;AACD;AACH;AACJ;AACJ;AACD;AACA,YAAG6D,YAAU,KAAV,IAAmBD,WAAS,KAA/B,EAAqC;AACjC,gBAAIpH,eAAa,KAAKoD,mBAAL,EAAjB;AACA,gBAAGpD,aAAanC,MAAb,GAAoB,CAApB,IAAyBmC,aAAasD,OAAb,CAAqB4D,SAAS7N,KAAT,CAAe4H,QAAf,EAArB,KAAiD,CAAC,CAA9E,EAAgF;AAC5E;AACH;AACD,iBAAKvG,QAAL,CAAc8I,IAAd,CAAmB0D,QAAnB;AACA,iBAAK/D,WAAL,CAAiBK,IAAjB,CAAsB0D,SAAS3D,OAA/B;AACA,iBAAKsE,gBAAL,CAAsBX,QAAtB;AACA,iBAAKzN,oBAAL,CAA0B+J,IAA1B,CAA+B,GAA/B;AACA;AACH;AACJ,KAr9B2B;;AAu9B5BJ,yBAAoB,+BAAU;AAC1B,YAAIpD,eAAa,EAAjB;AACA,YAAG,KAAK7B,OAAL,GAAa,CAAhB,EAAkB;AACd,iBAAK6B,YAAL,GAAoB7G,aAAa0B,OAAb,CAAqB,aAAW,KAAKsD,OAAhB,GAAwB,GAAxB,GAA4B,KAAKtE,SAAtD,CAApB;AACA,gBAAG,OAAO,KAAKmG,YAAZ,IAA2B,WAA3B,IAA0C,KAAKA,YAAL,IAAmB,EAA7D,IAAoE,KAAKA,YAAL,IAAmB,IAA1F,EAA+F;AAC3FA,+BAAa,KAAKA,YAAL,CAAkBS,KAAlB,CAAwB,GAAxB,CAAb;AACH;AACJ;AACD,eAAOT,YAAP;AACH,KAh+B2B;;AAk+B5BnJ,yBAAoB,6BAASgG,UAAT,EAAoB;AACpC,YAAIqK,WAASrK,UAAb;AACA,YAAIgB,SAAO,KAAKnD,QAAL,CAAcmD,MAAzB;AACA,YAAIiK,WAAW,IAAf;AACA,aAAI,IAAIzE,IAAE,CAAV,EAAYA,IAAExF,MAAd,EAAqBwF,GAArB,EAAyB;AACrB,gBAAG6D,SAAS3D,OAAT,IAAkB,KAAK7I,QAAL,CAAc2I,CAAd,EAAiBE,OAAtC,EAA8C;AAC1C,qBAAK7I,QAAL,CAAc2I,CAAd,EAAiBK,KAAjB,GAAuBwD,SAASxD,KAAhC;AACA,qBAAKhJ,QAAL,CAAc2I,CAAd,EAAiBhE,IAAjB,GAAsB6H,SAAS7H,IAA/B;AACAyI,2BAAW,KAAKpN,QAAL,CAAc2I,CAAd,CAAX;AACA;AACH;AACJ;AACD,YAAIyE,YAAY,IAAhB,EAAsB;AAClB,gBAAIP,YAAU,KAAKC,WAAL,CAAiBM,SAASvE,OAA1B,CAAd;AACA,gBAAGgE,aAAW,IAAd,EAAmB;AACf,oBAAGA,UAAUE,SAAV,IAAqB,IAAxB,EAA6B;AACzB,yBAAKC,mBAAL,CAAyBI,QAAzB;AACH,iBAFD,MAEK;AACD,yBAAKH,WAAL,CAAiBJ,SAAjB,EAA2BO,QAA3B;AACA;AACA,yBAAKrO,oBAAL,CAA0B+J,IAA1B,CAA+B,GAA/B;AACH;AACJ;AACJ;AACJ,KA1/B2B;AA2/B5B5M,4BAAuB,gCAASiG,UAAT,EAAoB;AACvC,YAAIkL,cAAc,IAAlB;AACA,aAAI,IAAI1E,IAAE,CAAV,EAAYA,IAAE,KAAK3I,QAAL,CAAcmD,MAA5B,EAAmCwF,GAAnC,EAAuC;AACnC,gBAAGxG,WAAW0G,OAAX,IAAoB,KAAK7I,QAAL,CAAc2I,CAAd,EAAiBE,OAAxC,EAAgD;AAC5C,oBAAG,CAAC,KAAK7I,QAAL,CAAc2I,CAAd,EAAiBI,OAArB,EAA6B;AACzB,yBAAK/I,QAAL,CAAc2I,CAAd,EAAiBI,OAAjB,GAAyB,EAAzB;AACH;AACD,qBAAK/I,QAAL,CAAc2I,CAAd,EAAiBI,OAAjB,CAAyB5G,WAAW,KAAX,EAAkBmL,GAA3C,IAAgDnL,WAAW,KAAX,CAAhD;AACA,qBAAKnC,QAAL,CAAc2I,CAAd,EAAiBhE,IAAjB,GAAwBxC,WAAW,MAAX,CAAxB;AACAkL,8BAAc,KAAKrN,QAAL,CAAc2I,CAAd,CAAd;AACA;AACH;AACJ;AACD,YAAI0E,eAAe,IAAnB,EAAyB;AACrB,gBAAIR,YAAU,KAAKC,WAAL,CAAiBO,YAAYxE,OAA7B,CAAd;AACA,gBAAGgE,aAAW,IAAd,EAAmB;AACf,oBAAGA,UAAUE,SAAV,IAAqB,IAAxB,EAA6B;AACzB,yBAAKC,mBAAL,CAAyBK,WAAzB;AACH,iBAFD,MAEK;AACD,yBAAKJ,WAAL,CAAiBJ,SAAjB,EAA4BQ,WAA5B;AACA;AACA,yBAAKtO,oBAAL,CAA0B+J,IAA1B,CAA+B,GAA/B;AACH;AACJ;AACJ;AACJ,KAphC2B;AAqhC5ByE,iBAAY,qBAASC,IAAT,EAAcC,OAAd,EAAsB;AAC9B;AACA,aAAKxN,kBAAL,CAAwB,KAAKhF,QAA7B;AACA,aAAI,IAAI0N,IAAE,CAAV,EAAYA,KAAG8E,OAAf,EAAuB9E,GAAvB,EAA2B;AACvB,gBAAI+E,WAAW7T,GAAGoR,WAAH,CAAe,KAAK/P,SAApB,CAAf;AACA,gBAAGyN,KAAG6E,IAAN,EAAW;AACPE,yBAASvT,cAAT,CAAwB,IAAxB,EAA8BsB,MAA9B,GAAqC,IAArC;AACH;AACDiS,qBAASjS,MAAT,GAAgB,IAAhB;AACA,iBAAKR,QAAL,CAAckQ,QAAd,CAAuBuC,QAAvB;AACH;AACJ,KAhiC2B;AAiiC5B7P,qBAAgB,2BAAU;AACtB,aAAK2B,cAAL,IAAuB,CAAvB;AACA;AACH,KApiC2B;AAqiC5BmO,eAAU,qBAAU;AAChB,YAAIC,SAAO/T,GAAG4F,GAAH,CAAOhB,YAAP,CAAoB0B,OAApB,CAA4B,WAA5B,CAAX;AACA,YAAIyN,UAAU,IAAV,IAAkB,OAAOA,MAAP,IAAkB,WAAxC,EAAqD;AAClD/T,eAAG4F,GAAH,CAAOhB,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,EAAyC,GAAzC;AACAkP,qBAAS,CAAT;AACF;AACD,eAAOA,MAAP;AACH,KA5iC2B;AA6iC5B3E,mBAAc,uBAASjJ,QAAT,EAAkB;AAC5B,YAAIrC,iBAAiB,KAAKzD,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,MAAtD,CAArB;AACAwD,uBAAehD,YAAf,CAA4Bd,GAAG+D,UAA/B,EAA2CiQ,YAA3C;AACA,aAAK5N,kBAAL,CAAwB,KAAK1F,YAA7B;AACA,YAAIqT,SAAO,KAAKD,SAAL,EAAX;AACA,YAAGC,SAAO,CAAV,EAAY;AACR,iBAAKrT,YAAL,CAAkBuT,MAAlB,GAAyB,GAAzB;AACA,iBAAKvT,YAAL,CAAkBI,YAAlB,CAA+Bd,GAAGkU,MAAlC,EAA0CC,QAA1C,GAAmD,EAAnD;AAEH,SAJD,MAIM,IAAGJ,UAAQ,CAAX,EAAa;AACf,iBAAKrT,YAAL,CAAkBuT,MAAlB,GAAyB,GAAzB;AACA,iBAAKvT,YAAL,CAAkBI,YAAlB,CAA+Bd,GAAGkU,MAAlC,EAA0CC,QAA1C,GAAmD,CAAnD;AACH,SAHK,MAGA,IAAGJ,UAAQ,CAAR,IAAaA,UAAQ,CAAxB,EAA0B;AAC5B,iBAAKrT,YAAL,CAAkBuT,MAAlB,GAAyB,GAAzB;AACA,iBAAKvT,YAAL,CAAkBI,YAAlB,CAA+Bd,GAAGkU,MAAlC,EAA0CC,QAA1C,GAAmD,CAAnD;AACH,SAHK,MAGA,IAAGJ,UAAQ,CAAX,EAAa;AACf,iBAAKrT,YAAL,CAAkBuT,MAAlB,GAAyB,GAAzB;AACA,iBAAKvT,YAAL,CAAkBI,YAAlB,CAA+Bd,GAAGkU,MAAlC,EAA0CC,QAA1C,GAAmD,CAAnD;AACA,iBAAKzT,YAAL,CAAkBI,YAAlB,CAA+Bd,GAAGkU,MAAlC,EAA0CE,QAA1C,GAAmD,GAAnD;AACH;AACD,aAAI,IAAItF,IAAE,CAAV,EAAYA,IAAE3I,SAASmD,MAAvB,EAA8BwF,GAA9B,EAAkC;AAC9B;AACA,gBAAIuF,UAAU,KAAd;AACA,iBAAK,IAAIpC,IAAI,CAAb,EAAgBA,IAAI,KAAKvR,YAAL,CAAkB4T,QAAlB,CAA2BhL,MAA/C,EAAuD2I,GAAvD,EAA4D;AACxD,oBAAI,KAAKvR,YAAL,CAAkB4T,QAAlB,CAA2BrC,CAA3B,EAA8BjD,OAA9B,IAAyC7I,SAAS2I,CAAT,EAAYE,OAAzD,EAAkE;AAC9DqF,8BAAU,IAAV;AACA;AACH;AACJ;AACD,gBAAIA,OAAJ,EAAY;AACRtM,wBAAQC,GAAR,CAAY,+BAA6B7B,SAAS2I,CAAT,EAAYE,OAArD;AACA;AACH;AACD,gBAAIuF,OAAO,IAAIvU,GAAGuD,IAAP,EAAX;AACA,gBAAGwQ,SAAO,CAAV,EAAY;AACRQ,qBAAKC,KAAL,GAAW,GAAX;AACAD,qBAAKN,MAAL,GAAY,GAAZ;AACAM,qBAAKrB,SAAL,GAAe,KAAf;AACH,aAJD,MAIM,IAAGa,UAAQ,CAAX,EAAa;AACfQ,qBAAKC,KAAL,GAAW,GAAX;AACAD,qBAAKN,MAAL,GAAY,GAAZ;AACAM,qBAAKrB,SAAL,GAAe,KAAf;AACH,aAJK,MAIA,IAAGa,UAAQ,CAAR,IAAaA,UAAQ,CAAxB,EAA0B;AAC5BQ,qBAAKC,KAAL,GAAW,GAAX;AACAD,qBAAKN,MAAL,GAAY,GAAZ;AACAM,qBAAKrB,SAAL,GAAe,KAAf;AACH,aAJK,MAIA,IAAGa,UAAQ,CAAX,EAAa;AACfQ,qBAAKC,KAAL,GAAW,GAAX;AACAD,qBAAKN,MAAL,GAAY,GAAZ;AACAM,qBAAKrB,SAAL,GAAe,KAAf;AACH;AACDqB,iBAAKvF,OAAL,GAAa7I,SAAS2I,CAAT,EAAYE,OAAzB;AACAuF,iBAAKjE,SAAL,GAAenK,SAAS2I,CAAT,EAAYwB,SAA3B;AACAiE,iBAAK5E,MAAL,GAAYxJ,SAAS2I,CAAT,EAAYa,MAAxB;AACA4E,iBAAKzP,KAAL,GAAaqB,SAAS2I,CAAT,EAAYhK,KAAzB;AACAyP,iBAAKzJ,IAAL,GAAW3E,SAAS2I,CAAT,EAAYhE,IAAvB;AACAyJ,iBAAKE,MAAL,GAAY,KAAKC,SAAL,CAAevO,SAAS2I,CAAT,EAAYhE,IAA3B,EAAgC3E,SAAS2I,CAAT,EAAYhK,KAA5C,CAAZ;AACAyP,iBAAKI,SAAL,GAAe,KAAKD,SAAL,CAAevO,SAAS2I,CAAT,EAAYhE,IAA3B,EAAgC3E,SAAS2I,CAAT,EAAYhK,KAA5C,CAAf;AACAyP,iBAAK3S,MAAL,GAAY,IAAZ;AACA,iBAAKlB,YAAL,CAAkB4Q,QAAlB,CAA2BiD,IAA3B;AACH;AACD;AACA,aAAK,IAAIzF,MAAI,CAAb,EAAgBA,MAAI,KAAKpO,YAAL,CAAkB4T,QAAlB,CAA2BhL,MAA/C,EAAuDwF,KAAvD,EAA4D;AACxD,iBAAK,IAAImD,KAAI,CAAb,EAAgBA,KAAI,KAAK9L,QAAL,CAAcmD,MAAlC,EAA0C2I,IAA1C,EAA+C;AAC3C,oBAAG,KAAK9L,QAAL,CAAc8L,EAAd,EAAiBjD,OAAjB,IAA0B,KAAKtO,YAAL,CAAkB4T,QAAlB,CAA2BxF,GAA3B,EAA8BE,OAA3D,EAAmE;AAC/D,yBAAKoE,WAAL,CAAiB,KAAK1S,YAAL,CAAkB4T,QAAlB,CAA2BxF,GAA3B,CAAjB,EAAgD,KAAK3I,QAAL,CAAc8L,EAAd,CAAhD;AACH;AACJ;AACJ;AACD,aAAK7J,gBAAL;AACH,KAnnC2B;AAonC5BwM,iBAAY,qBAAS5F,OAAT,EAAiB;AACzB,aAAK,IAAIiD,IAAI,CAAb,EAAgBA,IAAI,KAAK9L,QAAL,CAAcmD,MAAlC,EAA0C2I,GAA1C,EAA+C;AAC3C,gBAAG,KAAK9L,QAAL,CAAc8L,CAAd,EAAiBjD,OAAjB,IAA0BA,OAA7B,EAAqC;AACjC,uBAAO,KAAK7I,QAAL,CAAc8L,CAAd,CAAP;AACH;AACJ;AACJ,KA1nC2B;AA2nC5BgB,iBAAY,qBAASjE,OAAT,EAAiB;AACzB,aAAK,IAAIF,IAAI,CAAb,EAAgBA,IAAI,KAAKpO,YAAL,CAAkB4T,QAAlB,CAA2BhL,MAA/C,EAAuDwF,GAAvD,EAA4D;AACxD,gBAAG,KAAKpO,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,EAA8BE,OAA9B,IAAuCA,OAA1C,EAAkD;AAC9C,uBAAO,KAAKtO,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,CAAP;AACH;AACJ;AACD,eAAO,IAAP;AACH,KAloC2B;;AAooC5BtH,oBAAe,0BAAU;AACrB,YAAG,KAAKtC,oBAAL,CAA0BoE,MAA1B,GAAiC,CAApC,EAAsC;AAClC,iBAAKpE,oBAAL,GAA0B,EAA1B;AACA,iBAAKkD,gBAAL;AACH;AACJ,KAzoC2B;AA0oC5BA,sBAAiB,4BAAU;AACvB,YAAItE,iBAAiB,KAAKzD,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,MAAtD,CAArB;AACA,YAAIuU,eAAa/Q,eAAehD,YAAf,CAA4Bd,GAAG+D,UAA/B,EAA2C+Q,eAA3C,EAAjB;AACA,YAAIC,WAASF,aAAaG,CAA1B;AACA,aAAKtU,YAAL,CAAkBI,YAAlB,CAA+Bd,GAAGkU,MAAlC,EAA0Ce,YAA1C;AACA,YAAIC,eAAa,EAAjB;AACA;AACA,aAAK,IAAIpG,IAAI,CAAb,EAAgBA,IAAI,KAAKpO,YAAL,CAAkB4T,QAAlB,CAA2BhL,MAA/C,EAAuDwF,GAAvD,EAA4D;AACxD,gBAAG,KAAKpO,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,EAA8BkG,CAA9B,GAAgCD,QAAhC,GAAyC,IAA5C,EAAiD;AAC7C;AACA,oBAAG,KAAKrU,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,EAA8BoE,SAA9B,IAAyC,KAA5C,EAAkD;AAC9C;AACA;AACA,yBAAKxS,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,EAA8BoE,SAA9B,GAAwC,IAAxC,CAH8C,CAGA;AAC9C;AACA;AACA,wBAAIlE,UAAQ,KAAKtO,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,EAA8BE,OAA1C;AACA,wBAAIsB,YAAU,KAAK5P,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,EAA8BwB,SAA5C;AACA,wBAAIX,SAAO,KAAKjP,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,EAA8Ba,MAAzC;AACA,wBAAI7K,QAAM,KAAKpE,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,EAA8BhK,KAAxC;AACA,wBAAIgG,OAAK,KAAKpK,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,EAA8BhE,IAAvC;AACA,wBAAIqK,WAAS,KAAKzU,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,CAAb;AACA,wBAAG,KAAKjJ,eAAL,CAAqBkJ,OAArB,CAA6BC,OAA7B,IAAsC,CAAC,CAA1C,EAA4C;AACxC,4BAAGmG,QAAH,EAAY;AACRA,qCAASC,OAAT;AACH;AACD;AACH;AACD,yBAAKvP,eAAL,CAAqBoJ,IAArB,CAA0BD,OAA1B;AACAmG,6BAASvT,MAAT,GAAgB,KAAhB,CAnB8C,CAmBxB;AACtBsT,iCAAajG,IAAb,CAAkBoG,SAASrG,OAAT,CAAlB;AACA;AACA;AACH;AAEJ;AACJ;AACD,YAAGkG,aAAa5L,MAAb,GAAoB,CAAvB,EAAyB;AACrB,iBAAKgM,iBAAL,CAAuBJ,YAAvB;AACH;AACD,aAAKxU,YAAL,CAAkBI,YAAlB,CAA+Bd,GAAGkU,MAAlC,EAA0Ce,YAA1C;AACH,KAnrC2B;;AAqrC5BM,sBAAiB,0BAAShB,IAAT,EAAczP,KAAd,EAAoB6K,MAApB,EAA2B;AACxC,YAAIoE,SAAO,KAAKD,SAAL,EAAX;AACA,YAAGC,UAAQ,CAAX,EAAa;AACT;AACA,gBAAIyB,iBAAejB,KAAKjU,cAAL,CAAoB,gBAApB,CAAnB,CAFS,CAEkD;AAC3D,gBAAGkV,cAAH,EAAkB;AACdA,+BAAe1U,YAAf,CAA4Bd,GAAGuG,MAA/B,EAAuCC,WAAvC,GAAmD,KAAKiP,qBAAL,CAA2B3Q,QAAM,EAAjC,CAAnD;AACA;AACH;AACD,gBAAI4Q,sBAAoBnB,KAAKjU,cAAL,CAAoB,qBAApB,CAAxB,CAPS,CAO4D;AACrE,gBAAGoV,mBAAH,EAAuB;AACnBA,oCAAoB5U,YAApB,CAAiCd,GAAGuG,MAApC,EAA4CC,WAA5C,GAAwD,KAAKmP,kBAAL,CAAwB7Q,QAAM,EAA9B,CAAxD;AACA;AACH;AACD,gBAAI8Q,wBAAsBrB,KAAKjU,cAAL,CAAoB,uBAApB,CAA1B,CAZS,CAYgE;AACzE,gBAAGsV,qBAAH,EAAyB;AACrBA,sCAAsB9U,YAAtB,CAAmCd,GAAGuG,MAAtC,EAA8CC,WAA9C,GAA0D,KAAKqP,oBAAL,CAA0B/Q,QAAM,EAAhC,CAA1D;AACA;AACH;AACJ;AACJ,KAzsC2B;AA0sC5BwQ,uBAAkB,2BAASJ,YAAT,EAAsB;AACpC,YAAIY,WAAS,EAAb;AACA,YAAIrQ,WAAW5F,IAAIuF,WAAJ,GAAkB2Q,mBAAlB,CAAsC,KAAKzQ,SAA3C,CAAf;AACA,aAAKqE,UAAL,GAAkBlE,SAASmE,OAA3B;AACA,YAAG,KAAKD,UAAL,GAAgB,CAAnB,EAAqB;AACjBmM,uBAAS,yBAAT;AACH,SAFD,MAEK;AACDA,uBAAS,uBAAT;AACH;AACD,YAAIlP,OAAK,IAAT;AACA/G,YAAI+H,UAAJ,GAAiBC,QAAjB,CAA0BiO,QAA1B,EAAmC,EAAC,UAAS,KAAKxQ,SAAf,EAAyB,WAAU,KAAKqE,UAAxC,EAAmD,WAAUuL,YAA7D,EAAnC,EAA8G,UAAS5M,UAAT,EAAoB;AAC9HP,oBAAQC,GAAR,CAAY,cAAY,IAAIgO,IAAJ,GAAWC,OAAX,EAAxB;AACA,iBAAI,IAAInH,IAAE,CAAV,EAAYA,IAAExG,WAAWnC,QAAX,CAAoBmD,MAAlC,EAAyCwF,GAAzC,EAA6C;AACzClI,qBAAKsP,cAAL,CAAoB5N,WAAWnC,QAAX,CAAoB2I,CAApB,CAApB;AACH;AACJ,SALD,EAKE,UAASqH,KAAT,EAAe;AACbpO,oBAAQC,GAAR,CAAY,eAAZ;AACH,SAPD;AASH,KA7tC2B;;AA+tC5BkO,oBAAe,wBAAS5N,UAAT,EAAoB;AAC/B,YAAIqK,WAASrK,UAAb;AACA,YAAIgB,SAAO,KAAKnD,QAAL,CAAcmD,MAAzB;AACA,YAAIiK,WAAW,IAAf;AACA,aAAI,IAAIzE,IAAE,CAAV,EAAYA,IAAExF,MAAd,EAAqBwF,GAArB,EAAyB;AACrB,gBAAG6D,SAAS3D,OAAT,IAAkB,KAAK7I,QAAL,CAAc2I,CAAd,EAAiBE,OAAtC,EAA8C;AAC1C,qBAAK7I,QAAL,CAAc2I,CAAd,EAAiBsH,QAAjB,GAA0BzD,SAASyD,QAAnC;AACA,qBAAKjQ,QAAL,CAAc2I,CAAd,EAAiBuH,QAAjB,GAA0B1D,SAAS0D,QAAnC;AACA,qBAAKlQ,QAAL,CAAc2I,CAAd,EAAiBwH,mBAAjB,GAAqC3D,SAAS2D,mBAA9C;AACA,qBAAKnQ,QAAL,CAAc2I,CAAd,EAAiByH,QAAjB,GAA0B5D,SAAS4D,QAAnC;AACA,qBAAKpQ,QAAL,CAAc2I,CAAd,EAAiBI,OAAjB,GAAyByD,SAASzD,OAAlC;AACAqE,2BAAS,KAAKpN,QAAL,CAAc2I,CAAd,CAAT;AACA;AACH;AACJ;AACD,YAAGyE,YAAU,IAAb,EAAkB;AACd,iBAAI,IAAIzE,MAAE,CAAV,EAAYA,MAAE,KAAKpO,YAAL,CAAkB4T,QAAlB,CAA2BhL,MAAzC,EAAgDwF,KAAhD,EAAoD;AAChD,oBAAG,KAAKpO,YAAL,CAAkB4T,QAAlB,CAA2BxF,GAA3B,EAA8BE,OAA9B,IAAuC2D,SAAS3D,OAAnD,EAA2D;AACvD,yBAAKtO,YAAL,CAAkB4T,QAAlB,CAA2BxF,GAA3B,EAA8BsG,OAA9B;AACA;AACH;AACJ;AACD;AACH;AACD,aAAI,IAAItG,MAAE,CAAV,EAAYA,MAAE,KAAKpO,YAAL,CAAkB4T,QAAlB,CAA2BhL,MAAzC,EAAgDwF,KAAhD,EAAoD;AAChD,gBAAG,KAAKpO,YAAL,CAAkB4T,QAAlB,CAA2BxF,GAA3B,EAA8BE,OAA9B,IAAuCuE,SAASvE,OAAnD,EAA2D;AACvD,oBAAG,KAAKlJ,iBAAL,CAAuBiJ,OAAvB,CAA+BwE,SAASvE,OAAxC,IAAiD,CAAC,CAArD,EAAuD;AACnD,0BADmD,CAC5C;AACV;AACD,qBAAKlJ,iBAAL,CAAuBmJ,IAAvB,CAA4BsE,SAASvE,OAArC;AACA,qBAAKwH,YAAL,CAAkB,KAAKC,WAAL,CAAiB,KAAK/V,YAAL,CAAkB4T,QAAlB,CAA2BxF,GAA3B,CAAjB,CAAlB,EAAkEyE,QAAlE;AACA;AACH;AACJ;AACJ,KAjwC2B;AAkwC5BkD,iBAAY,qBAAStB,QAAT,EAAkB;AAC1B,YAAIZ,OAAM,EAAV;AACA,YAAIR,SAAO,KAAKD,SAAL,EAAX;AACA,YAAIa,YAAUQ,SAASR,SAAvB;AACA,YAAIF,SAAOU,SAASV,MAApB;AACA,YAAIzF,UAAQmG,SAASnG,OAArB;AACA,YAAIsB,YAAU6E,SAAS7E,SAAvB;AACA,YAAIX,SAAOwF,SAASxF,MAApB;AACA,YAAI7K,QAAMqQ,SAASrQ,KAAnB;AACA,YAAIgG,OAAKqK,SAASrK,IAAlB;;AAEA,YAAGiJ,SAAO,CAAV,EAAY;AACRQ,mBAAOvU,GAAGoR,WAAH,CAAe,KAAKzQ,QAApB,CAAP;AACH,SAFD,MAEM,IAAGoT,UAAQ,CAAX,EAAa;AACf,gBAAI2C,YAAUrB,SAAS/E,SAAT,IAAoB,CAAlC;AACA,gBAAGoG,YAAU,CAAb,EAAe;AACXA,4BAAU,CAAV;AACH;AACD,gBAAIA,aAAa,CAAjB,EAAoB;AAChBA,4BAAY,CAAZ,CADgB,CACF;AACjB;AACDnC,mBAAOvU,GAAGoR,WAAH,CAAe,KAAKuF,MAAL,CAAYD,SAAZ,CAAf,CAAP;AACAnC,iBAAKjR,EAAL,CAAQ,OAAR,EAAgB,KAAKsT,cAArB,EAAoC,IAApC;AACArC,iBAAKjU,cAAL,CAAoB,YAApB,EAAkCgD,EAAlC,CAAqC,OAArC,EAA6C,KAAKuT,gBAAlD,EAAmE,IAAnE;AACH,SAXK,MAWA,IAAG9C,UAAQ,CAAX,EAAa;AACf,gBAAI2C,aAAUrB,SAAS/E,SAAT,IAAoB,CAAlC;AACA,gBAAGoG,aAAU,CAAb,EAAe;AACXA,6BAAU,CAAV;AACH;AACD,gBAAIA,cAAa,CAAjB,EAAoB;AAChBA,6BAAY,CAAZ,CADgB,CACF;AACjB;AACD,gBAAGpG,YAAU,CAAb,EAAe;AACX;AACAiE,uBAAOvU,GAAGoR,WAAH,CAAe,KAAK0F,cAAL,CAAoBJ,UAApB,CAAf,CAAP;AAEH,aAJD,MAIK;AACD;AACA,oBAAIK,SAAO,KAAK5S,WAAL,CAAiB0L,kBAAjB,CAAoCF,MAApC,KAA+C,EAA1D;AACA,oBAAGoH,OAAOhI,OAAP,CAAe,KAAf,IAAsB,CAAC,CAAvB,IAA4BgI,OAAOhI,OAAP,CAAe,KAAf,IAAsB,CAAC,CAAtD,EAAwD;AACpDwF,2BAAOvU,GAAGoR,WAAH,CAAe,KAAK4F,mBAAL,CAAyBN,UAAzB,CAAf,CAAP;AACH,iBAFD,MAEK;AACDnC,2BAAOvU,GAAGoR,WAAH,CAAe,KAAK0F,cAAL,CAAoBJ,UAApB,CAAf,CAAP;AAEH;AAEJ;AACD,iBAAKnB,gBAAL,CAAsBhB,IAAtB,EAA2BzP,KAA3B,EAAiC6K,MAAjC;AACA4E,iBAAKjR,EAAL,CAAQ,OAAR,EAAgB,KAAKsT,cAArB,EAAoC,IAApC;AACArC,iBAAKjU,cAAL,CAAoB,YAApB,EAAkCgD,EAAlC,CAAqC,OAArC,EAA6C,KAAKuT,gBAAlD,EAAmE,IAAnE;AACH,SA1BK,MA0BA,IAAG9C,UAAQ,CAAR,IAAaA,UAAQ,CAAxB,EAA0B;AAC5B,gBAAI2C,cAAUrB,SAAS/E,SAAT,IAAoB,CAAlC;AACA,gBAAGoG,cAAU,CAAb,EAAe;AACXA,8BAAU,CAAV;AACH;AACD,gBAAIA,eAAa,KAAKO,eAAL,CAAqB3N,MAAtC,EAA8C;AAC1CoN,8BAAY,KAAKO,eAAL,CAAqB3N,MAArB,GAA4B,CAAxC,CAD0C,CACA;AAC7C;AACDiL,mBAAOvU,GAAGoR,WAAH,CAAe,KAAK6F,eAAL,CAAqBP,WAArB,CAAf,CAAP;AACC;AACD,gBAAIK,UAAO,KAAK5S,WAAL,CAAiB0L,kBAAjB,CAAoCF,MAApC,CAAX;AACA,gBAAIuH,SAAO,KAAX;AACA,gBAAGH,QAAOhI,OAAP,CAAe,KAAf,IAAsB,CAAC,CAAvB,IAA4BgI,QAAOhI,OAAP,CAAe,KAAf,IAAsB,CAAC,CAAnD,IAAwDuB,YAAU,CAArE,EAAuE;AACnE4G,yBAAO,IAAP,CADmE,CACtD;AAChB;;AAED;AACA,gBAAG5G,aAAW,EAAd,EAAiB;;AAEb,oBAAGyD,UAAQ,CAAX,EAAa;AACT,wBAAIQ,KAAKjU,cAAL,CAAoB,IAApB,CAAJ,EAA+B;AAC3BiU,6BAAKjU,cAAL,CAAoB,IAApB,EAA0BQ,YAA1B,CAAuCd,GAAGuG,MAA1C,EAAkDC,WAAlD,GAA8D,KAAK2Q,qBAAL,CAA2B7G,YAAU,CAArC,CAA9D;AACH;AACD;AAHA,yBAIKiE,KAAKzT,YAAL,CAAkBd,GAAGuG,MAArB,EAA6BC,WAA7B,GAAyC,KAAK2Q,qBAAL,CAA2B7G,YAAU,CAArC,CAAzC;AACR,iBAND,MAMM,IAAGyD,UAAQ,CAAX,EAAa;AACf;AACA,wBAAIQ,KAAKjU,cAAL,CAAoB,IAApB,CAAJ,EAA+B;AAC3BiU,6BAAKjU,cAAL,CAAoB,IAApB,EAA0BQ,YAA1B,CAAuCd,GAAGuG,MAA1C,EAAkDC,WAAlD,GAA8D,KAAK4Q,oBAAL,CAA0B9G,YAAU,CAApC,CAA9D;AACH,qBAFD,MAGKiE,KAAKzT,YAAL,CAAkBd,GAAGuG,MAArB,EAA6BC,WAA7B,GAAyC,KAAK4Q,oBAAL,CAA0B9G,YAAU,CAApC,CAAzC;AACR;AACJ;;AAKDiE,iBAAKjR,EAAL,CAAQ,OAAR,EAAgB,KAAKsT,cAArB,EAAoC,IAApC;AACArC,iBAAKjU,cAAL,CAAoB,YAApB,EAAkCgD,EAAlC,CAAqC,OAArC,EAA6C,KAAKuT,gBAAlD,EAAmE,IAAnE;AACH;AACDtC,aAAKI,SAAL,GAAeA,SAAf;AACAJ,aAAKE,MAAL,GAAYE,SAAZ;AACAJ,aAAKvF,OAAL,GAAaA,OAAb;AACAuF,aAAKjE,SAAL,GAAeA,SAAf;AACAiE,aAAK5E,MAAL,GAAYA,MAAZ;AACA4E,aAAKzP,KAAL,GAAaA,KAAb;AACAyP,aAAKzJ,IAAL,GAAUA,IAAV;AACAyJ,aAAKrB,SAAL,GAAe,IAAf;AACAqB,aAAK3S,MAAL,GAAY,KAAZ,CAlG0B,CAkGP;AACnB,aAAKlB,YAAL,CAAkB4Q,QAAlB,CAA2BiD,IAA3B,EAnG0B,CAmGO;AACjC,YAAGY,QAAH,EAAY;AACRA,qBAASC,OAAT;AACH;AACD,eAAOb,IAAP;AACH,KA12C2B;AA22C5BiC,kBAAa,sBAASnD,SAAT,EAAmBV,QAAnB,EAA4B;AACrC,YAAG,KAAK9M,eAAL,CAAqBkJ,OAArB,CAA6B4D,SAAS3D,OAAtC,KAAgD,CAAC,CAApD,EAAsD;AAClD,iBAAKnJ,eAAL,CAAqBoJ,IAArB,CAA0B0D,SAAS3D,OAAnC;AACH;AACD,YAAIqI,iBAAiB,KAAKhX,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,gBAA/C,CAArB;AACA,YAAIgX,kBAAkBxX,QAAQ,iBAAR,CAAtB;;AAEA,YAAIyX,gBAAclE,UAAU/S,cAAV,CAAyB,WAAzB,CAAlB;AACA,YAAIkX,SAAOnE,UAAU/S,cAAV,CAAyB,QAAzB,CAAX;AACA;AACA,YAAG,KAAKkQ,YAAL,MAAqB,CAAxB,EAA0B;AACtB,gBAAG+G,aAAH,EAAiB;AACb,oBAAG5E,SAAS0D,QAAT,IAAmB,EAAtB,EAAyB;AACrBkB,kCAAczW,YAAd,CAA2Bd,GAAGe,KAA9B,EAAqC0W,QAArC,GAA8C,EAA9C;AACH,iBAFD,MAEK;AACDF,kCAAczW,YAAd,CAA2Bd,GAAGe,KAA9B,EAAqC0W,QAArC,GAA8C,EAA9C;AACH;AACJ;AACJ;AACD;AACA,YAAI,KAAK7N,OAAL,GAAe,CAAnB,EAAsB;AAClB,gBAAG2N,aAAH,EAAiB;AACbA,8BAAc3V,MAAd,GAAuB,KAAvB;AACH;AACD4V,mBAAO5V,MAAP,GAAgB,IAAhB;AACA,gBAAI8V,aAAaF,OAAOlX,cAAP,CAAsB,YAAtB,EAAoCQ,YAApC,CAAiDd,GAAGe,KAApD,CAAjB;AACA2W,uBAAW/O,MAAX,GAAoBgK,SAAS2D,mBAA7B;AACH,SAPD,MAOK;AACD,gBAAGiB,aAAH,EAAiB;AACbA,8BAAc3V,MAAd,GAAuB,IAAvB;AACH;AACD4V,mBAAO5V,MAAP,GAAgB,KAAhB;AACH;AACD;AACA,YAAG,OAAO+Q,SAAS,UAAT,CAAP,IAA8B,WAAjC,EAA6C;AACzC,gBAAGA,SAAS,UAAT,KAAsB,EAAzB,EAA4B;AACxBU,0BAAU/S,cAAV,CAAyB,UAAzB,EAAqCsB,MAArC,GAA4C,IAA5C;AACH,aAFD,MAEK;AACDyR,0BAAU/S,cAAV,CAAyB,UAAzB,EAAqCsB,MAArC,GAA4C,KAA5C;AACH;AACJ,SAND,MAMK;AACDyR,sBAAU/S,cAAV,CAAyB,UAAzB,EAAqCsB,MAArC,GAA4C,KAA5C;AACH;AACDyR,kBAAUH,SAAV,GAAoB,IAApB;AACA,YAAGqE,aAAH,EAAiB;AACbA,0BAAczW,YAAd,CAA2Bd,GAAGe,KAA9B,EAAqC4H,MAArC,GAA4C,KAAKxE,WAAL,CAAiBsL,gBAAjB,CAAkCkD,SAAShD,MAA3C,CAA5C;AACH;AACD,YAAIgI,eAActE,UAAU/S,cAAV,CAAyB,aAAzB,CAAlB;AACA,YAAGqX,YAAH,EAAgB;AACZA,yBAAa7W,YAAb,CAA0Bd,GAAGe,KAA7B,EAAoC4H,MAApC,GAA6CgK,SAAS0D,QAAtD;AACH;AACD,YAAIuB,UAAQvE,UAAU/S,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,KAAlD,CAAZ;AACA,YAAGsX,OAAH,EAAW;AACPA,oBAAQ9W,YAAR,CAAqBd,GAAGe,KAAxB,EAA+B4H,MAA/B,GAAwCgK,SAAS7N,KAAjD;AACH;AACD,YAAI+S,YAAUxE,UAAU/S,cAAV,CAAyB,OAAzB,CAAd;AACA,YAAGuX,SAAH,EAAa;AACTA,sBAAU7C,CAAV,GAAY,CAAZ;AACH;AACD,YAAI8C,aAAWzE,UAAU/S,cAAV,CAAyB,QAAzB,CAAf;AACA,YAAGwX,UAAH,EAAc;AACVA,uBAAWlW,MAAX,GAAoB,KAApB;AACAkW,uBAAWhX,YAAX,CAAwBd,GAAGe,KAA3B,EAAkC4H,MAAlC,GAAyC,EAAzC;AACH;AACD,YAAIoP,WAAW,EAAf;AACA,YAAGpF,SAAS4D,QAAT,GAAkB,GAAlB,IAAyB5D,SAAS4D,QAAT,GAAkB,GAA9C,EAAkD;AAC9C,gBAAIyB,QAAMrF,SAASrC,SAAT,IAAsBqC,SAAS4D,QAAT,GAAkB,GAAxC,CAAV;AACA,gBAAInW,OAAK4X,QAAMrF,SAASxD,KAAxB;AACA4I,uBAAS,OAAK3X,IAAL,GAAU,GAAnB;AACH,SAJD,MAKK,IAAGuS,SAAS4D,QAAT,IAAqB,GAAxB,EAA4B;AAC5BwB,uBAAS,IAAT;AACJ,SAFI,MAGA,IAAGpF,SAAS4D,QAAT,IAAqB,GAAxB,EAA4B;AAC5BwB,uBAAS,QAAT;AACJ,SAFI,MAGA,IAAGpF,SAAS4D,QAAT,IAAqB,GAAxB,EAA4B;AAC5BwB,uBAAS,SAAT;AACJ,SAFI,MAGA,IAAGpF,SAAS4D,QAAT,IAAqB,GAAxB,EAA4B;AAC5BwB,uBAAS,IAAT;AACJ,SAFI,MAGA,IAAGpF,SAAS4D,QAAT,IAAqB,GAArB,IAA4B5D,SAAShD,MAAT,IAAmB,KAAKxL,WAAL,CAAiB8T,eAAnE,EAAmF;AACnFF,uBAAS,IAAT;AACJ,SAFI,MAGA,IAAGpF,SAAS4D,QAAT,IAAqB,GAArB,IAA4B5D,SAAShD,MAAT,IAAmB,KAAKxL,WAAL,CAAiB+T,WAAnE,EAA+E;AAChF,gBAAI3B,WAAW5D,SAAS4D,QAAT,GAAkB,GAAjC;AACA,gBAAGA,YAAY,EAAf,EAAkB;AACdwB,2BAAW,IAAX;AACH,aAFD,MAEK;AACDA,2BAAW,MAAMxB,QAAjB;AACH;AACJ,SAPI,MAQA,IAAG5D,SAAS4D,QAAT,IAAqB,GAArB,IAA4B5D,SAAShD,MAAT,IAAmB,KAAKxL,WAAL,CAAiBgU,aAAnE,EAAiF;AAClFJ,uBAAWpF,SAAS4D,QAAT,GAAkB,GAAlB,GAAwB,GAAnC;AACH,SAFI,MAGD;AACAwB,uBAAS,MAAIpF,SAASxD,KAAb,GAAmB,GAAnB,GAAuBwD,SAAS4D,QAAhC,GAAyC,GAAlD;AACH;AACD,YAAG,KAAKpS,WAAL,CAAiB0L,kBAAjB,CAAoC8C,SAAShD,MAA7C,KAAwD,MAA3D,EAAkE;AAC9DoI,uBAAWpF,SAAS4D,QAAT,IAAqB,EAArB,GAA0B5D,SAAS4D,QAAT,GAAoB,GAA9C,GAAoD,MAAI5D,SAASxD,KAAb,GAAmB,GAAnB,GAAuBwD,SAAS4D,QAAhC,GAAyC,GAAxG;AACH;AACD,YAAG,KAAKpS,WAAL,CAAiB0L,kBAAjB,CAAoC8C,SAAShD,MAA7C,KAAwD,OAA3D,EAAmE;AAC/DoI,uBAAWpF,SAAS4D,QAAT,IAAqB,GAArB,GAA2B,MAAI5D,SAASxD,KAAb,GAAmB,GAAnB,GAAuB,KAAlD,GAA0D,MAAIwD,SAASxD,KAAb,GAAmB,GAAnB,GAAuBwD,SAAS4D,QAAhC,GAAyC,GAA9G;AACH;AACD,YAAG,KAAKpS,WAAL,CAAiB0L,kBAAjB,CAAoC8C,SAAShD,MAA7C,KAAwD,OAA3D,EAAmE;AAC/DoI,uBAAS,MAAIpF,SAASxD,KAAb,GAAmB,GAA5B;AACH;AACD4I,oBAAY,OAAKpF,SAASrC,SAAd,GAAwB,GAApC;AACA,YAAGuH,SAAH,EAAa;AACTA,sBAAU/W,YAAV,CAAuBd,GAAGe,KAA1B,EAAiC4H,MAAjC,GAAwCoP,QAAxC;AACH;AACD1E,kBAAUpL,IAAV,GAAe,eAAa0K,SAAS3D,OAArC;AACAqE,kBAAUrE,OAAV,GAAkB2D,SAAS3D,OAA3B;AACAqE,kBAAU1D,MAAV,GAAmBgD,SAAShD,MAA5B;AACA0D,kBAAUvO,KAAV,GAAkB6N,SAAS7N,KAA3B;AACAuO,kBAAUvI,IAAV,GAAiB6H,SAAS7H,IAA1B;AACAuI,kBAAUpL,IAAV,GAAe,cAAf;AACA,YAAImQ,UAAQ,CAAZ;AACA,aAAI,IAAInG,IAAE,CAAV,EAAYA,IAAEU,SAASzD,OAAT,CAAiB5F,MAA/B,EAAsC2I,GAAtC,EAA0C;AACtC,gBAAGU,SAASzD,OAAT,CAAiB+C,CAAjB,EAAoB7D,GAApB,GAAwB,CAA3B,EAA6B;AACzBgK;AACH;AACJ;AACD,aAAKhF,WAAL,CAAiBC,SAAjB,EAA4BV,QAA5B;AACA,YAAIA,SAASxD,KAAT,GAAiB,CAAjB,IAAsBkI,eAAevW,YAAf,CAA4Bd,GAAG8G,MAA/B,EAAuCC,SAAjE,EAA4E;AACxE;AACAsM,sBAAUzR,MAAV,GAAiB,KAAjB;AACH,SAHD,MAGK;AACDyR,sBAAUzR,MAAV,GAAiB,IAAjB;AACA,iBAAKyO,QAAL,CAAcgD,SAAd,EAAwBV,SAASrC,SAAjC,EAA2CqC,SAASzD,OAApD;AACH;AACJ,KA/+C2B;AAg/C5BwF,eAAU,mBAAS5J,IAAT,EAAchG,KAAd,EAAoB;AAC1B,YAAG,CAAC9E,GAAG4F,GAAH,CAAOyS,QAAX,EAAoB;AAChB,iBAAKvN,IAAL,GAAY,CAAZ,CADgB,CACA;AACnB;AACD,YAAG,KAAKA,IAAL,IAAW,CAAd,EAAgB;AACZ;AACA,gBAAI6J,YAAY,GAAhB;AACA,gBAAI7J,QAAQ,CAAZ,EAAe;AAAI;AACf6J,4BAAY,CAAZ;AACH,aAFD,MAEM,IAAI7J,QAAQ,CAAZ,EAAe;AAAoB;AACrC6J,4BAAY7P,KAAZ;AACH,aAFK,MAEA,IAAIgG,QAAQ,CAAZ,EAAe;AAAc;AAC/B6J,4BAAY,MAAI7P,KAAhB;AACH,aAFK,MAEA,IAAIgG,QAAQ,CAAZ,EAAe;AAAc;AAC/B6J,4BAAY,MAAK7P,KAAjB;AACH;AACD,mBAAO6P,SAAP;AACH;AACD,YAAG,KAAK7J,IAAL,IAAW,CAAd,EAAgB;AACZ;AACA,gBAAI6J,aAAY,GAAhB;AACA,gBAAG7J,QAAM,CAAT,EAAW;AACP6J,6BAAY,GAAZ,CADO,CACS;AACnB,aAFD,MAEM,IAAI7J,QAAQ,CAAZ,EAAe;AACjB6J,6BAAY,GAAZ,CADiB,CACD;AACnB,aAFK,MAEA,IAAI7J,QAAQ,CAAZ,EAAe;AAAc;AAC/B6J,6BAAY7P,KAAZ;AACH,aAFK,MAEA,IAAIgG,QAAQ,CAAZ,EAAe;AAAW;AAC5B6J,6BAAY7P,KAAZ;AACH;AACD,mBAAO6P,UAAP;AACH;;AAED,YAAG,KAAK7J,IAAL,IAAW,CAAd,EAAgB;AACZ;AACA,gBAAI6J,cAAY,GAAhB;AACA,gBAAI7J,QAAQ,CAAZ,EAAe;AAAG;AACd6J,8BAAY,MAAI7P,KAAhB;AACH,aAFD,MAEM,IAAIgG,QAAQ,CAAZ,EAAe;AAAmB;AACpC6J,8BAAY7P,KAAZ;AAEH,aAHK,MAGA,IAAIgG,QAAQ,CAAZ,EAAe;AAAkB;AACnC6J,8BAAU7P,KAAV;AAEH,aAHK,MAGA,IAAIgG,QAAQ,CAAZ,EAAe;AAAiB;AAClC6J,8BAAY,MAAI7P,KAAhB;AACH;AACD,mBAAO6P,WAAP;AACH;AACD,YAAG,KAAK7J,IAAL,IAAW,CAAd,EAAgB;AACX;AACD,gBAAI6J,cAAY,GAAhB;AACA,gBAAI7J,QAAQ,CAAZ,EAAe;AAAG;AACd6J,8BAAY,MAAI7P,KAAhB;AACH,aAFD,MAEM,IAAIgG,QAAQ,CAAZ,EAAe;AAAkB;AACnC6J,8BAAY,MAAI7P,KAAhB;AACH,aAFK,MAEA,IAAIgG,QAAQ,CAAZ,EAAe;AAAI;AACrB6J,8BAAU7P,KAAV;AACH,aAFK,MAEA,IAAIgG,QAAQ,CAAZ,EAAe;AAAG;AACpB6J,8BAAW,MAAI7P,KAAf;AACH;AACD,mBAAO6P,WAAP;AACH;AACD,eAAO7P,KAAP;AACH,KAhjD2B;AAijD5BsO,iBAAY,qBAASC,SAAT,EAAoBV,QAApB,EAA6B;AACrC,YAAGU,aAAW,IAAd,EAAmB;AACf;AACH;AACDA,kBAAUoB,MAAV,GAAmB,KAAKC,SAAL,CAAe/B,SAAS7H,IAAxB,EAA6B6H,SAAS7N,KAAtC,CAAnB;AACAuO,kBAAUiF,MAAV,CAAiBC,eAAjB;AACH,KAvjD2B;AAwjD5BpF,yBAAoB,6BAASR,QAAT,EAAkB;AAClC,YAAIU,YAAY,IAAhB;AACA,aAAK,IAAIvE,IAAI,CAAb,EAAgBA,IAAI,KAAKpO,YAAL,CAAkB4T,QAAlB,CAA2BhL,MAA/C,EAAuDwF,GAAvD,EAA4D;AACxD,gBAAG6D,SAAS3D,OAAT,IAAkB,KAAKtO,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,EAA8BE,OAAnD,EAA2D;AACvDqE,4BAAY,KAAK3S,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,CAAZ;AACA;AACH;AACJ;AACD,YAAIuE,aAAa,IAAjB,EAAuB;AACnB,iBAAKmD,YAAL,CAAkBnD,SAAlB,EAA6BV,QAA7B;AACH,SAFD,MAEK;AACD5K,oBAAQC,GAAR,CAAY,gBAAc2K,SAAS3D,OAAnC;AACH;AACJ,KArkD2B;AAskD5B+D,2BAAsB,+BAASJ,QAAT,EAAkB;AACpC,YAAIU,YAAY,IAAhB;AACA,aAAK,IAAIvE,IAAI,CAAb,EAAgBA,IAAI,KAAKpO,YAAL,CAAkB4T,QAAlB,CAA2BhL,MAA/C,EAAuDwF,GAAvD,EAA4D;AACxD,gBAAG6D,SAAS3D,OAAT,IAAkB,KAAKtO,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,EAA8BE,OAAnD,EAA2D;AACvDqE,4BAAY,KAAK3S,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,CAAZ;AACA;AACH;AACJ;AACD,YAAIuE,aAAa,IAAjB,EAAuB;AACnB,iBAAKmF,iBAAL,CAAuBnF,SAAvB;AACA;AACA;;;;;;;;;;;;;;AAcH,SAjBD,MAiBK;AACDtL,oBAAQC,GAAR,CAAY,gBAAc2K,SAAS3D,OAAnC;AACH;AACJ,KAlmD2B;AAmmD5BwB,kBAAa,wBAAU;AACnB,YAAID,YAAUvQ,GAAG4F,GAAH,CAAOhB,YAAP,CAAoB0B,OAApB,CAA4B,WAA5B,CAAd;AACA,YAAIiK,aAAa,IAAb,IAAqB,OAAOA,SAAP,IAAqB,WAA9C,EAA2D;AACvDvQ,eAAG4F,GAAH,CAAOhB,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,EAAyC,GAAzC;AACA0L,wBAAY,CAAZ;AACH;AACD,eAAOA,SAAP;AACH,KA1mD2B;AA2mD5B+C,sBAAiB,0BAASX,QAAT,EAAkB;AAC/B;AACA,YAAI0B,UAAU,KAAd;AACA,aAAK,IAAIpC,IAAI,CAAb,EAAgBA,IAAI,KAAKvR,YAAL,CAAkB4T,QAAlB,CAA2BhL,MAA/C,EAAuD2I,GAAvD,EAA4D;AACxD,gBAAI,KAAKvR,YAAL,CAAkB4T,QAAlB,CAA2BrC,CAA3B,EAA8BjD,OAA9B,IAAyC2D,SAAS3D,OAAtD,EAA+D;AAC3DqF,0BAAU,IAAV;AACA;AACH;AACJ;AACD,YAAIA,OAAJ,EAAY;AACRtM,oBAAQC,GAAR,CAAY,kCAAgC2K,SAAS3D,OAArD;AACA;AACH;AACD,YAAIuB,YAAU,KAAKC,YAAL,EAAd;AACA,YAAI6C,YAAU,EAAd;AACA,YAAG9C,YAAU,CAAb,EAAe;AACX8C,wBAAYrT,GAAGoR,WAAH,CAAe,KAAKzQ,QAApB,CAAZ;AACH,SAFD,MAEM,IAAG4P,aAAW,CAAd,EAAgB;AAClB,gBAAImG,YAAUrB,SAAS1C,SAASrC,SAAlB,IAA6B,CAA3C;AACA,gBAAGoG,YAAU,CAAb,EAAe;AACXA,4BAAU,CAAV;AACH;AACDrD,wBAAYrT,GAAGoR,WAAH,CAAe,KAAKuF,MAAL,CAAYD,SAAZ,CAAf,CAAZ;AACArD,sBAAU/P,EAAV,CAAa,OAAb,EAAqB,KAAKsT,cAA1B,EAAyC,IAAzC;AACAvD,sBAAU/S,cAAV,CAAyB,YAAzB,EAAuCgD,EAAvC,CAA0C,OAA1C,EAAkD,KAAKuT,gBAAvD,EAAwE,IAAxE;AACA;AACH,SATK,MASA,IAAGtG,aAAW,CAAd,EAAgB;AAClB,gBAAImG,cAAUrB,SAAS1C,SAASrC,SAAlB,IAA6B,CAA3C;AACA,gBAAGoG,cAAU,CAAb,EAAe;AACXA,8BAAU,CAAV;AACH;AACD,gBAAG/D,SAASrC,SAAT,GAAmB,CAAtB,EAAwB;AACpB+C,4BAAYrT,GAAGoR,WAAH,CAAe,KAAK0F,cAAL,CAAoBJ,WAApB,CAAf,CAAZ;AACH,aAFD,MAEK;AACD;AACA,oBAAIK,SAAO,KAAK5S,WAAL,CAAiB0L,kBAAjB,CAAoC8C,SAAShD,MAA7C,CAAX;AACA,oBAAGoH,OAAOhI,OAAP,CAAe,KAAf,IAAsB,CAAC,CAAvB,IAA4BgI,OAAOhI,OAAP,CAAe,KAAf,IAAsB,CAAC,CAAtD,EAAwD;AACpDsE,gCAAYrT,GAAGoR,WAAH,CAAe,KAAK4F,mBAAL,CAAyBN,WAAzB,CAAf,CAAZ;AACH,iBAFD,MAEK;AACDrD,gCAAYrT,GAAGoR,WAAH,CAAe,KAAK0F,cAAL,CAAoBJ,WAApB,CAAf,CAAZ;AACH;AACJ;AACD;AACA,iBAAKnB,gBAAL,CAAsBlC,SAAtB,EAAgCV,SAAS7N,KAAzC,EAA+C6N,SAAShD,MAAxD;AACA0D,sBAAU/P,EAAV,CAAa,OAAb,EAAqB,KAAKsT,cAA1B,EAAyC,IAAzC;AACAvD,sBAAU/S,cAAV,CAAyB,YAAzB,EAAuCgD,EAAvC,CAA0C,OAA1C,EAAkD,KAAKuT,gBAAvD,EAAwE,IAAxE;AACH,SApBK,MAoBA,IAAGtG,aAAW,CAAX,IAAgBA,aAAW,CAA9B,EAAgC;AAClC,gBAAImG,cAAUrB,SAAS1C,SAASrC,SAAlB,IAA6B,CAA3C;AACA,gBAAGoG,cAAU,CAAb,EAAe;AACXA,8BAAU,CAAV;AACH;AACD1W,eAAGgI,GAAH,CAAO,MAAP,EAAc0O,WAAd,EAAwB,KAAKO,eAAL,CAAqB3N,MAA7C;AACA+J,wBAAYrT,GAAGoR,WAAH,CAAe,KAAK6F,eAAL,CAAqBP,WAArB,CAAf,CAAZ;AACArD,sBAAU/P,EAAV,CAAa,OAAb,EAAqB,KAAKsT,cAA1B,EAAyC,IAAzC;AACAvD,sBAAU/S,cAAV,CAAyB,YAAzB,EAAuCgD,EAAvC,CAA0C,OAA1C,EAAkD,KAAKuT,gBAAvD,EAAwE,IAAxE;AACH;AACD,aAAKnW,YAAL,CAAkB4Q,QAAlB,CAA2B+B,SAA3B;AACA,aAAK3S,YAAL,CAAkBI,YAAlB,CAA+Bd,GAAGkU,MAAlC,EAA0Ce,YAA1C;AACA,aAAKuB,YAAL,CAAkBnD,SAAlB,EAA6BV,QAA7B;AACAU,kBAAUzR,MAAV,GAAiB,IAAjB;AACH,KAvqD2B;AAwqD5B6W,oBAAe,0BAAU;AACrB,YAAI7R,OAAK,IAAT;AACA,aAAKT,QAAL,CAAc2E,IAAd,CAAmB,UAAS4N,CAAT,EAAWC,CAAX,EAAa;AAC5B,gBAAGD,EAAEvJ,KAAF,IAAS,CAAT,IAAcwJ,EAAExJ,KAAF,IAAS,CAA1B,EAA4B;AACxB,uBAAOvI,KAAKgS,QAAL,CAAcD,EAAEzJ,OAAhB,IAAyBtI,KAAKgS,QAAL,CAAcF,EAAExJ,OAAhB,CAAhC;AACH,aAFD,MAEK;AACD,uBAAOwJ,EAAEvJ,KAAF,GAAQwJ,EAAExJ,KAAjB;AACH;AACJ,SAND;AAOA,eAAO,KAAKhJ,QAAZ;AACH,KAlrD2B;AAmrD5ByS,cAAS,kBAAS1J,OAAT,EAAiB;AACtB,YAAI2J,WAAS,CAAb;AACA,aAAI,IAAI/J,IAAE,CAAV,EAAYA,IAAEI,QAAQ5F,MAAtB,EAA6BwF,GAA7B,EAAiC;AAC7B,gBAAGI,QAAQJ,CAAR,CAAH,EAAc;AACV,oBAAGI,QAAQJ,CAAR,EAAWV,GAAX,GAAe,CAAlB,EAAoB;AAChByK;AACH;AACJ;AACJ;AACD,YAAGA,YAAU,CAAb,EAAe;AACX,mBAAO,CAAC,CAAR;AACH;AACD,eAAOA,QAAP;AACH,KAhsD2B;AAisD5BC,iBAAY,uBAAU;AAClB,YAAG,KAAKzP,SAAL,CAAeC,MAAf,IAAuB,CAA1B,EAA4B;AACxB,iBAAKhE,SAAL,GAAe,CAAC,CAAhB;AACA,iBAAKqE,UAAL,GAAgB,CAAC,CAAjB;AACH;AACD;AACA,aAAI,IAAImF,IAAE,CAAV,EAAYA,IAAE,KAAKvO,WAAL,CAAiB+T,QAAjB,CAA0BhL,MAAxC,EAA+CwF,GAA/C,EAAmD;AAC/C,gBAAIzO,OAAK,KAAKE,WAAL,CAAiB+T,QAAjB,CAA0BxF,CAA1B,CAAT;AACA,gBAAGzO,KAAK4H,IAAL,IAAW,cAAY,KAAK3C,SAA/B,EAAyC;AACrCjF,qBAAKS,YAAL,CAAkBd,GAAGuG,MAArB,EAA6BC,WAA7B,GAAyC,KAAKuS,OAA9C;AACH,aAFD,MAEK;AACD1Y,qBAAKS,YAAL,CAAkBd,GAAGuG,MAArB,EAA6BC,WAA7B,GAAyC,KAAKwS,QAA9C;AACH;AACJ;AACJ,KA/sD2B;AAgtD5B7R,oBAAe,0BAAU;AACrB,aAAKf,kBAAL,CAAwB,KAAK7F,WAA7B;AACA,aAAK8I,SAAL,GAAiBxJ,IAAIuF,WAAJ,GAAkBM,WAAlB,EAAjB;AACA,YAAIyI,UAAUtO,IAAI4I,WAAJ,GAAkBC,eAAlB,CAAkC,KAAlC,CAAd;AACA,YAAIuQ,YAAYpZ,IAAIuF,WAAJ,GAAkBuM,SAAlC;;AAEA,YAAG,KAAKtI,SAAL,CAAeC,MAAf,IAAuB,CAA1B,EAA4B;AACxB,iBAAK1I,MAAL,CAAYgB,MAAZ,GAAmB,KAAnB;AACH,SAFD,MAEK;AACD,iBAAKhB,MAAL,CAAYgB,MAAZ,GAAmB,IAAnB;AACH;AACD,aAAI,IAAIkN,IAAE,CAAV,EAAYA,IAAE,KAAKzF,SAAL,CAAeC,MAA7B,EAAoCwF,GAApC,EAAwC;AACpC,gBAAG,KAAKxJ,SAAL,GAAe,CAAlB,EAAoB;AAChB,qBAAKA,SAAL,GAAe,KAAK+D,SAAL,CAAeyF,CAAf,EAAkBtJ,EAAjC;AACH;AACD,gBAAI+O,OAAOvU,GAAGoR,WAAH,CAAe,KAAK5Q,QAApB,CAAX;AACA+T,iBAAKjU,cAAL,CAAoB,MAApB,EAA4BQ,YAA5B,CAAyCd,GAAGe,KAA5C,EAAmD4H,MAAnD,GAA0D,KAAKU,SAAL,CAAeyF,CAAf,EAAkB7G,IAA5E;AACAsM,iBAAKjU,cAAL,CAAoB,IAApB,EAA0BQ,YAA1B,CAAuCd,GAAGe,KAA1C,EAAiD4H,MAAjD,GAAwD,QAAM,KAAKU,SAAL,CAAeyF,CAAf,EAAkBpF,QAAhF;AACA6K,iBAAKjU,cAAL,CAAoB,QAApB,EAA8BQ,YAA9B,CAA2Cd,GAAGe,KAA9C,EAAqD4H,MAArD,GAA4D,GAA5D;AACA,gBAAI,KAAKU,SAAL,CAAeyF,CAAf,EAAkBlF,OAAlB,GAA4B,CAAhC,EAAmC;AAC/B;AACA2K,qBAAKjU,cAAL,CAAoB,QAApB,EAA8BsB,MAA9B,GAAuC,KAAvC;AACA2S,qBAAKjU,cAAL,CAAoB,SAApB,EAA+BsB,MAA/B,GAAwC,KAAxC;AACH,aAJD,MAIK;AACD2S,qBAAKjU,cAAL,CAAoB,QAApB,EAA8BsB,MAA9B,GAAuC,KAAvC;AACA2S,qBAAKjU,cAAL,CAAoB,SAApB,EAA+BsB,MAA/B,GAAwC,KAAxC;AACA;AACH;AACD2S,iBAAK3S,MAAL,GAAY,IAAZ;AACA2S,iBAAKtM,IAAL,GAAU,cAAY,KAAKoB,SAAL,CAAeyF,CAAf,EAAkBtJ,EAAxC;AACA+O,iBAAKpT,MAAL,GAAY,KAAKkI,SAAL,CAAeyF,CAAf,EAAkBtJ,EAA9B;AACA+O,iBAAK2E,QAAL,GAAc,KAAK7P,SAAL,CAAeyF,CAAf,EAAkBpF,QAAhC;AACA6K,iBAAKrT,QAAL,GAAc,KAAKmI,SAAL,CAAeyF,CAAf,EAAkB7G,IAAhC;AACAsM,iBAAK3K,OAAL,GAAa,KAAKP,SAAL,CAAeyF,CAAf,EAAkBlF,OAA/B;AACA2K,iBAAK4E,QAAL,GAAc,KAAK9P,SAAL,CAAeyF,CAAf,EAAkBqK,QAAhC;AACA,iBAAK5Y,WAAL,CAAiB+Q,QAAjB,CAA0BiD,IAA1B;AACH;AACD;AACA,aAAKuE,WAAL;AACAjZ,YAAIuF,WAAJ,GAAkBgU,mBAAlB,CAAsC,KAAK9T,SAA3C;AACH,KAxvD2B;AAyvD5BjC,mBAAc,yBAAU;AACpB,aAAK2D,MAAL,GAAY,KAAZ;AACA,aAAKc,UAAL,GAAgB,IAAhB;AACA,aAAK9B,WAAL,CAAiBE,SAAjB,CAA2B,sBAA3B;AACH,KA7vD2B;AA8vD5B;AACAmT,sBAAiB,0BAASrK,OAAT,EAAiB;AAC9B,aAAI,IAAIF,IAAE,CAAV,EAAYA,IAAE,KAAK3I,QAAL,CAAcmD,MAA5B,EAAmCwF,GAAnC,EAAuC;AACnC,gBAAG,KAAK3I,QAAL,CAAc2I,CAAd,EAAiBE,OAAjB,IAA0BA,OAA7B,EAAqC;AACjC,oBAAG,KAAK7I,QAAL,CAAc2I,CAAd,EAAiBK,KAAjB,GAAuB,CAA1B,EAA4B;AACxB,2BAAO,IAAP;AACH;AACD,uBAAO,KAAP;AACA;AACH;AACJ;AACD,eAAO,KAAP;AACH,KA1wD2B;AA2wD5B/L,kBAAa,sBAASa,KAAT,EAAe;AACxB,YAAG,KAAKe,QAAL,IAAe,IAAlB,EAAuB;AACnB;AACH;AACD,aAAKA,QAAL,GAAc,IAAd;AACA,aAAKsU,eAAL,CAAqBrV,KAArB;AACA,YAAI0D,OAAK,IAAT;AACA,aAAKF,YAAL,CAAmB,YAAU;AACzBE,iBAAK3C,QAAL,GAAc,KAAd;AACH,SAFD,EAEE,CAFF;AAGH,KArxD2B;AAsxD5BsU,qBAAgB,yBAASC,OAAT,EAAiB;AAC7B,YAAIvK,UAAUuK,QAAQvK,OAAtB,CAD6B,CACG;AAChC,YAAIlK,QAAMyU,QAAQzU,KAAlB;AACA,YAAI0U,WAAW,KAAK5J,aAAL,CAAmB2J,QAAQ5J,MAA3B,EAAmC8J,WAAnC,EAAf,CAH6B,CAGoC;AACjE;AACA,YAAIC,aAAWH,QAAQjZ,cAAR,CAAuB,UAAvB,EAAmCsB,MAAlD;AACA;AACA,YAAIwU,WAAS,EAAb;AACA,YAAGsD,UAAH,EAAc;AACVtD,uBAASxR,aAAa0B,OAAb,CAAqB,cAAY,KAAKhB,SAAjB,GAA2B,GAA3B,GAA+BR,KAApD,CAAT;AACA,gBAAGsR,YAAU,IAAV,IAAkB,OAAOA,QAAP,IAAkB,WAApC,IAAmDA,YAAU,EAAhE,EAAmE;AAC/D;AACA,qBAAKpQ,WAAL,CAAiBC,QAAjB,CAA0B,4BAA1B,EAAuDsT,OAAvD,EAA+D,KAAKjU,SAApE;AACA;AACH;AACJ;AACD,YAAG,KAAK0B,MAAL,IAAa,KAAhB,EAAsB;AAClB;AACAnH,gBAAI6G,MAAJ,CAAWiT,oBAAX,CAAgCH,QAAhC,EAA0CxK,OAA1C,EAAmD,KAAK1J,SAAxD,EAAkEsU,SAAlE,EAA4ExD,QAA5E;AAEH,SAJD,MAIK;AACD,gBAAGpH,WAAS,KAAKlH,UAAL,CAAgBkH,OAA5B,EAAoC;AAChC;AACA,oBAAG,KAAKqK,gBAAL,CAAsB,KAAKvR,UAAL,CAAgBkH,OAAtC,KAAgD,KAAnD,EAAyD;AACrD,yBAAK6K,UAAL,GAAgB,EAAC,YAAWL,QAAZ,EAAqB,WAAUxK,OAA/B,EAAuC,YAAWoH,QAAlD,EAAhB;AACA,yBAAK9D,iBAAL,CAAuB,qBAAvB,EAA6C,KAAKnO,WAAL,CAAiB2V,OAA9D,EAAsE,EAAtE,EAAyE,EAAzE;AACH,iBAHD,MAGK;AACD,wBAAIC,cAAc,KAAKnK,aAAL,CAAmB,KAAK9H,UAAL,CAAgB6H,MAAnC,EAA2C8J,WAA3C,EAAlB;AACA,yBAAKnH,iBAAL,CAAuB,aAAvB,EAAqC,KAAKnO,WAAL,CAAiB2V,OAAtD,EAA8D,CAAC,KAAK3V,WAAL,CAAiBsL,gBAAjB,CAAkC,KAAK3H,UAAL,CAAgB6H,MAAlD,CAAD,CAA9D;AACH;AACJ,aATD,MASK;AACD;AACA,oBAAIqK,iBAAiB,KAAKpK,aAAL,CAAmB,KAAK9H,UAAL,CAAgB6H,MAAnC,EAA2C8J,WAA3C,EAArB;AACA5Z,oBAAI6G,MAAJ,CAAWuT,WAAX,CAAuBD,cAAvB;AACA,qBAAKhU,WAAL,CAAiBC,QAAjB,CAA0B,gBAA1B,EAA2C+T,cAA3C,EAA0D,CAA1D,EAA4D,IAA5D,EAAiE,CAAjE,EAAmE,CAAnE,EAAqE,IAArE;AACH;AACJ;AAEJ,KA5zD2B;AA6zD5BE,sBAAiB,4BAAU,CAE1B,CA/zD2B;AAg0D5BC,4BAAuB,gCAASzB,CAAT,EAAWC,CAAX,EAAa;AAChC;AACA,YAAGD,EAAElH,MAAF,IAAU3R,IAAIuF,WAAJ,GAAkBgV,aAA/B,EAA6C;AACzC,mBAAO,CAAC,CAAR;AACH,SAFD,MAEM,IAAGzB,EAAEnH,MAAF,IAAU3R,IAAIuF,WAAJ,GAAkBgV,aAA/B,EAA6C;AAC/C,mBAAO,CAAP;AACH;AACD,YAAG1B,EAAE2B,UAAF,IAAgB1B,EAAE0B,UAArB,EACI,OAAO3B,EAAE4B,IAAF,GAAS3B,EAAE2B,IAAlB,CADJ,KAEK,IAAG,CAAC5B,EAAE2B,UAAH,IAAiB,CAAC1B,EAAE0B,UAAvB,EAAkC;AACnC,gBAAG3B,EAAElH,MAAF,IAAU3R,IAAIuF,WAAJ,GAAkBgV,aAA/B,EAA6C;AACzC,uBAAO,CAAC,CAAR;AACH,aAFD,MAEM,IAAGzB,EAAEnH,MAAF,IAAU3R,IAAIuF,WAAJ,GAAkBgV,aAA/B,EAA6C;AAC/C,uBAAO,CAAP;AACH;AACD,mBAAO1B,EAAE4B,IAAF,GAAS3B,EAAE2B,IAAlB;AACH,SAPI,MAQA,IAAG5B,EAAE2B,UAAF,IAAgB,CAAC1B,EAAE0B,UAAtB,EACD,OAAO,CAAC,CAAR,CADC,KAEA,IAAG,CAAC3B,EAAE2B,UAAH,IAAiB1B,EAAE0B,UAAtB,EACD,OAAO,CAAP;AACP,KAr1D2B;AAs1D5BzD,oBAAe,wBAAS3S,KAAT,EAAe;AAC1B,YAAI0D,OAAK,IAAT;AACA,YAAG,KAAK1C,OAAL,IAAc,IAAjB,EAAsB;AAClB,iBAAKwC,YAAL,CAAmB,YAAU;AACzBE,qBAAK1C,OAAL,GAAa,KAAb;AACH,aAFD,EAEE,GAFF;AAGA,mBAAO,KAAP;AACH;AACD,aAAKA,OAAL,GAAa,IAAb;AACA,YAAIsU,UAAUtV,MAAM5D,IAApB;AACA,aAAKiZ,eAAL,CAAqBC,OAArB;AACA,aAAK9R,YAAL,CAAmB,YAAU;AACzBE,iBAAK1C,OAAL,GAAa,KAAb;AACH,SAFD,EAEE,GAFF;AAGH,KAp2D2B;AAq2D5ByC,oBAAe,0BAAU;AACrB,YAAI6S,WAAS,KAAb;AACA,YAAGA,YAAU,KAAb,EAAmB;AACf,gBAAIC,WAAW,EAAf;AACAA,qBAASrZ,MAAT,GAAkB,KAAKmE,SAAvB;AACA,gBAAIwQ,WAAW,gCAAf;AACA,gBAAI,KAAKlM,OAAL,GAAe,CAAnB,EAAsB;AAClB4Q,yBAAS5Q,OAAT,GAAmB,KAAKA,OAAxB;AACH,aAFD,MAEK;AACD,qBAAKjF,UAAL,CAAgB,WAAhB;AACA;AACH;AACD,gBAAIgD,OAAO,IAAX;AACA9H,gBAAI+H,UAAJ,GAAiBC,QAAjB,CAA0BiO,QAA1B,EAAmC0E,QAAnC,EAA6C,UAASlS,UAAT,EAAoB;AAC7DX,qBAAK8S,eAAL,CAAqBnS,UAArB;AACH,aAFD,EAEG,YAAU;AACTX,qBAAKhD,UAAL,CAAgB,aAAhB;AACH,aAJD;AAKH,SAhBD,MAgBK;AACD,iBAAK+V,QAAL,GADC,CACe;AACnB;AAEJ,KA33D2B;AA43D5BC,iBAAY,qBAASjC,CAAT,EAAWC,CAAX,EAAa;AACrB,eAAOA,EAAE7T,KAAF,GAAQ4T,EAAE5T,KAAjB;AACH,KA93D2B;AA+3D5B2V,qBAAgB,yBAASnS,UAAT,EAAoB;AAChC,YAAI7H,OAAO,KAAKJ,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,MAAtD,CAAX;AACA,YAAIsa,UAAUna,KAAKH,cAAL,CAAoB,QAApB,CAAd;AACAG,aAAKK,YAAL,CAAkBd,GAAG+D,UAArB,EAAiC8W,WAAjC;AACA,aAAKzU,kBAAL,CAAwBwU,OAAxB;AACA,YAAIE,OAAO,KAAKza,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,MAAtD,CAAX;AACAwa,aAAKlZ,MAAL,GAAc,KAAd;AACA;AACA,YAAI6J,eAAa,KAAKoD,mBAAL,EAAjB;AACAvG,mBAAWwC,IAAX,CAAgB,KAAK6P,WAArB;AACA,aAAK,IAAI7L,IAAI,CAAb,EAAgBA,IAAIxG,WAAWgB,MAA/B,EAAuCwF,GAAvC,EAA4C;AACxC,gBAAIiM,QAAQ/a,GAAGoR,WAAH,CAAe0J,IAAf,CAAZ;AACAC,kBAAMjW,KAAN,GAAcwD,WAAWwG,CAAX,EAAchK,KAA5B;AACAiW,kBAAMC,QAAN,GAAiB1S,WAAWwG,CAAX,EAAckM,QAA/B;AACAD,kBAAM/L,OAAN,GAAgB1G,WAAWwG,CAAX,EAAcE,OAA9B;AACA+L,kBAAMpL,MAAN,GAAerH,WAAWwG,CAAX,EAAca,MAA7B;AACA,gBAAI,OAAOrH,WAAWwG,CAAX,EAAc7G,IAArB,IAA8B,WAAlC,EAA+C;AAC3C8S,sBAAMza,cAAN,CAAqB,aAArB,EAAoCQ,YAApC,CAAiDd,GAAGe,KAApD,EAA2D4H,MAA3D,GAAoEL,WAAWwG,CAAX,EAAc7G,IAAlF;AACH,aAFD,MAEK;AACD,oBAAIoO,WAAWxW,IAAIsE,WAAJ,GAAkBsL,gBAAlB,CAAmCnH,WAAWwG,CAAX,EAAca,MAAjD,CAAf;AACAoL,sBAAMza,cAAN,CAAqB,aAArB,EAAoCQ,YAApC,CAAiDd,GAAGe,KAApD,EAA2D4H,MAA3D,GAAoE0N,QAApE;AACH;AACD0E,kBAAMza,cAAN,CAAqB,UAArB,EAAiCQ,YAAjC,CAA8Cd,GAAGe,KAAjD,EAAwD4H,MAAxD,GAAiEL,WAAWwG,CAAX,EAAchK,KAA/E;AACA,gBAAImW,cAAc,EAAlB;AACA,gBAAG3S,WAAWwG,CAAX,EAAcyH,QAAd,GAAuB,GAAvB,IAA8BjO,WAAWwG,CAAX,EAAcyH,QAAd,GAAuB,GAAxD,EAA4D;AACxD,oBAAIyB,QAAM1P,WAAWwG,CAAX,EAAcoM,IAAd,IAAsB5S,WAAWwG,CAAX,EAAcyH,QAAd,GAAuB,GAA7C,CAAV;AACA0E,8BAAY3S,WAAWwG,CAAX,EAAcoM,IAAd,GAAmB,IAAnB,GAAwBlD,KAAxB,GAA8B,GAA1C;AACA,oBAAG,KAAK7T,WAAL,CAAiB0L,kBAAjB,CAAoC8C,SAAShD,MAA7C,KAAwD,QAA3D,EAAoE;AAChEoI,+BAAS,MAAIpF,SAASxD,KAAb,GAAmB,GAAnB,GAAuBwD,SAAS4D,QAAT,GAAkB,GAAzC,GAA6C,GAAtD;AACH;AACJ,aAND,MAOK,IAAGjO,WAAWwG,CAAX,EAAcyH,QAAd,IAA0B,GAA7B,EAAiC;AAClC0E,8BAAY3S,WAAWwG,CAAX,EAAcoM,IAAd,GAAmB,MAA/B;AACH,aAFI,MAGA,IAAG5S,WAAWwG,CAAX,EAAcyH,QAAd,IAA0B,GAA7B,EAAiC;AAClC0E,8BAAY3S,WAAWwG,CAAX,EAAcoM,IAAd,GAAmB,UAA/B;AACH,aAFI,MAGA,IAAG5S,WAAWwG,CAAX,EAAcyH,QAAd,IAA0B,GAA7B,EAAiC;AAClC0E,8BAAY3S,WAAWwG,CAAX,EAAcoM,IAAd,GAAmB,WAA/B;AACH,aAFI,MAGA,IAAG5S,WAAWwG,CAAX,EAAcyH,QAAd,IAA0B,GAA7B,EAAiC;AAClC0E,8BAAY3S,WAAWwG,CAAX,EAAcoM,IAAd,GAAmB,MAA/B;AACH,aAFI,MAGA,IAAG5S,WAAWwG,CAAX,EAAcqM,SAAd,IAA2B,GAA3B,IAAkC7S,WAAWwG,CAAX,EAAca,MAAd,IAAwB,KAAKxL,WAAL,CAAiB+T,WAA9E,EAA0F;AAC3F,oBAAI3B,WAAWjO,WAAWwG,CAAX,EAAcyH,QAAd,GAAuB,GAAtC;AACA,oBAAGA,YAAY,EAAf,EAAkB;AACd0E,kCAAc3S,WAAWwG,CAAX,EAAcoM,IAAd,GAAmB,MAAjC;AACH,iBAFD,MAEK;AACDD,kCAAc3S,WAAWwG,CAAX,EAAcoM,IAAd,GAAmB,KAAnB,GAA2B3E,QAAzC;AACH;AACJ,aAPI,MAQA,IAAGjO,WAAWwG,CAAX,EAAcqM,SAAd,IAA2B,GAA3B,IAAkC7S,WAAWwG,CAAX,EAAca,MAAd,IAAwB,KAAKxL,WAAL,CAAiBgU,aAA9E,EAA4F;AAC7F,oBAAI5B,YAAWjO,WAAWwG,CAAX,EAAcyH,QAAd,GAAuB,GAAtC;AACA0E,8BAAc3S,WAAWwG,CAAX,EAAcoM,IAAd,GAAmB,IAAnB,GAA0B3E,SAA1B,GAAqC,GAAnD;AACH,aAHI,MAID;AACA0E,8BAAY3S,WAAWwG,CAAX,EAAcoM,IAAd,GAAmB,IAAnB,GAAwB5S,WAAWwG,CAAX,EAAcyH,QAAtC,GAA+C,GAA3D;AACH;AACDwE,kBAAMza,cAAN,CAAqB,WAArB,EAAkCQ,YAAlC,CAA+Cd,GAAGe,KAAlD,EAAyD4H,MAAzD,GAAkEsS,WAAlE;AACAF,kBAAMnZ,MAAN,GAAe,IAAf;AACA;AACA,gBAAG6J,aAAanC,MAAb,GAAoB,CAApB,IAAyBmC,aAAasD,OAAb,CAAqBgM,MAAMjW,KAAN,CAAY4H,QAAZ,EAArB,KAA8C,CAAC,CAA3E,EAA6E;AACzEqO,sBAAMza,cAAN,CAAqB,QAArB,EAA+BQ,YAA/B,CAA4Cd,GAAG8G,MAA/C,EAAuDC,SAAvD,GAAiE,IAAjE;AACH,aAFD,MAEM,IAAG0E,aAAanC,MAAb,IAAqB,CAAxB,EAA0B;AAC5ByR,sBAAMza,cAAN,CAAqB,QAArB,EAA+BQ,YAA/B,CAA4Cd,GAAG8G,MAA/C,EAAuDC,SAAvD,GAAiE,IAAjE;AACH,aAFK,MAED;AACDgU,sBAAMza,cAAN,CAAqB,QAArB,EAA+BQ,YAA/B,CAA4Cd,GAAG8G,MAA/C,EAAuDC,SAAvD,GAAiE,KAAjE;AACH;AACD6T,oBAAQtJ,QAAR,CAAiByJ,KAAjB;AACH;AACD;AACA,YAAGtP,aAAanC,MAAb,GAAoB,CAApB,IAAyBmC,aAAanC,MAAb,IAAqBhB,WAAWgB,MAA5D,EAAmE;AAC/D,iBAAKjJ,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,aAAtD,EAAqEA,cAArE,CAAoF,WAApF,EAAiGsB,MAAjG,GAAwG,IAAxG;AACH,SAFD,MAEK;AACD,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,aAAtD,EAAqEA,cAArE,CAAoF,WAApF,EAAiGsB,MAAjG,GAAwG,KAAxG;AACH;AACD,aAAKvB,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCsB,MAAvC,GAA8C,IAA9C;;AAEA,aAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DsB,MAA9D,GAAqE,IAArE;;AAEA,aAAKxB,IAAL,CAAUwB,MAAV,GAAiB,KAAjB;AACA,aAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DA,cAA9D,CAA6E,QAA7E,EAAuFsB,MAAvF,GAA8F,IAA9F;AACH,KAj9D2B;AAk9D5BwZ,oBAAe,0BAAU;AACrB,YAAIC,WAAS,KAAKhb,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,aAAtD,EAAqEA,cAArE,CAAoF,WAApF,EAAiGsB,MAA9G;AACA,YAAInB,OAAO,KAAKJ,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,MAAtD,CAAX;AACA,YAAIsa,UAAUna,KAAKH,cAAL,CAAoB,QAApB,CAAd;AACA,aAAI,IAAIwO,IAAE,CAAV,EAAYA,IAAE8L,QAAQtG,QAAR,CAAiBhL,MAA/B,EAAsCwF,GAAtC,EAA0C;AACtC8L,oBAAQtG,QAAR,CAAiBxF,CAAjB,EAAoBxO,cAApB,CAAmC,QAAnC,EAA6CQ,YAA7C,CAA0Dd,GAAG8G,MAA7D,EAAqEC,SAArE,GAA+E,CAACsU,QAAhF;AACH;AACD,aAAKhb,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,aAAtD,EAAqEA,cAArE,CAAoF,WAApF,EAAiGsB,MAAjG,GAAwG,CAACyZ,QAAzG;AACH,KA19D2B;AA29D5BX,cAAS,kBAASY,MAAT,EAAgB;AACrB,YAAID,WAAW,KAAf;AACA,YAAIC,UAAUA,OAAOC,MAAP,CAActT,IAAd,IAAsB,aAApC,EAAmD;AAC/CqT,mBAAOC,MAAP,CAAcjb,cAAd,CAA6B,WAA7B,EAA0CsB,MAA1C,GAAmD,IAAnD;AACAyZ,uBAAW,IAAX;AACH;AACD,YAAI5P,eAAa,EAAjB;AACA,YAAIhL,OAAO,KAAKJ,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,MAAtD,CAAX;AACA,YAAIsa,UAAUna,KAAKH,cAAL,CAAoB,QAApB,CAAd;AACA,aAAI,IAAIwO,IAAE,CAAV,EAAYA,IAAE8L,QAAQtG,QAAR,CAAiBhL,MAA/B,EAAsCwF,GAAtC,EAA0C;AACtC,gBAAIuM,QAAJ,EAAc;AACVT,wBAAQtG,QAAR,CAAiBxF,CAAjB,EAAoBxO,cAApB,CAAmC,QAAnC,EAA6CQ,YAA7C,CAA0Dd,GAAG8G,MAA7D,EAAqEC,SAArE,GAA+E,IAA/E;AACH;AACD,gBAAG6T,QAAQtG,QAAR,CAAiBxF,CAAjB,EAAoBxO,cAApB,CAAmC,QAAnC,EAA6CQ,YAA7C,CAA0Dd,GAAG8G,MAA7D,EAAqEC,SAArE,IAAgF,IAAnF,EAAwF;AACpF0E,6BAAawD,IAAb,CAAkB2L,QAAQtG,QAAR,CAAiBxF,CAAjB,EAAoBhK,KAAtC;AACH;AACJ;AACD,YAAG2G,aAAanC,MAAb,IAAqB,CAArB,IAA0BsR,QAAQtG,QAAR,CAAiBhL,MAAjB,GAAwB,CAArD,EAAuD;AACnD;AACA,gBAAGgS,MAAH,EAAWA,OAAOxa,YAAP,CAAoBd,GAAG8G,MAAvB,EAA+BC,SAA/B,GAAyC,IAAzC;AACX,gBAAIyU,IAAI,KAAKnb,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,aAAtD,CAAR;AACAkb,cAAElb,cAAF,CAAiB,WAAjB,EAA8BsB,MAA9B,GAAuC,KAAvC;AACA;AACH;;AAED,YAAG6J,aAAanC,MAAb,IAAqBsR,QAAQtG,QAAR,CAAiBhL,MAAzC,EAAgD;AAC5C;AACAmC,2BAAa,EAAb,CAF4C,CAE3B;AACjB,gBAAI+P,KAAI,KAAKnb,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,aAAtD,CAAR;AACAkb,eAAElb,cAAF,CAAiB,WAAjB,EAA8BsB,MAA9B,GAAuC,IAAvC;AACH,SALD,MAMI;AACA,gBAAI4Z,MAAI,KAAKnb,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,aAAtD,CAAR;AACAkb,gBAAElb,cAAF,CAAiB,WAAjB,EAA8BsB,MAA9B,GAAuC,KAAvC;AACH;;AAED;AACA,YAAIgD,eAAe5E,GAAG4F,GAAH,CAAOhB,YAA1B;AACA,YAAG6G,aAAagQ,IAAb,CAAkB,GAAlB,KAAwB7W,aAAa0B,OAAb,CAAqB,aAAW,KAAKsD,OAAhB,GAAwB,GAAxB,GAA4B,KAAKtE,SAAtD,CAA3B,EAA4F;AACxF;AACA;AACA,iBAAKjF,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DA,cAA9D,CAA6E,QAA7E,EAAuFsB,MAAvF,GAA8F,KAA9F;AACA;AACH;;AAED,YAAG6J,aAAanC,MAAb,GAAoB,CAAvB,EAAyB;AACrB1E,yBAAaC,OAAb,CAAqB,aAAW,KAAK+E,OAAhB,GAAwB,GAAxB,GAA4B,KAAKtE,SAAtD,EAAgEmG,aAAagQ,IAAb,CAAkB,GAAlB,CAAhE;AACH,SAFD,MAEK;AACD7W,yBAAaC,OAAb,CAAqB,aAAW,KAAK+E,OAAhB,GAAwB,GAAxB,GAA4B,KAAKtE,SAAtD,EAAgE,EAAhE;AACH;;AAED;AACA,aAAKjF,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DA,cAA9D,CAA6E,QAA7E,EAAuFsB,MAAvF,GAA8F,KAA9F;AACA,aAAKc,qBAAL;AAEH,KAlhE2B;AAmhE5BmU,sBAAiB,0BAAS5S,KAAT,EAAe;AACxB,YAAIsV,UAAQtV,MAAM5D,IAAlB;AACA,YAAIma,WAAW;AACX,sBAAS,KAAKlV,SADH;AAEX,uBAAUiU,QAAQjB,MAAR,CAAetJ;AAFd,SAAf;AAIA,YAAI8G,WAAW,2BAAf;AACA,YAAInO,OAAO,IAAX;AACA,YAAI,KAAKiC,OAAL,GAAe,CAAnB,EAAsB;AAClB4Q,qBAAS5Q,OAAT,GAAmB,KAAKA,OAAxB;AACAkM,uBAAW,6BAAX;AACH;AACDjW,YAAI+H,UAAJ,GAAiBC,QAAjB,CAA0BiO,QAA1B,EAAoC0E,QAApC,EAA8C,UAASlS,UAAT,EAAoB;AAC9DX,iBAAK3B,WAAL,CAAiBC,QAAjB,CAA0B,wBAA1B,EAAmDqC,UAAnD;AACH,SAFD,EAEG,YAAU;AACTzI,gBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,YAAlC,EAA+C,EAA/C,EAAkD,CAAlD;AACH,SAJD;AAKP,KApiE2B;;AAsiE5B+W,aAAQ,iBAASC,OAAT,EAAkBpC,OAAlB,EAA0B;AAC9B,YAAG,KAAKtU,OAAL,IAAc,IAAjB,EAAsB;AAClB;AACH;AACD,YAAG,cAAc0W,OAAjB,EAAyB;AACrB,iBAAK3V,WAAL,CAAiBC,QAAjB,CAA0B,oBAA1B;AACH,SAFD,MAEM,IAAG,eAAa0V,OAAhB,EAAwB;AAC1B,iBAAKvb,IAAL,CAAUwB,MAAV,GAAiB,IAAjB;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCsB,MAAvC,GAA8C,KAA9C;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,KAAtE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,IAAtE;AACH,SALK,MAKA,IAAG,eAAa+Z,OAAhB,EAAwB;AAC1B,iBAAKvb,IAAL,CAAUwB,MAAV,GAAiB,KAAjB;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,IAAtE;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,KAAtE;AACH,SAJK,MAIA,IAAG,oBAAkB+Z,OAArB,EAA6B;AAC/B,iBAAKvb,IAAL,CAAUwB,MAAV,GAAiB,KAAjB;AACA,gBAAG,KAAKgI,OAAL,GAAa,CAAhB,EAAkB;AACd,qBAAKvJ,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DA,cAA9D,CAA6E,QAA7E,EAAuFsB,MAAvF,GAA8F,KAA9F;AACA,qBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DsB,MAA9D,GAAqE,IAArE;AACH,aAHD,MAGK;AACD,qBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,IAAtE;AACA,qBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,KAAtE;AACH;AAEJ,SAVK,MAYD,IAAG,oBAAkB+Z,OAArB,EAA6B;AAC9B,iBAAKvb,IAAL,CAAUwB,MAAV,GAAiB,IAAjB;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCsB,MAAvC,GAA8C,KAA9C;AACA,iBAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,UAAlD,EAA8DsB,MAA9D,GAAqE,KAArE;AACH,SAJI,MAMA,IAAG,cAAY+Z,OAAf,EAAuB;AACxB,gBAAG,KAAK3U,MAAL,IAAa,KAAhB,EAAsB;AAClB,qBAAKhB,WAAL,CAAiBC,QAAjB,CAA0B,yBAA1B,EAAqD,KAAKX,SAA1D,EAAqE,KAAKsE,OAA1E;AACH,aAFD,MAEK;AACD,oBAAIoQ,iBAAiBna,IAAIsE,WAAJ,GAAkB0L,kBAAlB,CAAqC,KAAK/H,UAAL,CAAgB6H,MAArD,CAArB;AACA9P,oBAAI6G,MAAJ,CAAWuT,WAAX,CAAuBD,cAAvB;AACA,qBAAKhU,WAAL,CAAiBC,QAAjB,CAA0B,gBAA1B,EAA2C+T,cAA3C,EAA0D,CAA1D,EAA4D,IAA5D,EAAiE,CAAjE,EAAmE,CAAnE,EAAqE,IAArE;AACH;AACJ,SARI,MAQC,IAAG2B,WAAS,UAAZ,EAAuB;AACzB,iBAAKjU,cAAL;AACH,SAFK,MAGD,IAAG,iBAAeiU,OAAlB,EAA0B;AAC3B,iBAAKjZ,qBAAL;AACH,SAFI,MAEC,IAAG,gBAAciZ,OAAjB,EAAyB;AAC3B,iBAAK3V,WAAL,CAAiBC,QAAjB,CAA0B,sBAA1B;AACH,SAFK,MAEA,IAAG0V,QAAQC,UAAR,CAAmB,YAAnB,CAAH,EAAoC;AACtC,gBAAI5M,UAAUuK,QAAQvK,OAAtB,CADsC,CACN;AAChC,gBAAIwK,WAAWD,QAAQjK,QAAR,CAAiBmK,WAAjB,EAAf,CAFsC,CAES;AAC/C5Z,gBAAI6G,MAAJ,CAAWiT,oBAAX,CAAgCH,QAAhC,EAA0CxK,OAA1C,EAAmD,KAAK1J,SAAxD;AACH,SAJK,MAIA,IAAGqW,QAAQC,UAAR,CAAmB,WAAnB,CAAH,EAAmC;AACrC,gBAAIza,SAAOoY,QAAQpY,MAAnB;AACA,gBAAIyI,UAAQ2P,QAAQ3P,OAApB;AACA,gBAAIiS,WAAStC,QAAQL,QAArB;AACA,gBAAIhY,WAASqY,QAAQrY,QAArB;AACA,gBAAIiY,WAASI,QAAQJ,QAArB;AACA;AACA;AACA,gBAAG,KAAK2C,UAAL,MAAmB3C,QAAtB,EAA+B;AAC3B;AACAtZ,oBAAIuF,WAAJ,GAAkB4E,eAAlB,CAAkC7I,MAAlC,EAAyC0a,QAAzC,EAAkD3a,QAAlD;AACArB,oBAAImG,WAAJ,GAAkB+V,gBAAlB;AACAlc,oBAAIuF,WAAJ,GAAkB4W,YAAlB;AACA;AACH;AACD,iBAAK9a,QAAL,CAAcyH,MAAd,GAAqBzH,QAArB;AACA,iBAAKC,MAAL,CAAYwH,MAAZ,GAAmB,QAAMkT,QAAzB;AACA,iBAAKvW,SAAL,GAAenE,MAAf;AACA,iBAAKwI,UAAL,GAAgBC,OAAhB;AACA,iBAAKA,OAAL,GAAaA,OAAb;AACA,iBAAKC,WAAL,GAAiBgS,QAAjB;AACA,iBAAK/R,WAAL,GAAiB5I,QAAjB;AACA,iBAAK4X,WAAL;AACA;AACA,gBAAIhV,iBAAiB,KAAKzD,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,MAAtD,CAArB;AACAwD,2BAAehD,YAAf,CAA4Bd,GAAG+D,UAA/B,EAA2CiQ,YAA3C;AACA,iBAAK5N,kBAAL,CAAwB,KAAK1F,YAA7B;AACAb,gBAAIuF,WAAJ,GAAkBgU,mBAAlB,CAAsC,KAAK9T,SAA3C;AACA,iBAAKa,QAAL,GAAc,EAAd;AACA;AACA;AACA;AACA,gBAAG,KAAKyD,OAAL,GAAa,CAAhB,EAAkB;AACd,qBAAKxJ,IAAL,CAAUwB,MAAV,GAAiB,KAAjB;AACH;AACJ,SAnCK,MAmCA,IAAG+Z,WAAS,YAAZ,EAAyB;AAC3B,gBAAG,KAAKrW,SAAL,GAAe,CAAlB,EAAoB;AAChB,oBAAIG,WAAW5F,IAAIuF,WAAJ,GAAkB2Q,mBAAlB,CAAsC,KAAKzQ,SAA3C,CAAf;AACA,qBAAKiF,YAAL,GAAoB9E,SAAS+E,QAA7B;AACA,oBAAG,KAAKD,YAAL,GAAkB,CAArB,EAAuB;AACnB,yBAAKvE,WAAL,CAAiBC,QAAjB,CAA0B,mBAA1B,EAA8C,KAAKX,SAAnD;AACH,iBAFD,MAEK;AACDzF,wBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,cAAlC;AACH;AACJ,aARD,MAQK;AACD9E,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,YAAlC;AAEH;AACJ,SAbK,MAcF,IAAGgX,WAAS,cAAZ,EAA2B;AAC1B,gBAAIhU,OAAK,IAAT;AACA,gBAAG,KAAK1C,OAAL,IAAc,IAAjB,EAAsB;AACnB,qBAAKwC,YAAL,CAAmB,YAAU;AACzBE,yBAAK1C,OAAL,GAAa,KAAb;AACH,iBAFD,EAEE,GAFF;AAGA,uBAAO,KAAP;AACF;AACD,iBAAKA,OAAL,GAAa,IAAb;AACA,iBAAKqU,eAAL,CAAqBC,OAArB;AACA,iBAAK9R,YAAL,CAAmB,YAAU;AAC1BE,qBAAK1C,OAAL,GAAa,KAAb;AACF,aAFD,EAEE,GAFF;AAKJ,SAfG,MAeE,IAAG0W,WAAS,UAAZ,EAAuB;AACzB;AACA,gBAAG,KAAK3V,WAAL,CAAiBiW,UAAjB,CAA4B,WAA5B,CAAH,EAA4C;AACxC,qBAAKjW,WAAL,CAAiBkW,0BAAjB,CAA4C,WAA5C,EAAyDC,iBAAzD;AACH,aAFD,MAEK;AACD,qBAAKnW,WAAL,CAAiBC,QAAjB,CAA0B,WAA1B;AACH;;AAED,iBAAKC,SAAL;AACH,SATK,MASA,IAAGyV,WAAS,aAAZ,EAA0B;AAC5B,gBAAI,KAAK/R,OAAL,GAAe,CAAnB,EAAsB;AAClB/J,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,SAAlC;AACA;AACH;AACD,gBAAG,KAAKW,SAAL,GAAe,CAAlB,EAAoB;AAChB,oBAAIG,YAAS5F,IAAIuF,WAAJ,GAAkB2Q,mBAAlB,CAAsC,KAAKzQ,SAA3C,CAAb;AACA,qBAAKiF,YAAL,GAAoB9E,UAAS+E,QAA7B;AACA,qBAAKxE,WAAL,CAAiBC,QAAjB,CAA0B,0BAA1B,EAAsD,KAAKX,SAA3D,EAAqE,KAAKsE,OAA1E,EAAkF,KAAKW,YAAvF;AACA;AACA;AACA;AACA;AACA;AACH,aATD,MASK;AACA1K,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,YAAlC;AACJ;AACJ,SAjBK,MAiBA,IAAG,kBAAkBgX,OAArB,EAA6B;AAC/B;AACA,gBAAIS,UAAU,8BAAd;AACA,gBAAI,KAAKrR,SAAL,IAAgB,CAApB,EAAuB;AACnBqR,0BAAU,kCAAV;AACH;AACD,iBAAKpW,WAAL,CAAiBC,QAAjB,CAA0BmW,OAA1B,EAAmC,KAAK9W,SAAxC,EAAmD,KAAKsE,OAAxD,EAAiE,KAAKe,cAAtE,EAAsF,KAAKK,aAA3F,EAA0G,KAAKT,YAA/G,EAA6H,KAAKU,SAAlI,EAA6I,KAAKC,SAAlJ,EAA4J,KAAKN,iBAAjK,EAAmL,KAAKC,kBAAxL,EAA2M,KAAKM,OAAhN,EAAwN,KAAKC,WAA7N,EAAyO,KAAKC,SAA9O,EAAwP,KAAKC,MAA7P;AACH,SAPK,MAOA,IAAI,qBAAqBqQ,OAAzB,EAAkC;AACpC;;AAEA9b,gBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,oCAAlC;;AAEA,gBAAI,KAAK4F,YAAL,IAAqB1K,IAAIuF,WAAJ,GAAkB0I,qBAA3C,EAAkE;AAC9D,qBAAK9H,WAAL,CAAiBC,QAAjB,CAA0B,2BAA1B,EAAuD,KAAKX,SAA5D,EAAuE,KAAKsE,OAA5E,EAAqF,KAAKa,WAA1F,EAAuG,KAAKO,aAA5G,EAA2H,KAAKT,YAAhI,EAA8I,KAAKW,SAAnJ,EAA8J,kBAA9J;AACH,aAFD,MAEK;AACD;AACA,qBAAKlF,WAAL,CAAiBC,QAAjB,CAA0B,2BAA1B,EAAuD,KAAKX,SAA5D,EAAuE,KAAKsE,OAA5E,EAAqF,KAAKa,WAA1F,EAAuG,KAAKO,aAA5G,EAA2H,KAAKT,YAAhI,EAA8I,KAAKW,SAAnJ,EAA8J,wBAA9J;AACH;AACJ,SAXK,MAYD,IAAGyQ,WAAS,cAAZ,EAA2B;AAC5B,gBAAG,KAAKrW,SAAL,GAAe,CAAlB,EAAoB;AAChB,qBAAKjF,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,cAA3E,EAA2FA,cAA3F,CAA0G,QAA1G,EAAoHsB,MAApH,GAA2H,KAA3H;AACA,qBAAKoE,WAAL,CAAiBC,QAAjB,CAA0B,wBAA1B,EAAoD,KAAKX,SAAzD,EAAoE,KAAKsE,OAAzE,EAAkF,KAAKqB,SAAvF,EAAkG,KAAKC,SAAvG;AACH,aAHD,MAGK;AACArL,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,YAAlC;AAEJ;AAEJ,SATI,MASC,IAAGgX,WAAS,cAAZ,EAA2B;AAC7B,gBAAIU,cAAcxc,IAAIuF,WAAJ,GAAkB2Q,mBAAlB,CAAsC,KAAKzQ,SAA3C,CAAlB;AACA,gBAAIgX,OAAO,EAAX;AACAA,iBAAK7V,QAAL,GAAgB5G,IAAI6G,MAAJ,CAAWC,YAAX,EAAhB;AACA,gBAAG,KAAK2V,KAAK7V,QAAL,CAAc6C,MAAtB,EAA6B;AACzBvB,wBAAQC,GAAR,CAAY,4CAAZ;AACA;AACH;AACD;AACA,gBAAIvC,aAAW,EAAf;AACAA,uBAAStE,MAAT,GAAkB,KAAKmE,SAAvB;AACAG,uBAAS+D,MAAT,GAAkB6S,YAAY7S,MAA9B;AACA/D,uBAASuJ,OAAT,GAAmB,GAAnB;AACAvJ,uBAAS8W,SAAT,GAAqB,CAArB,CAb6B,CAaN;AACvB9W,uBAAS+W,cAAT,GAA0B,EAA1B,CAd6B,CAcA;AAC7BF,iBAAKza,YAAL,GAAoB,KAAKA,YAAzB;AACAhC,gBAAImG,WAAJ,GAAkBC,QAAlB,CAA2B,aAA3B,EAAyCqW,IAAzC,EAA8C,EAA9C,EAAiD7W,UAAjD;AACH,SAjBK,MAiBA,IAAGkW,WAAS,gBAAT,IAA6BA,WAAS,aAAzC,EAAuD;AACzD,gBAAIlW,aAAW5F,IAAIuF,WAAJ,GAAkB2Q,mBAAlB,CAAsC,KAAKzQ,SAA3C,CAAf;AACA,iBAAKiF,YAAL,GAAoB9E,WAAS+E,QAA7B;AACA,gBAAG,KAAKD,YAAL,GAAkB,CAArB,EAAuB;AACnB,qBAAKvE,WAAL,CAAiBC,QAAjB,CAA0B,wBAA1B,EAAmD,KAAKX,SAAxD;AACH,aAFD,MAEK;AACDzF,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,QAAlC;AACH;AAEJ,SATK,MASA,IAAGgX,WAAS,aAAZ,EAA0B;AAC5B,gBAAIlW,aAAW5F,IAAIuF,WAAJ,GAAkB2Q,mBAAlB,CAAsC,KAAKzQ,SAA3C,CAAf;AACA,iBAAKiF,YAAL,GAAoB9E,WAAS+E,QAA7B;AACA,gBAAG,KAAKD,YAAL,GAAkB,CAArB,EAAuB;AACnB,qBAAKvE,WAAL,CAAiBC,QAAjB,CAA0B,uBAA1B,EAAkD,KAAKX,SAAvD,EAAiE,KAAKsE,OAAtE;AACH,aAFD,MAEK;AACD/J,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,QAAlC;AACH;AACJ,SARK,MAQA,IAAGgX,WAAS,oBAAZ,EAAiC;AACnC,iBAAK3V,WAAL,CAAiBC,QAAjB,CAA0B,8BAA1B,EAAyD,KAAKX,SAA9D,EAAwE,KAAKsE,OAA7E,EAAqF,KAAKqB,SAA1F,EAAoG,KAAKC,SAAzG;AACH,SAFK,MAEA,IAAG,gBAAgByQ,OAAnB,EAA2B;AAC7B,iBAAK7P,iBAAL,GAAyBjM,IAAI4I,WAAJ,GAAkBsD,oBAAlB,EAAzB;AACA,gBAAI0Q,eAAe5c,IAAI4I,WAAJ,GAAkBC,eAAlB,CAAkC,UAAlC,CAAnB;AACA,gBAAIgU,QAAQ7c,IAAI8c,MAAJ,GAAa9c,IAAI8c,MAAJ,CAAWC,aAAxB,GAAwC,GAApD;AACA,gBAAGH,gBAAcC,KAAjB,EAAuB;AACnB7c,oBAAImG,WAAJ,GAAkBC,QAAlB,CAA2B,sBAA3B,EAAkD,KAAK6F,iBAAL,CAAuB,CAAvB,EAA0B+Q,QAA5E;AACH,aAFD,MAEK;AACDhd,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,SAAS+X,KAAT,GAAiB,UAAnD;AACH;;AAED;;;;;;;AAOH,SAjBK,MAiBA,IAAG,eAAef,OAAlB,EAA0B;AAC5B,gBAAImB,YAAUvD,QAAQjB,MAAR,CAAehY,cAAf,CAA8B,OAA9B,CAAd;AACA,gBAAGwc,UAAUlb,MAAV,IAAkB,IAArB,EAA0B;AACtBkb,0BAAUlb,MAAV,GAAiB,KAAjB;AACH,aAFD,MAEK;AACDkb,0BAAUlb,MAAV,GAAiB,IAAjB;AACH;AACJ,SAPK,MAOA,IAAG,gBAAc+Z,OAAjB,EAAyB;AAC3B,gBAAInB,WAAW;AACX,0BAAS,KAAKlV,SADH;AAEX,2BAAUiU,QAAQjB,MAAR,CAAetJ;AAFd,aAAf;AAIA,gBAAI8G,WAAW,2BAAf;AACA,gBAAInO,QAAO,IAAX;AACA,gBAAI,KAAKiC,OAAL,GAAe,CAAnB,EAAsB;AAClB4Q,yBAAS5Q,OAAT,GAAmB,KAAKA,OAAxB;AACAkM,2BAAW,6BAAX;AACH;AACDjW,gBAAI+H,UAAJ,GAAiBC,QAAjB,CAA0BiO,QAA1B,EAAoC0E,QAApC,EAA8C,UAASlS,UAAT,EAAoB;AAC9DX,sBAAK3B,WAAL,CAAiBC,QAAjB,CAA0B,wBAA1B,EAAmDqC,UAAnD;AACH,aAFD,EAEG,YAAU;AACTzI,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,YAAlC,EAA+C,EAA/C,EAAkD,CAAlD;AACH,aAJD;AAKH,SAhBK,MAiBD,IAAG,kBAAgBgX,OAAnB,EAA2B;AAC5B,iBAAK3V,WAAL,CAAiBC,QAAjB,CAA0B,wBAA1B,EAAmD,KAAKX,SAAxD,EAAkE,KAAKsE,OAAvE;AACH,SAFI,MAGA,IAAG,oBAAkB+R,OAArB,EAA6B;AAC9B,gBAAInB,YAAW;AACX,0BAAS,KAAKlV,SADH;AAEX,2BAAU,KAAKsE;AAFJ,aAAf;AAIA,gBAAIjC,SAAO,IAAX;AACA9H,gBAAI+H,UAAJ,GAAiBC,QAAjB,CAA0B,6BAA1B,EAAyD2S,SAAzD,EAAmE,UAASlS,UAAT,EAAoB;AACnFX,uBAAK3B,WAAL,CAAiBC,QAAjB,CAA0B,sBAA1B,EAAiDqC,UAAjD,EAA4DX,OAAKrC,SAAjE;AACH,aAFD,EAEG,YAAU,CAEZ,CAJD;AAKH,SAXI,MAYA,IAAG,oBAAkBqW,OAArB,EAA6B;AAC9B,gBAAInB,aAAW;AACX,0BAAS,KAAKlV,SADH;AAEX,2BAAUiU,QAAQjB,MAAR,CAAetJ;AAFd,aAAf;AAIA,gBAAI8G,YAAW,2BAAf;AACA,gBAAInO,SAAO,IAAX;AACA,gBAAI,KAAKiC,OAAL,GAAe,CAAnB,EAAsB;AAClB4Q,2BAAS5Q,OAAT,GAAmB,KAAKA,OAAxB;AACAkM,4BAAW,6BAAX;AACH;AACDjW,gBAAI+H,UAAJ,GAAiBC,QAAjB,CAA0BiO,SAA1B,EAAoC0E,UAApC,EAA8C,UAASlS,UAAT,EAAoB;AAC9DX,uBAAK3B,WAAL,CAAiBC,QAAjB,CAA0B,yBAA1B,EAAoDqC,UAApD;AACH,aAFD,EAEG,YAAU;AACTzI,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,YAAlC,EAA+C,EAA/C,EAAkD,CAAlD;AACH,aAJD;AAKH,SAhBI,MAiBA,IAAG,gBAAcgX,OAAd,IAAyB,qBAAmBA,OAA/C,EAAuD;AACxD,gBAAG,KAAKrW,SAAL,GAAe,CAAlB,EAAoB;AAChB,oBAAIG,aAAW5F,IAAIuF,WAAJ,GAAkB2Q,mBAAlB,CAAsC,KAAKzQ,SAA3C,CAAf;AACA,qBAAKiF,YAAL,GAAoB9E,WAAS+E,QAA7B;AACA,oBAAG,KAAKD,YAAL,GAAkB,CAArB,EAAuB;AACnB,yBAAKvE,WAAL,CAAiBC,QAAjB,CAA0B,0BAA1B,EAAqD,KAAKX,SAA1D,EAAoE,KAAKsE,OAAzE,EAAiF,KAAKE,WAAtF,EAAmG,KAAKkB,aAAxG,EAAuH,KAAKT,YAA5H;AACH,iBAFD,MAEK;AACD,yBAAKvE,WAAL,CAAiBC,QAAjB,CAA0B,6BAA1B,EAAwD,KAAKX,SAA7D,EAAuE,KAAKsE,OAA5E;AACA;AACH;AACJ,aATD,MASK;AACD/J,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,YAAlC;AACH;AAEJ,SAdI,MAcC,IAAGgX,WAAS,iBAAT,IAA8BA,WAAS,UAA1C,EAAqD;AACvD,gBAAG,KAAKrW,SAAL,GAAe,CAAlB,EAAoB;AAChBzF,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,YAAlC;AACA;AACH;AACD,iBAAKqB,WAAL,CAAiBC,QAAjB,CAA0B,qBAA1B,EAAgD,KAAKX,SAArD,EAA+D,KAAKwE,WAApE;AACH,SANK,MAMA,IAAG6R,WAAS,aAAZ,EAA0B;AAC5B,iBAAKzV,SAAL;AACA,iBAAKF,WAAL,CAAiBC,QAAjB,CAA0B,gBAA1B;AACH,SAHK,MAID,IAAG0V,WAAS,UAAZ,EAAuB;AACxB,gBAAIoB,YAAY,KAAK1c,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,UAA3E,EAAuFA,cAAvF,CAAsG,WAAtG,CAAhB;AACAyc,sBAAUnb,MAAV,GAAmB,CAACmb,UAAUnb,MAA9B;AACA,gBAAI4J,WAAW,KAAKnL,IAAL,CAAUC,cAAV,CAAyB,KAAzB,EAAgCA,cAAhC,CAA+C,WAA/C,EAA4DA,cAA5D,CAA2E,UAA3E,CAAf;AACAkL,qBAAS1K,YAAT,CAAsBd,GAAGuG,MAAzB,EAAiCyW,OAAjC,GAA2CD,UAAUnb,MAArD;AACH,SALI,MAMA,IAAI+Z,WAAW,oBAAf,EAAqC;AACtC,iBAAK3V,WAAL,CAAiBC,QAAjB,CAA0B,sBAA1B,EAAiD,KAAKX,SAAtD;AACH,SAFI,MAEC,IAAIqW,WAAW,WAAf,EAA4B;AAC9B,gBAAI,KAAK/R,OAAL,GAAe,CAAnB,EAAsB;AAClB,oBAAG/J,IAAIuF,WAAJ,GAAkB6X,0BAAlB,MAAgD,CAAnD,EAAqD;AACjD,yBAAKjX,WAAL,CAAiBC,QAAjB,CAA0B,4BAA1B,EAAwD,KAAKX,SAA7D,EAAwE,KAAKsE,OAA7E,EAAsF,KAAKqB,SAA3F,EAAsG,KAAKD,aAA3G,EAA0H,KAAKT,YAA/H,EAA6I,KAAKW,SAAlJ;AACJ,iBAFA,MAEI;AACA,yBAAKlF,WAAL,CAAiBC,QAAjB,CAA0B,wBAA1B,EAAoD,KAAKX,SAAzD,EAAoE,KAAKsE,OAAzE,EAAkF,KAAKqB,SAAvF,EAAkG,KAAKD,aAAvG,EAAsH,KAAKT,YAA3H,EAAyI,KAAKW,SAA9I;AACH;AACJ,aAND,MAMK;AACD,qBAAKlF,WAAL,CAAiBC,QAAjB,CAA0B,qBAA1B,EAAgD,KAAKX,SAArD;AACH;AACJ,SAVK,MAUA,IAAIqW,WAAW,mBAAf,EAAoC;AACtC,gBAAI,KAAK/R,OAAL,GAAe,CAAnB,EAAsB;AAClB,oBAAG/J,IAAIuF,WAAJ,GAAkB6X,0BAAlB,MAAgD,CAAnD,EAAqD;AACjD,yBAAKjX,WAAL,CAAiBC,QAAjB,CAA0B,4BAA1B,EAAwD,KAAKX,SAA7D,EAAwE,KAAKsE,OAA7E,EAAsF,KAAKqB,SAA3F,EAAsG,KAAKD,aAA3G,EAA0H,KAAKT,YAA/H,EAA6I,KAAKW,SAAlJ,EAA6J,WAA7J;AACH,iBAFD,MAEK;AACD,yBAAKlF,WAAL,CAAiBC,QAAjB,CAA0B,wBAA1B,EAAoD,KAAKX,SAAzD,EAAoE,KAAKsE,OAAzE,EAAkF,KAAKqB,SAAvF,EAAkG,KAAKD,aAAvG,EAAsH,KAAKT,YAA3H,EAAyI,KAAKW,SAA9I,EAAyJ,WAAzJ;AACH;AACJ,aAND,MAMK;AACD,qBAAKlF,WAAL,CAAiBC,QAAjB,CAA0B,qBAA1B,EAAgD,KAAKX,SAArD;AACH;AACJ,SAVK,MAUA,IAAIqW,WAAW,aAAf,EAA8B;AAChC,gBAAIuB,aAAa3D,QAAQjZ,cAAR,CAAuB,YAAvB,EAAqCQ,YAArC,CAAkDd,GAAGe,KAArD,EAA4D4H,MAA7E;AACA,gBAAIuU,cAAc,MAAlB,EAA0B;AACtB,qBAAK5K,iBAAL,CAAuB,cAAvB,EAAsCzS,IAAIsE,WAAJ,GAAkB2V,OAAxD;AACH,aAFD,MAEM;AACF,qBAAKqD,kBAAL;AACH;AACJ,SAPK,MAOA,IAAIxB,WAAW,SAAf,EAA0B;AAC5B,gBAAI,KAAK3Q,aAAL,IAAsBnL,IAAIuF,WAAJ,GAAkBgY,aAAxC,IAAyD,KAAKzS,cAAL,IAAuB,CAApF,EAAuF;AAAC;AACpF;AACH;AACD,gBAAI,KAAKf,OAAL,GAAe,CAAnB,EAAsB;AAClB,oBAAG/J,IAAIuF,WAAJ,GAAkB6X,0BAAlB,MAAgD,CAAnD,EAAqD;AACjD,yBAAKjX,WAAL,CAAiBC,QAAjB,CAA0B,kCAA1B,EAA8D,KAAKX,SAAnE,EAA8E,KAAKsE,OAAnF,EAA4F,KAAKqB,SAAjG,EAA4G,KAAKD,aAAjH,EAAgI,KAAKT,YAArI,EAAmJ,KAAKW,SAAxJ,EAAmK,KAAKP,cAAxK;AACH;AACJ;AACJ,SATK,MAWF;AACA;AACA;;AAEH;AAEJ,KAz4E2B;AA04E5B0S,aAAQ,mBAAU;AACdxd,YAAIuF,WAAJ,GAAkBkY,SAAlB;AACA,aAAKC,UAAL,CAAgB,KAAK/V,cAArB;AACA,aAAKxB,WAAL,CAAiBE,SAAjB,CAA2B,sBAA3B;AACA,aAAK9F,IAAL,CAAUwB,MAAV,GAAiB,IAAjB;AACA,aAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,KAAtE;AACA,aAAKvB,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,EAA+DsB,MAA/D,GAAsE,IAAtE;AACH,KAj5E2B;AAk5E5B;;;;;AAKA0Q,uBAAkB,2BAASkL,KAAT,EAAerV,IAAf,EAAuC;AAAA,YAAnBsV,MAAmB,uEAAZ,EAAY;AAAA,YAATC,KAAS,uEAAH,EAAG;;AACrD,YAAIC,iBAAiB9d,IAAI8d,cAAJ,EAArB;AACAA,uBAAeC,qBAAf,CAAqC,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAArC,EAAgEN,KAAhE,EAAuEE,KAAvE;AACAC,uBAAeI,WAAf,CAA2B5V,IAA3B,EAAiCqV,KAAjC,EAAwCC,MAAxC;AACH,KA35E2B;AA45E5BI,eAAU,mBAASG,SAAT,EAAoBR,KAApB,EAA2BS,WAA3B,EAAuC;AAC7C,YAAGD,aAAa,MAAhB,EAAuB;AACnB,gBAAG,KAAKhX,MAAR,EAAe;AACX,oBAAG,yBAAyBwW,KAA5B,EAAkC;AAC9B,yBAAKU,gBAAL;AACH;AACJ;AACD;AACH;AACD,YAAIvW,OAAO,IAAX;AACA,YAAG,8BAA8B6V,KAAjC,EAAuC;AACnC,gBAAI7K,YAAWsL,YAAY,CAAZ,CAAf;AACA,gBAAIE,aAAate,IAAIuF,WAAJ,GAAkBgZ,mBAAnC;AACAve,gBAAIuF,WAAJ,GAAkBiZ,cAAlB,CAAiC,KAAKld,MAAtC,EAA6CwR,UAAS4J,SAAtD,EAAgE4B,UAAhE;AACH,SAJD,MAIM,IAAG,2BAA2BX,KAA9B,EAAoC;AACtC3d,gBAAIuF,WAAJ,GAAkBkZ,aAAlB,CAAgC,KAAKnd,MAArC;AACA;AACA,iBAAK6E,WAAL,CAAiBuY,aAAjB,CAA+B,uBAA/B;AACH,SAJK,MAIA,IAAG,mBAAmBf,KAAtB,EAA4B;AAC9B3d,gBAAIuF,WAAJ,GAAkBoZ,qBAAlB,CAAwC,KAAKrd,MAA7C,EAAoDtB,IAAI4I,WAAJ,GAAkBC,eAAlB,CAAkC,KAAlC,CAApD,EAA6F7I,IAAIuF,WAAJ,GAAkByM,UAA/G;AACA;AACA,iBAAK7L,WAAL,CAAiBuY,aAAjB,CAA+B,uBAA/B;AACH,SAJK,MAIA,IAAG,kCAAkCf,KAArC,EAA2C;AAC7C,gBAAIrc,SAAS8c,YAAY,CAAZ,CAAb;AACA,iBAAI,IAAInP,IAAE,CAAV,EAAYA,IAAE,KAAKkD,YAAL,CAAkB1I,MAAhC,EAAuCwF,GAAvC,EAA2C;AACvC,oBAAG,KAAKkD,YAAL,CAAkBlD,CAAlB,EAAqB3N,MAArB,IAA+BA,MAAlC,EAAyC;AACrC,yBAAK6Q,YAAL,CAAkBU,MAAlB,CAAyB5D,CAAzB,EAA2B,CAA3B;AACA;AACH;AACJ;AACD,gBAAG,KAAK,KAAKkD,YAAL,CAAkB1I,MAA1B,EAAiC;AAC7B,oBAAIgT,OAAO,KAAKtK,YAAL,CAAkB,CAAlB,CAAX;AACAyM,2BAAW,YAAU;AACjB5e,wBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,8BAAlC,EAAiE,CAAC2X,KAAKpb,QAAN,EAAeob,KAAKnK,iBAApB,CAAjE;AACH,iBAFD,EAEE,GAFF;AAGH;AACJ,SAdK,MAeD,IAAG,yBAAyBqL,KAA5B,EAAkC;AACnC,gBAAIlB,QAAO2B,YAAY,CAAZ,CAAX;AACApe,gBAAIuF,WAAJ,GAAkBoZ,qBAAlB,CAAwClC,MAAKnb,MAA7C,EAAoDmb,MAAKlO,GAAzD,EAA6DkO,MAAKoC,SAAlE;AACH,SAHI,MAIA,IAAG,yBAAyBlB,KAA5B,EAAkC;AACnC3d,gBAAI6G,MAAJ,CAAWiY,sBAAX,CAAkC,KAAK9E,UAAL,CAAgBL,QAAlD,EAA2D,KAAKK,UAAL,CAAgB7K,OAA3E,EAAoF,KAAK1J,SAAzF,EAAmGsU,SAAnG,EAA6G,KAAKC,UAAL,CAAgBzD,QAA7H;AACH,SAFI,MAGA,IAAI,kBAAkBoH,KAAtB,EAA6B;AAC9B,iBAAKL,kBAAL;AACH,SAFI,MAGA,IAAG,iBAAiBK,KAApB,EAA0B;AAC3B,iBAAKU,gBAAL;AACH;AACJ,KA98E2B;AA+8E5BA,sBAAiB,4BAAU;AACvB,YAAInE,cAAc,KAAK5V,WAAL,CAAiB0L,kBAAjB,CAAoC,KAAK/H,UAAL,CAAgB6H,MAApD,CAAlB;AACA9P,YAAI6G,MAAJ,CAAWuT,WAAX,CAAuBF,WAAvB;AACA,aAAK/T,WAAL,CAAiBC,QAAjB,CAA0B,gBAA1B,EAA2C8T,WAA3C,EAAuD,CAAvD,EAAyD,IAAzD,EAA8D,CAA9D,EAAgE,CAAhE,EAAkE,IAAlE;AAEH,KAp9E2B;AAq9E5BoD,wBAAmB,8BAAU;AACzB,YAAIxV,OAAO,IAAX;AACA,YAAI6S,WAAW3a,IAAIuF,WAAJ,GAAkBwZ,oBAAlB,EAAf;AACA/e,YAAI+H,UAAJ,GAAiBC,QAAjB,CAA0B,mBAA1B,EAA8C2S,QAA9C,EAAuD,UAASlS,UAAT,EAAoB;AACvE;AACA,gBAAIiD,YAAY5D,KAAKtH,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,CAAhB;AACA,gBAAIgO,YAAY/C,UAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEQ,YAArE,CAAkFd,GAAGe,KAArF,CAAhB;AACA,gBAAIuN,UAAU3F,MAAV,IAAoB,MAAxB,EAAgC;AAC5B9I,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,iCAAlC;AACH,aAFD,MAEM,IAAI2J,UAAU3F,MAAV,IAAoB,MAAxB,EAAgC;AAClC9I,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,sBAAlC;AACH,aAFK,MAEA,IAAI2J,UAAU3F,MAAV,IAAoB,MAAxB,EAAgC;AAClC9I,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,UAAlC;AACH;AACD,gBAAI2D,cAAc,CAAlB,EAAqB;AACjB;AACAgG,0BAAU3F,MAAV,GAAmB,MAAnB;AACA4C,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCQ,YAAxC,CAAqDd,GAAGuG,MAAxD,EAAgEC,WAAhE,GAA8EmB,KAAKyF,iBAAL,CAAuB,CAAvB,CAA9E;AACA7B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqE+M,KAArE,GAA6E,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,GAAlB,EAAuB,GAAvB,CAA7E;AACA/B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEQ,YAArE,CAAkFd,GAAGuN,YAArF,EAAmGF,KAAnG,GAA2G,IAAIrN,GAAGsN,KAAP,CAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAA3G;AACH,aAND,MAMM,IAAIhF,cAAc,CAAlB,EAAqB;AACvB;AACAgG,0BAAU3F,MAAV,GAAmB,MAAnB;AACA4C,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCQ,YAAxC,CAAqDd,GAAGuG,MAAxD,EAAgEC,WAAhE,GAA8EmB,KAAKyF,iBAAL,CAAuB,CAAvB,CAA9E;AACA7B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqE+M,KAArE,GAA6E,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,GAAlB,EAAuB,GAAvB,CAA7E;AACA/B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEQ,YAArE,CAAkFd,GAAGuN,YAArF,EAAmGF,KAAnG,GAA2G,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,EAAlB,EAAsB,EAAtB,CAA3G;AACH,aANK,MAMA,IAAIhF,cAAc,CAAlB,EAAqB;AACvB;AACAgG,0BAAU3F,MAAV,GAAmB,MAAnB;AACA4C,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCQ,YAAxC,CAAqDd,GAAGuG,MAAxD,EAAgEC,WAAhE,GAA8EmB,KAAKyF,iBAAL,CAAuB,CAAvB,CAA9E;AACA7B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqE+M,KAArE,GAA6E,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,GAAlB,EAAuB,GAAvB,CAA7E;AACA/B,0BAAUjL,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEQ,YAArE,CAAkFd,GAAGuN,YAArF,EAAmGF,KAAnG,GAA2G,IAAIrN,GAAGsN,KAAP,CAAa,GAAb,EAAkB,EAAlB,EAAsB,EAAtB,CAA3G;AACH;AACJ,SA9BD,EA8BE,UAAS6I,KAAT,EAAe,CAEhB,CAhCD;AAiCH,KAz/E2B;;AA2/E5B0I,2BAAsB,+BAAS5a,KAAT,EAAe;AACjC,YAAIA,MAAM8C,SAAV,EAAqB;AACjB/G,eAAG4F,GAAH,CAAOhB,YAAP,CAAoBC,OAApB,CAA4B,kBAA5B,EAA+C,GAA/C;AACH,SAFD,MAEK;AACD7E,eAAG4F,GAAH,CAAOhB,YAAP,CAAoBC,OAApB,CAA4B,kBAA5B,EAA+C,GAA/C;AACH;AACD,aAAK,IAAIiK,IAAI,CAAb,EAAgBA,IAAI,KAAKpO,YAAL,CAAkB4T,QAAlB,CAA2BhL,MAA/C,EAAuDwF,GAAvD,EAA4D;AACxD,iBAAK,IAAImD,IAAI,CAAb,EAAgBA,IAAI,KAAK9L,QAAL,CAAcmD,MAAlC,EAA0C2I,GAA1C,EAA+C;AAC3C,oBAAG,KAAK9L,QAAL,CAAc8L,CAAd,EAAiBjD,OAAjB,IAA0B,KAAKtO,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,EAA8BE,OAA3D,EAAmE;AAC/D,wBAAG,KAAKtO,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,EAA8BoE,SAA9B,IAAyC,IAA5C,EAAiD;AAC7C,6BAAKsD,YAAL,CAAkB,KAAK9V,YAAL,CAAkB4T,QAAlB,CAA2BxF,CAA3B,CAAlB,EAAiD,KAAK3I,QAAL,CAAc8L,CAAd,CAAjD;AACH;AACJ;AACJ;AACJ;AACJ,KA1gF2B;AA2gF5BpP,uBAAkB,2BAASoB,KAAT,EAAe;AAC7B,YAAI6a,QAAM7a,MAAM,OAAN,CAAV;AACA,aAAK1C,SAAL,CAAeoH,MAAf,GAAwBmW,QAAM,KAA9B;AACA,YAAGA,QAAM,GAAT,EAAa;AACT,iBAAKxd,SAAL,CAAeR,YAAf,CAA4Bd,GAAGuG,MAA/B,EAAuCC,WAAvC,GAAmD,KAAKuY,WAAL,CAAiB,CAAjB,CAAnD;AACH,SAFD,MAEM,IAAGD,QAAM,GAAT,EAAa;AACf,iBAAKxd,SAAL,CAAeR,YAAf,CAA4Bd,GAAGuG,MAA/B,EAAuCC,WAAvC,GAAmD,KAAKuY,WAAL,CAAiB,CAAjB,CAAnD;AACH,SAFK,MAEA,IAAGD,QAAM,IAAT,EAAc;AAChB,iBAAKxd,SAAL,CAAeR,YAAf,CAA4Bd,GAAGuG,MAA/B,EAAuCC,WAAvC,GAAmD,KAAKuY,WAAL,CAAiB,CAAjB,CAAnD;AACH,SAFK,MAED;AACD,iBAAKzd,SAAL,CAAeR,YAAf,CAA4Bd,GAAGuG,MAA/B,EAAuCC,WAAvC,GAAmD,KAAKuY,WAAL,CAAiB,CAAjB,CAAnD;AACH;AACJ,KAvhF2B;AAwhF5BtR,kBAAa,wBAAU;AACnB,YAAIuR,UAAUhf,GAAG4F,GAAH,CAAOhB,YAAP,CAAoB0B,OAApB,CAA4B,KAAKsD,OAAL,GAAe,aAA3C,CAAd;AACA,YAAIyL,SAAS2J,OAAT,KAAqB,CAAzB,EAA4B;AACxB;AACH;AACD,YAAIC,mBAAmBjf,GAAG4F,GAAH,CAAOhB,YAAP,CAAoB0B,OAApB,CAA4B,KAAKsD,OAAL,GAAe,eAA3C,CAAvB;AACA,YAAIqV,oBAAoB,IAApB,IAA4B,OAAOA,gBAAP,IAA4B,WAA5D,EAAyE;AACrEjf,eAAG4F,GAAH,CAAOhB,YAAP,CAAoBC,OAApB,CAA4B,KAAK+E,OAAL,GAAe,eAA3C,EAA4D/J,IAAImN,iBAAJ,GAAwBkS,iBAAxB,EAA5D;AACArf,gBAAImG,WAAJ,GAAkBC,QAAlB,CAA2B,oBAA3B,EAAgD,KAAK2D,OAArD,EAA6D,KAAKqB,SAAlE,EAA4E,KAAKS,aAAjF,EAA+F,KAAK5B,WAApG;AACA;AACH;AACD,YAAIqV,MAAMtf,IAAI+I,OAAJ,GAAcwW,gBAAd,CAA+B/J,SAAS4J,gBAAT,CAA/B,EAA0Dpf,IAAImN,iBAAJ,GAAwBkS,iBAAxB,EAA1D,CAAV;AACA,YAAIC,MAAM,CAAV,EAAa;AACTnf,eAAG4F,GAAH,CAAOhB,YAAP,CAAoBC,OAApB,CAA4B,KAAK+E,OAAL,GAAe,eAA3C,EAA4D/J,IAAImN,iBAAJ,GAAwBkS,iBAAxB,EAA5D;AACArf,gBAAImG,WAAJ,GAAkBC,QAAlB,CAA2B,oBAA3B,EAAgD,KAAK2D,OAArD,EAA6D,KAAKqB,SAAlE,EAA4E,KAAKS,aAAjF,EAA+F,KAAK5B,WAApG;AACH;AACJ,KAxiF2B;AAyiF5B4D,sBAAiB,0BAASjI,QAAT,EAAkB;AAC/B,YAAIA,SAAS4Z,UAAT,IAAuB,CAA3B,EAA8B;AAC1Bxf,gBAAIuF,WAAJ,GAAkBka,mBAAlB,CAAsC7Z,SAASD,EAA/C,EAAmD,YAAnD,EAAiE,CAAjE;AACA3F,gBAAImG,WAAJ,GAAkBC,QAAlB,CAA2B,wBAA3B,EAAoD,KAAKgF,SAAzD,EAAmExF,SAAS8Z,gBAA5E;AACH;AACJ,KA9iF2B;AA+iF5B5R,wBAAmB,4BAASC,cAAT,EAAwB;AACvC,YAAIrC,YAAY,KAAKlL,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,CAAhB;AACA,YAAIsN,kBAAkB,CAAtB,EAAyB;AACrB;AACArC,sBAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,aAAnD,EAAkEsB,MAAlE,GAA2E,IAA3E;AACA2J,sBAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,YAAnD,EAAiEQ,YAAjE,CAA8Ed,GAAGe,KAAjF,EAAwF4H,MAAxF,GAAiG,OAAjG;AACH,SAJD,MAIM,IAAIiF,kBAAkB,CAAtB,EAAyB;AAC3B;AACArC,sBAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,aAAnD,EAAkEsB,MAAlE,GAA2E,KAA3E;AACA2J,sBAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,YAAnD,EAAiEQ,YAAjE,CAA8Ed,GAAGe,KAAjF,EAAwF4H,MAAxF,GAAiG,OAAjG;AACH,SAJK,MAIA,IAAIiF,kBAAkB,CAAtB,EAAyB;AAC3B;AACA,gBAAI,KAAK5C,aAAL,IAAsBnL,IAAIuF,WAAJ,GAAkByG,YAA5C,EAA0D;AACtDhM,oBAAI6E,gBAAJ,GAAuBC,UAAvB,CAAkC,0CAAlC;AACH;AACD4G,sBAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,aAAnD,EAAkEsB,MAAlE,GAA2E,KAA3E;AACA2J,sBAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,YAAnD,EAAiEQ,YAAjE,CAA8Ed,GAAGe,KAAjF,EAAwF4H,MAAxF,GAAiG,OAAjG;AACH;AACD4C,kBAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,aAAnD,EAAkEsB,MAAlE,GAA2E,KAA3E;AACA2J,kBAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,YAAnD,EAAiEsB,MAAjE,GAA0E,KAA1E;AACH,KAnkF2B;AAokF5B;AACA4d,cAAS,oBAAY;AACjB,YAAIC,iBAAiB5f,IAAImN,iBAAJ,GAAwBkS,iBAAxB,EAArB;AACA,YAAG,KAAKpS,YAAL,IAAqB,KAAKA,YAAL,GAAoB2S,cAA5C,EAA2D;AACvD,gBAAI1S,kBAAkBlN,IAAImN,iBAAJ,GAAwBC,oBAAxB,CAA6C,KAAKH,YAAlD,EAAgEjN,IAAIsE,WAAJ,GAAkB+I,mBAAlF,CAAtB;AACA,gBAAI3B,YAAY,KAAKlL,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,WAAlD,CAAhB;AACAiL,sBAAUjL,cAAV,CAAyB,SAAzB,EAAoCA,cAApC,CAAmD,aAAnD,EAAkEQ,YAAlE,CAA+Ed,GAAGe,KAAlF,EAAyF4H,MAAzF,GAAkGoE,eAAlG;AACH;AACJ,KA5kF2B;AA6kF5B;AACA1C,mBAAc,uBAAS5E,QAAT,EAAkB,CAE/B;AAhlF2B,CAAT,CAAvB;;AAmlFAia,OAAOC,OAAP,GAAiB5f,gBAAjB","file":"UIClubMainBase.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\ui\\club","sourcesContent":["var app = require(\"app\");\r\n\r\nvar BaseClubMainForm = cc.Class({\r\n    extends: require(\"BaseForm\"),\r\n\r\n    OnCreateInit: function () {\r\n        this.left = this.node.getChildByName(\"left_main\");\r\n        this.left_layout = this.left.getChildByName(\"mark\").getChildByName(\"layout\");\r\n        this.clubDemo = this.left.getChildByName(\"mark\").getChildByName(\"btn_demo\");\r\n\r\n        this.mark = this.node.getChildByName(\"right_main\").getChildByName(\"mark\");\r\n        this.right_layout = this.mark.getChildByName(\"view\").getChildByName(\"layout\");\r\n        this.roomDemo = this.mark.getChildByName(\"demo\");\r\n\r\n        this.fangka = this.node.getChildByName(\"bottom\").getChildByName(\"fangka\");\r\n        this.fangkaLabel = this.fangka.getChildByName(\"label\").getComponent(cc.Label);\r\n\r\n        this.lb_name = this.node.getChildByName(\"bottom\").getChildByName(\"userinfo\").getChildByName(\"lb_name\").getComponent(cc.Label);\r\n        this.lb_id = this.node.getChildByName(\"bottom\").getChildByName(\"userinfo\").getChildByName(\"lb_id\").getComponent(cc.Label);\r\n        this.clubName = this.node.getChildByName(\"top\").getChildByName(\"clubName\").getComponent(cc.Label);\r\n        this.clubId = this.node.getChildByName(\"top\").getChildByName(\"clubId\").getComponent(cc.Label);\r\n\r\n\r\n        this.page_tip = this.node.getChildByName(\"right_main\").getChildByName(\"page\");\r\n        this.page_demo = this.node.getChildByName(\"right_main\").getChildByName(\"page_demo\");\r\n\r\n        this.bg_signal = this.node.getChildByName(\"top\").getChildByName(\"img_bjl_wifi\").getChildByName(\"bg_signal\");\r\n        this.lb_signal = this.node.getChildByName(\"top\").getChildByName(\"img_bjl_wifi\").getChildByName(\"lb_signal\").getComponent(cc.Label);\r\n\r\n        this.selectCityConfig = app.SysDataManager().GetTableDict(\"selectCity\");\r\n        this.WeChatHeadImage1 = this.node.getChildByName('bottom').getChildByName('userinfo').getChildByName('head').getComponent(\"WeChatHeadImage\");\r\n        this.clubDemo.active=false;\r\n        this.roomDemo.active=false;\r\n        this.discountType = [];\r\n        //this.RegEvent(\"OnClubPlayerNtf\", this.Event_PlayerNtf);\r\n        this.RegEvent('OnAllClubData',this.Event_AllClubDataNtf);\r\n\r\n        this.RegEvent('LoadClub',this.Event_LoadClub);\r\n\r\n        this.WeChatManager = app.WeChatManager();\r\n        this.SDKManager=app.SDKManager();\r\n        this.RegEvent(\"OnClubRoomData\", this.Event_InitClubRoom, this);\r\n        this.RegEvent(\"OnRoomStateChange\", this.Event_RoomStatusChange, this);\r\n        this.RegEvent(\"OnRoomPlayerChange\", this.Event_RoomPlayerChange, this);\r\n        this.RegEvent(\"OnRoomSetChange\", this.Event_RoomSetChange, this);\r\n        // this.RegEvent(\"OnRoomStartChange\", this.Event_RoomStartChange, this);\r\n        this.RegEvent(\"OnClubRoomCardNtf\", this.Event_ClubCardNtf, this);\r\n        this.RegEvent(\"OnClubPlayerNtf\", this.Event_ClubPlayerNtf, this);\r\n\r\n        this.RegEvent(\"OnDiamondsNotEnough\", this.Event_OnDiamondsNotEnough, this);\r\n\r\n        this.RegEvent(\"OnRefreshRoomList\", this.Event_RefreshRoomList, this);\r\n\r\n        this.RegEvent(\"OnUnionSportsPoint\", this.Event_UnionSportsPoint, this);\r\n\r\n        this.RegEvent(\"OnPromotionLevelPowerChange\", this.Event_PromotionLevelPowerChange, this);\r\n\r\n        this.RegEvent(\"EvtSpeedTest\", this.OnEvent_SpeedTest, this);\r\n        this.RegEvent(\"OnClubPlayerNtfToManager\", this.Event_ClubPlayerNtfToManager, this);\r\n        this.RegEvent(\"OnUnionMatchState\", this.Event_UnionMatchState, this);\r\n        this.RegEvent(\"OnUnionStateChange\", this.Event_UnionStateChange, this);\r\n        this.RegEvent(\"OnOutSportsPoint\", this.Event_OutSportsPoint, this);\r\n        this.RegEvent(\"OnSportsPointWarning\", this.Event_SportsPointWarning, this);\r\n        this.RegEvent(\"CodeError\", this.Event_CodeError, this);\r\n        this.RegEvent(\"ReJoin\", this.Event_ReJoin, this);\r\n        this.RegEvent(\"OutRoom\", this.Event_OutRoom, this);\r\n        this.mark.on(cc.Node.EventType.TOUCH_START, this.OnTouch, this);\r\n        this.mark.on(cc.Node.EventType.TOUCH_END, this.OnTouch, this);\r\n        this.mark.on(cc.Node.EventType.TOUCH_MOVE, this.OnTouch, this);\r\n        this.mark.on(cc.Node.EventType.TOUCH_CANCEL, this.OnTouch, this);\r\n\r\n        // let that=this;\r\n        // cc.game.on(cc.game.EVENT_HIDE, function(event){\r\n        //     that.left.active=true;\r\n        //     that.node.getChildByName('bottom').getChildByName('btn_qhqyq').active=false;\r\n        //     that.node.getChildByName('bottom').getChildByName('btn_ycqyq').active=true;\r\n        // });\r\n        // cc.game.on(cc.game.EVENT_SHOW, function(event){\r\n        //     that.left.active=false;\r\n        //     that.node.getChildByName('bottom').getChildByName('btn_qhqyq').active=true;\r\n        //     that.node.getChildByName('bottom').getChildByName('btn_ycqyq').active=false;\r\n        // });\r\n\r\n        let roomScrollView = this.node.getChildByName(\"right_main\").getChildByName(\"mark\").getComponent(cc.ScrollView);\r\n        roomScrollView.node.on('scroll-to-right',this.GetNextRoomPage,this);\r\n    },\r\n    Event_CodeError:function(event){\r\n        let code = event[\"Code\"];\r\n        if(code == this.ShareDefine.ErrorPassword){\r\n            //\r\n            let dataDict = JSON.parse(event.Result.Msg);\r\n            app.SysNotifyManager().ShowSysMsg(',',[],3);\r\n            localStorage.setItem(\"password_\"+dataDict.clubId+\"_\"+dataDict.tagId,\"\");\r\n        }\r\n\r\n    },\r\n    //-----------------------------------\r\n    OnShow: function () {\r\n        this.isRejoin=false;\r\n        this.joining=false;\r\n        this.CheckRoomDisplayList=[];\r\n        //\r\n        let last_club_data = app.ClubManager().GetLastClubData();\r\n        if (last_club_data != null) {\r\n            this.nowClubID = last_club_data.club_data.id;\r\n        }else{\r\n            let clubData = app.ClubManager().GetClubData();\r\n            this.nowClubID = clubData[0].id;\r\n        }\r\n        \r\n        this.ScrollDataPage=1;\r\n        cc.sys.localStorage.setItem('club_moban',2);\r\n        if(!this.nowClubID){\r\n            this.nowClubID=-1;\r\n        }\r\n        this.ShowRoomKeyList=[];\r\n        this.CreateRoomKeyList=[];\r\n        this.ShowUserInfo();\r\n        this.FormManager.ShowForm(\"UINoticeBar\");\r\n        this.FormManager.CloseForm(\"bottom\");\r\n        this.roomList=[];\r\n        //this.left_layout.removeAllChildren();\r\n        //this.right_layout.removeAllChildren();\r\n        this.DestroyAllChildren(this.left_layout);\r\n        this.DestroyAllChildren(this.right_layout);\r\n        //app.ClubManager().SendReqClubData();\r\n        this.left.active=true;\r\n        this.node.getChildByName('bottom').getChildByName('btn_qhqyq').active=false;\r\n        this.node.getChildByName('bottom').getChildByName('btn_ycqyq').active=true;\r\n\r\n        this.node.getChildByName('bottom').getChildByName('btn_qhqyq').active=true;\r\n        this.node.getChildByName('bottom').getChildByName('btn_ycqyq').active=false;\r\n        this.left.active=false;\r\n        this.node.getChildByName(\"left_wanfa\").active=true;\r\n        this.node.getChildByName(\"left_wanfa\").active=false;//\r\n        this.node.getChildByName('bottom').getChildByName('btn_qhwh').active=false;\r\n        this.node.getChildByName('bottom').getChildByName('btn_qhwh').getChildByName('baocun').active=false;\r\n        let clubBg=cc.sys.localStorage.getItem(\"ClubNewBg\");\r\n        if (clubBg == null || typeof(clubBg) == \"undefined\") {\r\n            cc.sys.localStorage.setItem(\"ClubNewBg\", \"4\");\r\n            clubBg = 4;\r\n        }\r\n        this.node.getChildByName('bg').getComponent(cc.Sprite).spriteFrame=this.clubBg[clubBg];\r\n        this.gameList = app.Client.GetAllGameId();\r\n        let that = this;\r\n        // app.NetManager().SendPack('discount.CDiscountList',{clubId:clubId},function(serverPack){\r\n        //     that.GetDiscountTypeData(serverPack);\r\n        // },function(error){\r\n        //     console.error(error);\r\n        // });\r\n        // app.NetManager().SendPack('game.CPlayerAllGameList',{},function(serverPack){\r\n        //     that.gameList = serverPack.gameList;\r\n        // },function(error){\r\n        //     console.error(error);\r\n        // });\r\n        // \r\n        let isToggleHideRoom = cc.sys.localStorage.getItem('isToggleHideRoom');\r\n        if (isToggleHideRoom == \"1\") {\r\n            this.node.getChildByName('top').getChildByName('ToggleHideRoom').getComponent(cc.Toggle).isChecked = true;\r\n        }else{\r\n            this.node.getChildByName('top').getChildByName('ToggleHideRoom').getComponent(cc.Toggle).isChecked = false;\r\n        }\r\n        this.inRoom=false;\r\n        if(app.ClubManager().GetIsLoadClub()==false){\r\n            app.ClubManager().SendReqClubData(); //\r\n        }else{\r\n            this.UpdateClubList(); //\r\n        }\r\n        this.CheckInRoom();\r\n        //\r\n        app.LocationOnStartMgr().OnGetLocation();\r\n\r\n        this.schedule(this.RunRoomDisplay,0.5);\r\n        this.scheduleOnce(()=>{\r\n            this.Click_btn_qhwh()\r\n        },0.2)\r\n    },\r\n    CheckInRoom:function(){\r\n        let self=this;\r\n        app.NetManager().SendPack(\"room.CBaseRoomConfig\", {}, function(event){\r\n            self.inRoom=true;\r\n            self.inRoomInfo=event;\r\n            self.FormManager.ShowForm(\"ui/club/UIClubInRoom\",event);\r\n            }, function(event){\r\n                console.log(\"\");\r\n            }\r\n        );\r\n    },\r\n    Event_OnDiamondsNotEnough:function(event){\r\n        app.SysNotifyManager().ShowSysMsg(event.name+\"\"+event.diamondsValue+\",\");\r\n    },\r\n    OnTouch:function(event){\r\n        if ('touchstart' == event.type) {\r\n           \r\n        }else if ('touchend' == event.type || 'touchcancel' == event.type) {\r\n            //\r\n            this.CheckRoomDisplay();\r\n        }else if ('touchmove' == event.type) {\r\n            \r\n        }\r\n    },\r\n    GetDiscountTypeData: function (serverPack) {\r\n        this.discountType = serverPack;\r\n    },\r\n    ChangeBg:function(){\r\n        let clubBg=cc.sys.localStorage.getItem(\"ClubNewBg\");\r\n        if (clubBg == null || typeof(clubBg) == \"undefined\") {\r\n            cc.sys.localStorage.setItem(\"ClubNewBg\", \"4\");\r\n            clubBg = 4;\r\n        }\r\n        console.log(\"ChangeBg clubBg:\"+clubBg);\r\n        this.node.getChildByName('bg').getComponent(cc.Sprite).spriteFrame=this.clubBg[clubBg];\r\n    },\r\n    ShowUserInfo:function(){\r\n        let heroName = app.HeroManager().GetHeroProperty(\"name\");\r\n        this.lb_name.string = this.ComTool.GetBeiZhuName(heroID,heroName);\r\n        let heroID = app.HeroManager().GetHeroProperty(\"pid\");\r\n        let headImageUrl = app.HeroManager().GetHeroProperty(\"headImageUrl\");\r\n        this.lb_id.string = app.i18n.t(\"UIMain_PIDText\",{\"pid\":this.ComTool.GetPid(heroID)});\r\n        this.WeChatHeadImage1.OnLoad();\r\n        this.WeChatHeadImage1.ShowHeroHead(heroID,headImageUrl);\r\n    },\r\n    Event_AllClubDataNtf:function(){\r\n        this.UpdateClubList();\r\n    },\r\n    Event_LoadClub:function(clubData){\r\n        //let clubData = app.ClubManager().GetClubDataByClubID(this.nowClubID);\r\n        if (!clubData) {\r\n            app.SysNotifyManager().ShowSysMsg('');\r\n            let clubDatas = app.ClubManager().GetClubData();\r\n            if(clubDatas.length==0){\r\n                this.FormManager.ShowForm(\"ui/club/UIClubNone\");\r\n            }else{\r\n                this.FormManager.ShowForm(\"ui/club/UIClubList\");\r\n            }\r\n            this.CloseForm();\r\n            return;\r\n        }\r\n        let cityInfo = this.selectCityConfig[clubData.cityId] || {Name:\"\"};\r\n        this.node.getChildByName(\"top\").getChildByName(\"lb_cityName\").getComponent(cc.Label).string = cityInfo.Name;\r\n\r\n        this.clubName.string=clubData.name;\r\n        this.clubId.string=\"ID:\"+clubData.clubsign;\r\n        this.nowClubID=clubData.id;\r\n        this.nowUnionID=clubData.unionId;\r\n        this.nowCLubSign=clubData.clubsign;\r\n        this.nowClubName=clubData.name;\r\n        \r\n        app.ClubManager().SetUnionSendPackHead(clubData.unionId,clubData.id);\r\n        app.ClubManager().SetLastClubData(clubData.id,clubData.clubsign,clubData.name,clubData.showUplevelId,clubData.showClubSign);\r\n        this.Event_RefreshRoomList(); //\r\n        this.isShowClubSign=clubData.showClubSign;\r\n        this.showLostConnect =clubData.showLostConnect;\r\n        \r\n        this.CheckSkinType(clubData);\r\n        this.tableNum = clubData.tableNum;\r\n        /*if(!cc.sys.isNative){\r\n            this.tableNum=5;\r\n        }*/\r\n        this.myisminister = clubData.minister;\r\n        this.myisPartner = clubData.promotion;\r\n        this.levelPromotion = clubData.levelPromotion;    //0\r\n        this.isPromotionManage = clubData.isPromotionManage;  //\r\n        this.promotionManagePid=clubData.promotionManagePid;\r\n        this.sort = clubData.sort;\r\n        this.unionId = clubData.unionId;\r\n        this.unionType = clubData.unionType;\r\n        this.unionPostType = -1;\r\n        this.unionName = \"\";\r\n        this.unionSign = -1;\r\n\r\n        \r\n\r\n        /**\r\n        * 0:,1:\r\n        */\r\n        this.kicking = clubData.kicking;\r\n        /**\r\n        * 0:,1:\r\n        */\r\n        this.modifyValue = clubData.modifyValue;\r\n        /**\r\n        * 0:,1:\r\n        */\r\n        this.showShare = clubData.showShare;\r\n        /**\r\n        * 0:,1:\r\n        */\r\n        this.invite = clubData.invite;\r\n        let self = this;\r\n        let unionNode = this.node.getChildByName('bottom').getChildByName('unionNode');\r\n        let moreNode = this.node.getChildByName('top').getChildByName('right_btn').getChildByName('moreNode');\r\n        moreNode.getChildByName('childMore').getChildByName('btn_findroom').active=true;\r\n        moreNode.getChildByName('childMore').getChildByName('btn_caseSprots').active=false;\r\n\r\n        if (this.unionId > 0) {\r\n            //ID\r\n            var localStorage = cc.sys.localStorage;\r\n            this.unionMyWanFa = localStorage.getItem(\"mywanfa_\"+this.unionId+\"_\"+this.nowClubID);\r\n            //\r\n            this.node.getChildByName('bottom').getChildByName('btn_qhqyq').active=false;\r\n            this.node.getChildByName('bottom').getChildByName('btn_ycqyq').active=false;\r\n            this.node.getChildByName('bottom').getChildByName('btn_qhwh').active=true;\r\n            this.node.getChildByName(\"top\").getChildByName(\"btn_changeclub\").active=true;\r\n            this.left.active=false;\r\n            //ID\r\n            this.unionName = clubData.unionName;\r\n            this.ownerClubName = clubData.ownerClubName;\r\n            this.unionPostType = clubData.unionPostType;\r\n            unionNode.getChildByName(\"btn_unionRoomList\").active = false;\r\n            if (this.myisminister == app.ClubManager().Club_MINISTER_MGRSS) {\r\n                unionNode.getChildByName(\"btn_unionRoomList\").active = true;\r\n            }\r\n            if (this.unionPostType == app.ClubManager().UNION_MANAGE ||\r\n                this.unionPostType == app.ClubManager().UNION_CREATE) {\r\n                unionNode.getChildByName(\"btn_unionRoomList\").active = true;\r\n                let allSelectCityData = app.HeroManager().GetCurSelectCityData();\r\n                let curUserCityId = allSelectCityData[0]['selcetId'];\r\n                if (clubData.cityId != curUserCityId) {\r\n                    //\r\n                    app.NetManager().SendPack(\"room.CBaseGameIdList\", {\"selectCityId\":clubData.cityId}, function(event){\r\n                        app.Client.allGameIdFormServer = event.split(\",\");\r\n                        let curSelectGameList = app.Client.GetAllGameId();\r\n                        let argDict = {\r\n                            \"gameList\":curSelectGameList,\r\n                        };\r\n\r\n                        app.HeroManager().UpdateCity(clubData.cityId);\r\n                        cc.sys.localStorage.setItem(\"myCityID\",clubData.cityId);\r\n\r\n\r\n                        app.Client.OnEvent(\"ShowGameListByLocation\", argDict);\r\n                        app.SysNotifyManager().ShowSysMsg(':['+cityInfo.Name+\"]\",[],3);\r\n                    }, function(event){\r\n                        console.log(\"id\");\r\n                    });\r\n                }\r\n            }\r\n            this.unionSign = clubData.unionSign;\r\n            unionNode.active = true;\r\n            let sportsPointStr = clubData.sportsPoint;\r\n            if(clubData.sportsPoint >= 1000000){\r\n                sportsPointStr = (clubData.sportsPoint/10000).toFixed(1).toString() + '';\r\n            }\r\n            unionNode.getChildByName('img_bjl').getChildByName('lb_pl').getComponent(cc.Label).string = sportsPointStr;\r\n            if(clubData.unionType==1){\r\n                //\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_title_4').active = false;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_spWarning').active = false;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_title_3').active = true;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_taotaifen').active = true;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_taotaifen').getComponent(cc.Label).string = clubData.eliminatePoint;\r\n            }else if (typeof(clubData.personalSportsPointWarning) == \"undefined\") {\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_title_4').active = false;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_spWarning').active = false;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_title_3').active = true;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_taotaifen').active = true;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_taotaifen').getComponent(cc.Label).string = clubData.outSportsPoint;\r\n            }else{\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_title_4').active = true;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_spWarning').active = true;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_title_3').active = false;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_taotaifen').active = false;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_spWarning').getComponent(cc.Label).string = clubData.personalSportsPointWarning;\r\n            }\r\n            //\r\n            this.endRoundTime = clubData.endRoundTime;\r\n            let endRoundTimeStr = app.ServerTimeManager().GetCDTimeStringBySec(this.endRoundTime, app.ShareDefine().DayHourMinuteSecond);\r\n            unionNode.getChildByName('img_bjl').getChildByName('lb_raceTime').getComponent(cc.Label).string = endRoundTimeStr;\r\n            //\r\n            if (clubData.unionState == 1) {\r\n                //\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").getComponent(cc.Label).string = \"\";\r\n                unionNode.getChildByName(\"btn_outRace\").getComponent(cc.Sprite).spriteFrame = this.btn_outRaceSprite[1];\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").color = new cc.Color(255, 255, 255);\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").getComponent(cc.LabelOutline).color = new cc.Color(78, 78, 78);\r\n            }else if (clubData.unionState == 2) {\r\n                //\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").getComponent(cc.Label).string = \"\";\r\n                unionNode.getChildByName(\"btn_outRace\").getComponent(cc.Sprite).spriteFrame = this.btn_outRaceSprite[0];\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").color = new cc.Color(255, 255, 255);\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").getComponent(cc.LabelOutline).color = new cc.Color(124, 64, 32);\r\n            }else if (clubData.unionState == 3) {\r\n                //\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").getComponent(cc.Label).string = \"\";\r\n                unionNode.getChildByName(\"btn_outRace\").getComponent(cc.Sprite).spriteFrame = this.btn_outRaceSprite[0];\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").color = new cc.Color(255, 255, 255);\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").getComponent(cc.LabelOutline).color = new cc.Color(124, 64, 32);\r\n            }\r\n            if (this.unionPostType == app.ClubManager().UNION_CREATE) {\r\n                //\r\n                unionNode.getChildByName(\"btn_outRace\").active = false;\r\n            }else{\r\n                unionNode.getChildByName(\"btn_outRace\").active = true;\r\n            }\r\n            //\r\n            if (clubData.caseStatus > 0) {\r\n                moreNode.getChildByName('childMore').getChildByName('btn_caseSprots').active=true;\r\n            }\r\n            this.node.getChildByName('bottom').getChildByName('btn_shop').active=false;\r\n            this.node.getChildByName('bottom').getChildByName('btn_RoomMgr').active=false;\r\n            this.node.getChildByName('bottom').getChildByName('fangka').active=false;\r\n            this.node.getChildByName('bottom').getChildByName('userinfo').active=false;\r\n            this.node.getChildByName('bottom').getChildByName('btn_zhanji').active=false;\r\n            this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_sportsPointMsg').active=true;\r\n            this.ShowUnionTip();\r\n            this.ShowUnionRankTip(clubData);\r\n            //\r\n            this.ShowUnionStateType(clubData.unionStateType);\r\n        }else{\r\n            unionNode.active = false;\r\n            this.left.active=false;\r\n            this.node.getChildByName(\"top\").getChildByName(\"btn_changeclub\").active=false;\r\n            this.node.getChildByName('bottom').getChildByName('btn_qhwh').active=false;\r\n            this.node.getChildByName('bottom').getChildByName('btn_qhqyq').active=true;\r\n            this.node.getChildByName('bottom').getChildByName('btn_ycqyq').active=false;\r\n            this.node.getChildByName('bottom').getChildByName('userinfo').active=true;\r\n            this.node.getChildByName('bottom').getChildByName('btn_shop').active=false;\r\n            this.node.getChildByName('bottom').getChildByName('btn_RoomMgr').active=true;\r\n            this.node.getChildByName('bottom').getChildByName('fangka').active=false;\r\n            this.node.getChildByName('bottom').getChildByName('btn_zhanji').active=true;\r\n            this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_sportsPointMsg').active=false;\r\n            if (this.myisminister == app.ClubManager().Club_MINISTER_MGR || this.myisminister == app.ClubManager().Club_MINISTER_MGRSS || this.myisminister == app.ClubManager().Club_MINISTER_CREATER) {\r\n                let allSelectCityData = app.HeroManager().GetCurSelectCityData();\r\n                let curUserCityId = allSelectCityData[0]['selcetId'];\r\n                if (clubData.cityId != curUserCityId) {\r\n                    //\r\n                    app.NetManager().SendPack(\"room.CBaseGameIdList\", {\"selectCityId\":clubData.cityId}, function(event){\r\n                        app.Client.allGameIdFormServer = event.split(\",\");\r\n                        let curSelectGameList = app.Client.GetAllGameId();\r\n                        let argDict = {\r\n                            \"gameList\":curSelectGameList,\r\n                        };\r\n\r\n                        app.HeroManager().UpdateCity(clubData.cityId);\r\n                        cc.sys.localStorage.setItem(\"myCityID\",clubData.cityId);\r\n\r\n                        app.Client.OnEvent(\"ShowGameListByLocation\", argDict);\r\n                        app.SysNotifyManager().ShowSysMsg(':['+cityInfo.Name+\"]\",[],3);\r\n                    }, function(event){\r\n                        console.log(\"id\");\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        if(this.myisminister != app.ClubManager().Club_MINISTER_GENERAL){\r\n            if (this.unionId <= 0) {\r\n                this.node.getChildByName('bottom').getChildByName('btn_RoomMgr').active=true;\r\n                this.node.getChildByName('bottom').getChildByName('btn_zhanji').active=true;\r\n            }\r\n            this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_userlist').active=true;\r\n            //moreNode.getChildByName('childMore').getChildByName('btn_control').active=true;\r\n            //moreNode.getChildByName('childMore').getChildByName('btn_control').active=false;\r\n            moreNode.getChildByName('childMore').getChildByName('btn_weixin').active=true;\r\n            if (this.unionId > 0) {\r\n                this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_roomlist').active=false;\r\n                moreNode.getChildByName('childMore').getChildByName('btn_roomManger').active=false;\r\n            }else{\r\n                this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_roomlist').active=true;\r\n                moreNode.getChildByName('childMore').getChildByName('btn_roomManger').active=true;\r\n            }\r\n            //\r\n            if (this.myisminister == app.ClubManager().Club_MINISTER_CREATER || this.myisminister == app.ClubManager().Club_MINISTER_MGRSS) {\r\n                this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_union').active=true;\r\n            }else{\r\n                this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_union').active=false;\r\n            }\r\n            moreNode.getChildByName('childMore').getChildByName('btn_jinzhitongzhuo').active=true;\r\n            moreNode.getChildByName('childMore').getChildByName('btn_message').active=true;\r\n            moreNode.active=true;\r\n        }else{\r\n            this.node.getChildByName('bottom').getChildByName('btn_RoomMgr').active=false;\r\n            // this.node.getChildByName('bottom').getChildByName('btn_zhanji').active=false;\r\n\r\n            if(this.levelPromotion>0 || this.isPromotionManage>0){\r\n                this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_userlist').active=true;\r\n            }else{\r\n                this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_userlist').active=false;\r\n            }\r\n\r\n            //moreNode.getChildByName('childMore').getChildByName('btn_control').active=true;\r\n            //moreNode.getChildByName('childMore').getChildByName('btn_control').active=false;\r\n            moreNode.getChildByName('childMore').getChildByName('btn_weixin').active=false;\r\n            this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_roomlist').active=false;\r\n            this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_union').active=false;\r\n            moreNode.getChildByName('childMore').getChildByName('btn_roomManger').active=false;\r\n            moreNode.getChildByName('childMore').getChildByName('btn_jinzhitongzhuo').active=false;\r\n            moreNode.getChildByName('childMore').getChildByName('btn_message').active=false;\r\n            moreNode.active=true;\r\n        }\r\n        moreNode.getChildByName('childMore').getChildByName('btn_control').active=true;//this.myisminister== app.ClubManager().Club_MINISTER_CREATER;\r\n        // moreNode.getChildByName('childMore').getChildByName('btn_roomManger').active=true;\r\n        //\r\n        if(this.myisPartner == app.ClubManager().Club_PARTNER_ONE ||  this.myisminister == app.ClubManager().Club_MINISTER_CREATER ){\r\n        //    moreNode.getChildByName('childMore').getChildByName('btn_promoterOld').active=true;\r\n              moreNode.getChildByName('childMore').getChildByName('btn_promoterOld').active=false;\r\n        }else{\r\n            moreNode.getChildByName('childMore').getChildByName('btn_promoterOld').active=false;\r\n        }\r\n        //\r\n        if(this.isPromotionManage>0 || this.levelPromotion > 0 ||  this.myisminister == app.ClubManager().Club_MINISTER_CREATER ){\r\n            this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_promoter').active=true;\r\n        }else{\r\n            this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_promoter').active=false;\r\n        }\r\n        //\r\n        if (this.myisPartner == app.ClubManager().Club_PARTNER_ONE ||  this.myisminister == app.ClubManager().Club_MINISTER_GENERAL) {\r\n            moreNode.active=true;\r\n            moreNode.getChildByName('childMore').getChildByName('btn_roomManger').active=false;\r\n        }\r\n        //\r\n        if (clubData.existApply) {\r\n            this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_userlist').getChildByName('img_hd').active=true;\r\n        }else{\r\n            this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_userlist').getChildByName('img_hd').active=false;\r\n        }\r\n        //if (this.unionId > 0) {\r\n            if(this.myisminister != app.ClubManager().Club_MINISTER_GENERAL || this.isPromotionManage>0 || this.levelPromotion > 0){\r\n                moreNode.getChildByName('childMore').getChildByName('btn_jinzhitongzhuo').active=true;\r\n            }else{\r\n                moreNode.getChildByName('childMore').getChildByName('btn_jinzhitongzhuo').active=false;\r\n            }\r\n        //}\r\n    },\r\n    Event_RefreshRoomList:function(){\r\n        this.ScrollDataPage = 1;\r\n        this.ShowRoomKeyList=[];\r\n        this.CreateRoomKeyList=[];\r\n        app.ClubManager().SendGetAllRoom(this.nowClubID);\r\n    },\r\n    Event_UnionSportsPoint:function(event){\r\n        let selfPid = app.HeroManager().GetHeroProperty(\"pid\");\r\n        if (this.unionId > 0 && this.nowClubID == event.clubId && selfPid == event.pid) {\r\n            if(event.sportsPoint >= 1000000){\r\n                event.sportsPoint = (event.sportsPoint/10000).toFixed(1).toString() + '';\r\n            }\r\n            this.node.getChildByName('bottom').getChildByName('unionNode').getChildByName('img_bjl').getChildByName('lb_pl').getComponent(cc.Label).string = event.sportsPoint;\r\n        }\r\n    },\r\n    Event_PromotionLevelPowerChange:function(event){\r\n        let selfPid = app.HeroManager().GetHeroProperty(\"pid\");\r\n        if (this.nowClubID == event.clubId && selfPid == event.pid) {\r\n            this.kicking = event.kicking;\r\n            this.modifyValue = event.modifyValue;\r\n            this.showShare = event.showShare;\r\n            this.invite = event.invite;\r\n            this.levelPromotion = event.levelPromotion;\r\n        }\r\n    },\r\n    Event_ClubPlayerNtfToManager:function(event){\r\n        if (event.clubId != this.nowClubID) {\r\n            return;\r\n        }\r\n        this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_userlist').getChildByName('img_hd').active=true;\r\n    },\r\n    Event_UnionMatchState:function(event){\r\n        let selfPid = app.HeroManager().GetHeroProperty(\"pid\");\r\n        if (event.clubId != this.nowClubID || event.unionId != this.unionId ||\r\n            event.pid != selfPid) {\r\n            return;\r\n        }\r\n        if (event.operate == 0) {\r\n            //\r\n            if (event.type == 2) {\r\n                //\r\n                app.SysNotifyManager().ShowSysMsg('');\r\n            }else if (event.type == 3) {\r\n                //\r\n                app.SysNotifyManager().ShowSysMsg('');\r\n            }\r\n        }else{\r\n            //\r\n            if (event.type == 2) {\r\n                //\r\n                app.SysNotifyManager().ShowSysMsg('');\r\n            }else if (event.type == 3) {\r\n                //\r\n                app.SysNotifyManager().ShowSysMsg('');\r\n            }\r\n        }\r\n        //\r\n        let unionNode = this.node.getChildByName('bottom').getChildByName('unionNode');\r\n        let lbBtnName = unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").getComponent(cc.Label);\r\n        if (event.matchState == 1) {\r\n            //\r\n            lbBtnName.string = \"\";\r\n            unionNode.getChildByName(\"btn_outRace\").getComponent(cc.Sprite).spriteFrame = this.btn_outRaceSprite[1];\r\n            unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").color = new cc.Color(255, 255, 255);\r\n            unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").getComponent(cc.LabelOutline).color = new cc.Color(78, 78, 78);\r\n        }else if (event.matchState == 2) {\r\n            //\r\n            lbBtnName.string = \"\";\r\n                unionNode.getChildByName(\"btn_outRace\").getComponent(cc.Sprite).spriteFrame = this.btn_outRaceSprite[0];\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").color = new cc.Color(255, 255, 255);\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").getComponent(cc.LabelOutline).color = new cc.Color(124, 64, 32);\r\n        }else if (event.matchState == 3) {\r\n            //\r\n            lbBtnName.string = \"\";\r\n                unionNode.getChildByName(\"btn_outRace\").getComponent(cc.Sprite).spriteFrame = this.btn_outRaceSprite[0];\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").color = new cc.Color(255, 255, 255);\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").getComponent(cc.LabelOutline).color = new cc.Color(124, 64, 32);\r\n        }\r\n    },\r\n    Event_UnionStateChange:function(event){\r\n        if (event.unionId == this.unionId) {\r\n            if (event.stateType == 0) {\r\n                this.endRoundTime = event.endRoundTime;\r\n            }\r\n            this.ShowUnionStateType(event.stateType);\r\n        }\r\n    },\r\n    Event_OutSportsPoint:function(event){\r\n        if (event.unionId == this.unionId) {\r\n            let unionNode = this.node.getChildByName('bottom').getChildByName('unionNode');\r\n            unionNode.getChildByName('img_bjl').getChildByName('lb_taotaifen').getComponent(cc.Label).string = event.outSports;\r\n        }\r\n    },\r\n    Event_SportsPointWarning:function(event){\r\n        if (event.unionId == this.unionId) {\r\n            let unionNode = this.node.getChildByName('bottom').getChildByName('unionNode');\r\n            if (event.type == 0) {\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_title_4').active = false;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_spWarning').active = false;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_title_3').active = true;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_taotaifen').active = true;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_taotaifen').getComponent(cc.Label).string = event.taoTaiValue;\r\n            }else{\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_title_4').active = true;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_spWarning').active = true;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_title_3').active = false;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_taotaifen').active = false;\r\n                unionNode.getChildByName('img_bjl').getChildByName('lb_spWarning').getComponent(cc.Label).string = event.personalSportsPointWarning;\r\n            }\r\n        }\r\n    },\r\n    Event_InitClubRoom:function(serverPack){\r\n        if (serverPack.clubId != this.nowClubID) {\r\n            console.log(\"serverPack clubId:\" + serverPack.clubId + \",nowClubID:\"+this.nowClubID);\r\n            return;\r\n        }\r\n        let beginTable=0;\r\n        this.roomList = [];\r\n        this.roomKeyList = [];\r\n        let unionMyWanFa=this.MyUnionMyWanFaArray();\r\n        for (let i = 0; i < serverPack.roomList.length; i++) {\r\n            if(this.roomKeyList.indexOf(serverPack.roomList[i].roomKey)>-1){\r\n                continue;  //\r\n            }\r\n            this.roomKeyList.push(serverPack.roomList[i].roomKey);\r\n            if(unionMyWanFa.length>0 && unionMyWanFa.indexOf(serverPack.roomList[i].tagId.toString())==-1){\r\n                continue;\r\n            }\r\n            serverPack.roomList[i].posList=[];\r\n            if(serverPack.roomList[i].setId>0){\r\n                if(beginTable>=this.tableNum && this.tableNum>0){\r\n                    continue;\r\n                }\r\n                this.roomList.push(serverPack.roomList[i]);\r\n                beginTable++;\r\n            }else{\r\n                this.roomList.push(serverPack.roomList[i]);\r\n            }\r\n        }\r\n        //X\r\n        this.ShowRoomKeyList=[];\r\n        this.CreateRoomKeyList=[];\r\n        this.InitNullTable(this.roomList);\r\n    },\r\n    GameType2Name:function(gameType){\r\n        let gameTypeID=this.ShareDefine.GametTypeNameDict[gameType];\r\n        return this.ShareDefine.GametTypeID2Name[gameTypeID];\r\n    },\r\n    GameId2Name:function(gameId){\r\n        return this.ShareDefine.GametTypeID2Name[gameId];\r\n    },\r\n    GameId2PinYin:function(gameId){\r\n        return this.ShareDefine.GametTypeID2PinYin[gameId];\r\n    },\r\n    GetWanFa:function(gameType,gameCfg){\r\n        let wanfa=app.RoomCfgManager().WanFa(gameType,gameCfg);\r\n        return wanfa;\r\n    },\r\n    isShowLiXian:function(islixian){\r\n        //\r\n        return false;\r\n    },\r\n    InitHead:function(node,playerNum,posList){\r\n        let clubTable=this.GetCLubTable();\r\n        if(clubTable<3){\r\n            node.getChildByName('head_layout').getChildByName('user1').active=false;\r\n            node.getChildByName('head_layout').getChildByName('user2').active=false;\r\n            node.getChildByName('head_layout').getChildByName('user3').active=false;\r\n            node.getChildByName('head_layout').getChildByName('user4').active=false;\r\n            let key=clubTable*3;\r\n            if(playerNum==2){\r\n                node.getComponent(cc.Sprite).spriteFrame=this.roomBg[key+0];\r\n            }else if(playerNum==3){\r\n                node.getComponent(cc.Sprite).spriteFrame=this.roomBg[key+1];\r\n            }else if(playerNum>=4){\r\n                node.getComponent(cc.Sprite).spriteFrame=this.roomBg[key+2];\r\n            }\r\n            for(let i=0;i<posList.length;i++){\r\n                if(i>3){\r\n                    break;\r\n                }\r\n                let heroID = posList[i][\"pid\"];\r\n                if(heroID>0){\r\n                    let name = posList[i][\"name\"];\r\n                    let headImageUrl = posList[i][\"headImageUrl\"];\r\n                    let usernode=node.getChildByName('head_layout').getChildByName('user'+(i+1));\r\n                    usernode.active=true;\r\n                    usernode.getChildByName('name').getChildByName('lb').getComponent(cc.Label).string=name.substr(0,4);\r\n                    if(heroID>0){\r\n                        let touxiang=usernode.getChildByName('mask').getChildByName('head');\r\n                        this.WeChatManager.InitHeroHeadImage(heroID, headImageUrl);\r\n                        let WeChatHeadImage=touxiang.getComponent(\"WeChatHeadImage\");\r\n                        WeChatHeadImage.OnLoad();\r\n                        WeChatHeadImage.ShowHeroHead(heroID,headImageUrl);\r\n                        //\r\n                        if(this.showLostConnect==0){\r\n                            usernode.getChildByName('mask').getChildByName('lixian').active=this.isShowLiXian(posList[i].isLostConnect);\r\n                        }else{\r\n                            usernode.getChildByName('mask').getChildByName('lixian').active=false;\r\n                        }\r\n                        let benquan=usernode.getChildByName(\"benquan\");\r\n                        if(posList[i].clubID==this.nowClubID && this.isShowClubSign==true){\r\n                            if(benquan){\r\n                                benquan.active=true;\r\n                            }else{\r\n                                let addbenquan = cc.instantiate(this.icon_benquan);\r\n                                addbenquan.name=\"benquan\";\r\n                                usernode.addChild(addbenquan);\r\n                            }\r\n                        }else{\r\n                            if(benquan){\r\n                                benquan.active=false;\r\n                            }\r\n                        }\r\n                       \r\n                    }\r\n                }\r\n            }\r\n        }else if(clubTable==4){\r\n            //\r\n            for(let i=1;i<=8;i++){ //8\r\n                let head=node.getChildByName('head_layout').getChildByName('user'+i);\r\n                if(head){\r\n                    head.active=false;\r\n                }\r\n            }\r\n            for(let i=0;i<posList.length;i++){\r\n                let heroID = posList[i][\"pid\"];\r\n                if(heroID>0){\r\n                    let name = posList[i][\"name\"];\r\n                    let headImageUrl = posList[i][\"headImageUrl\"];\r\n                    let usernode=node.getChildByName('head_layout').getChildByName('user'+(i+1));\r\n                    usernode.active=true;\r\n                    usernode.getChildByName('name').getChildByName('lb').getComponent(cc.Label).string=name.substr(0,4);\r\n                    if(heroID>0){\r\n                        let touxiang=usernode.getChildByName('mask').getChildByName('head');\r\n                        this.WeChatManager.InitHeroHeadImage(heroID, headImageUrl);\r\n                        let WeChatHeadImage=touxiang.getComponent(\"WeChatHeadImage\");\r\n                        WeChatHeadImage.OnLoad();\r\n                        WeChatHeadImage.ShowHeroHead(heroID,headImageUrl);\r\n                        //\r\n                        if(this.showLostConnect==0){\r\n                            usernode.getChildByName('mask').getChildByName('lixian').active=this.isShowLiXian(posList[i].isLostConnect);\r\n                        }else{\r\n                            usernode.getChildByName('mask').getChildByName('lixian').active=false;\r\n                        }\r\n                        let benquan=usernode.getChildByName(\"benquan\");\r\n                        if(posList[i].clubID==this.nowClubID && this.isShowClubSign==true){\r\n                            if(benquan){\r\n                                benquan.active=true;\r\n                            }else{\r\n                                let addbenquan = cc.instantiate(this.icon_benquan);\r\n                                addbenquan.name=\"benquan\";\r\n                                usernode.addChild(addbenquan);\r\n                            }\r\n                        }else{\r\n                            if(benquan){\r\n                                benquan.active=false;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        }else if(clubTable==3){\r\n            for(let i=1;i<=8;i++){ //8\r\n                let head=node.getChildByName('head_layout').getChildByName('user'+i);\r\n                if(head){\r\n                    head.active=false;\r\n                }\r\n            }\r\n           \r\n            for(let i=0;i<posList.length;i++){\r\n                if(i>3){\r\n                    break;\r\n                }\r\n                let heroID = posList[i][\"pid\"];\r\n                if(heroID>0){\r\n                    let name = posList[i][\"name\"];\r\n                    let headImageUrl = posList[i][\"headImageUrl\"];\r\n                    let usernode=node.getChildByName('head_layout').getChildByName('user'+(i+1));\r\n                    usernode.active=true;\r\n                    usernode.getChildByName('name').getChildByName('lb').getComponent(cc.Label).string=name.substr(0,4);\r\n                    if(heroID>0){\r\n                        let touxiang=usernode.getChildByName('mask').getChildByName('head');\r\n                        this.WeChatManager.InitHeroHeadImage(heroID, headImageUrl);\r\n                        let WeChatHeadImage=touxiang.getComponent(\"WeChatHeadImage\");\r\n                        WeChatHeadImage.OnLoad();\r\n                        WeChatHeadImage.ShowHeroHead(heroID,headImageUrl);\r\n                        //\r\n                        if(this.showLostConnect==0){\r\n                            usernode.getChildByName('mask').getChildByName('lixian').active=this.isShowLiXian(posList[i].isLostConnect);\r\n                        }else{\r\n                            usernode.getChildByName('mask').getChildByName('lixian').active=false;\r\n                        }\r\n                        let benquan=usernode.getChildByName(\"benquan\");\r\n                        if(posList[i].clubID==this.nowClubID && this.isShowClubSign==true){\r\n                            if(benquan){\r\n                                benquan.active=true;\r\n                            }else{\r\n                                let addbenquan = cc.instantiate(this.icon_benquan);\r\n                                addbenquan.name=\"benquan\";\r\n                                usernode.addChild(addbenquan);\r\n                            }\r\n                        }else{\r\n                            if(benquan){\r\n                                benquan.active=false;\r\n                            }\r\n                        }\r\n                       \r\n                    }\r\n                }\r\n            }\r\n        }else if(clubTable==5 || clubTable==6){\r\n            //\r\n            for(let i=1;i<=10;i++){ //8\r\n                let head=node.getChildByName('head_layout').getChildByName('user'+i);\r\n                if(head){\r\n                    head.active=false;\r\n                }\r\n            }\r\n           \r\n            for(let i=0;i<posList.length;i++){\r\n                if(i>3){\r\n                    break;\r\n                }\r\n                let heroID = posList[i][\"pid\"];\r\n                if(heroID>0){\r\n                    let name = posList[i][\"name\"];\r\n                    let headImageUrl = posList[i][\"headImageUrl\"];\r\n                    let usernode=node.getChildByName('head_layout').getChildByName('user'+(i+1));\r\n                    usernode.active=true;\r\n                    usernode.getChildByName('name').getChildByName('lb').getComponent(cc.Label).string=name.substr(0,4);\r\n                    if(heroID>0){\r\n                        let touxiang=usernode.getChildByName('mask').getChildByName('head');\r\n                        this.WeChatManager.InitHeroHeadImage(heroID, headImageUrl);\r\n                        let WeChatHeadImage=touxiang.getComponent(\"WeChatHeadImage\");\r\n                        WeChatHeadImage.OnLoad();\r\n                        WeChatHeadImage.ShowHeroHead(heroID,headImageUrl);\r\n                        //\r\n                        if(this.showLostConnect==0){\r\n                            usernode.getChildByName('mask').getChildByName('lixian').active=this.isShowLiXian(posList[i].isLostConnect);\r\n                        }else{\r\n                            usernode.getChildByName('mask').getChildByName('lixian').active=false;\r\n                        }\r\n                        let benquan=usernode.getChildByName(\"benquan\");\r\n                        if(posList[i].clubID==this.nowClubID && this.isShowClubSign==true){\r\n                            if(benquan){\r\n                                benquan.active=true;\r\n                            }else{\r\n                                let addbenquan = cc.instantiate(this.icon_benquan);\r\n                                addbenquan.name=\"benquan\";\r\n                                usernode.addChild(addbenquan);\r\n                            }\r\n                        }else{\r\n                            if(benquan){\r\n                                benquan.active=false;\r\n                            }\r\n                        }\r\n                       \r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    Event_ClubPlayerNtf:function(event){\r\n        let status = event.clubPlayerInfo.status;\r\n        let pid = event.clubPlayerInfo.shortPlayer.pid;\r\n        let selfPid = app.HeroManager().GetHeroProperty(\"pid\");\r\n        if(selfPid == pid){\r\n            if(app.ClubManager().Enum_Join == status ||\r\n                app.ClubManager().Enum_Kick == status ||\r\n                app.ClubManager().Enum_Leave == status){\r\n                app.ClubManager().SendGetAllRoom(this.nowClubID);\r\n                app.ClubManager().SendReqClubData();\r\n            } \r\n        }\r\n    },\r\n    Event_ClubCardNtf:function(serverPack){\r\n        let clubData = app.ClubManager().GetClubData();\r\n        let datas = serverPack.roomCardAttentions;\r\n        let selfPid = app.HeroManager().GetHeroProperty(\"pid\");\r\n        this.clubCardNtfs = [];\r\n        for(let i=0;i<clubData.length;i++){\r\n            for(let j=0;j<datas.length;j++){\r\n                if(this.nowClubID==clubData[i].id){\r\n                    //\r\n                    if(clubData[i].id == datas[j].clubId && datas[j].roomcard <= datas[j].roomcardattention){\r\n                        let isMag = app.ClubManager().IsManager(datas[j].clubId,selfPid);\r\n                        if(isMag)\r\n                            this.clubCardNtfs.push(datas[j]);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        if(0 != this.clubCardNtfs.length){\r\n            this.SetWaitForConfirm(\r\n                'MSG_CLUB_RoomCard_Not_Enough',\r\n                this.ShareDefine.ConfirmOK,\r\n                [this.clubCardNtfs[0].clubName,this.clubCardNtfs[0].roomcardattention],\r\n                [this.clubCardNtfs[0].clubId],\r\n            );\r\n        }\r\n    },\r\n    RemoveRoomKey:function(roomKey){\r\n        var index = this.roomKeyList.indexOf(roomKey); \r\n        if (index > -1) { \r\n            this.roomKeyList.splice(index, 1); \r\n        } \r\n    },\r\n    Event_RoomStatusChange:function(serverPack){\r\n        if (typeof(serverPack.clubId)!=\"undefined\" && serverPack.clubId != this.nowClubID) {\r\n            return;\r\n        }\r\n        if (typeof(serverPack.unionId)!=\"undefined\" && serverPack.unionId != this.unionId) {\r\n            return;\r\n        }\r\n        let roomData=serverPack.roomInfoItem;\r\n        let isClose=roomData.isClose;\r\n        let length=this.roomList.length;\r\n        let isChange=false;\r\n        for(let i=0;i<length;i++){\r\n            if(roomData.roomKey==this.roomList[i].roomKey){\r\n                if(isClose==true){\r\n                    this.RemoveRoomKey(roomData.roomKey);\r\n                    this.roomList.splice(i,1);\r\n                    this.RemoveChildFromScroll(roomData);\r\n                    break;\r\n                }else{\r\n                    this.roomList[i]=roomData;\r\n                    isChange=true;\r\n                    let childNode=this.GetRoomNode(roomData.roomKey);\r\n                    if(childNode!=null){\r\n                        if(childNode.isDisplay==true){\r\n                            this.UpdateChildInScroll(roomData);\r\n                        }else{\r\n                            this.SortAllRoom(childRoom, roomData);\r\n                            //this.CheckRoomDisplay();\r\n                            this.CheckRoomDisplayList.push(\"1\");\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        //\r\n        if(isChange==false && isClose==false){\r\n            let unionMyWanFa=this.MyUnionMyWanFaArray();\r\n            if(unionMyWanFa.length>0 && unionMyWanFa.indexOf(roomData.tagId.toString())==-1){\r\n                return;\r\n            }\r\n            this.roomList.push(roomData);\r\n            this.roomKeyList.push(roomData.roomKey);\r\n            this.AddChildToScroll(roomData);\r\n            this.CheckRoomDisplayList.push(\"1\");\r\n            //this.CheckRoomDisplay();\r\n        }\r\n    },\r\n\r\n    MyUnionMyWanFaArray:function(){\r\n        let unionMyWanFa=[];\r\n        if(this.unionId>0){\r\n            this.unionMyWanFa = localStorage.getItem(\"mywanfa_\"+this.unionId+\"_\"+this.nowClubID);\r\n            if(typeof(this.unionMyWanFa)!=\"undefined\" && this.unionMyWanFa!=\"\"  && this.unionMyWanFa!=null){\r\n                unionMyWanFa=this.unionMyWanFa.split(\",\");\r\n            }\r\n        }\r\n        return unionMyWanFa;\r\n    },\r\n\r\n    Event_RoomSetChange:function(serverPack){\r\n        let roomData=serverPack;\r\n        let length=this.roomList.length;\r\n        let tempData = null;\r\n        for(let i=0;i<length;i++){\r\n            if(roomData.roomKey==this.roomList[i].roomKey){\r\n                this.roomList[i].setId=roomData.setId;\r\n                this.roomList[i].sort=roomData.sort;\r\n                tempData = this.roomList[i];\r\n                break;\r\n            }\r\n        }\r\n        if (tempData != null) {\r\n            let childNode=this.GetRoomNode(tempData.roomKey);\r\n            if(childNode!=null){\r\n                if(childNode.isDisplay==true){\r\n                    this.UpdateChildInScroll(tempData);\r\n                }else{\r\n                    this.SortAllRoom(childNode,tempData);\r\n                    //this.CheckRoomDisplay();\r\n                    this.CheckRoomDisplayList.push(\"1\");\r\n                }\r\n            }\r\n        }\r\n    },\r\n    Event_RoomPlayerChange:function(serverPack){\r\n        let newRoomData = null;\r\n        for(let i=0;i<this.roomList.length;i++){\r\n            if(serverPack.roomKey==this.roomList[i].roomKey){\r\n                if(!this.roomList[i].posList){\r\n                    this.roomList[i].posList=[];\r\n                }\r\n                this.roomList[i].posList[serverPack['pos'].pos]=serverPack['pos'];\r\n                this.roomList[i].sort = serverPack['sort'];\r\n                newRoomData = this.roomList[i];\r\n                break;\r\n            }\r\n        }\r\n        if (newRoomData != null) {\r\n            let childNode=this.GetRoomNode(newRoomData.roomKey);\r\n            if(childNode!=null){\r\n                if(childNode.isDisplay==true){\r\n                    this.UpdateChildInScroll(newRoomData);\r\n                }else{\r\n                    this.SortAllRoom(childNode, newRoomData);\r\n                    //this.CheckRoomDisplay();\r\n                    this.CheckRoomDisplayList.push(\"1\");\r\n                }\r\n            }\r\n        }\r\n    },\r\n    ShowPageTip:function(page,pageNum){\r\n        //this.page_tip.removeAllChildren();\r\n        this.DestroyAllChildren(this.page_tip);\r\n        for(let i=1;i<=pageNum;i++){\r\n            let pagedemo = cc.instantiate(this.page_demo);\r\n            if(i==page){\r\n                pagedemo.getChildByName('on').active=true;\r\n            }\r\n            pagedemo.active=true;\r\n            this.page_tip.addChild(pagedemo);\r\n        }\r\n    },\r\n    GetNextRoomPage:function(){\r\n        this.ScrollDataPage += 1;\r\n        // app.ClubManager().SendGetAllRoom(this.nowClubID, this.ScrollDataPage);\r\n    },\r\n    GetClubTb:function(){\r\n        let ClubTb=cc.sys.localStorage.getItem(\"ClubNewTb\");\r\n        if (ClubTb == null || typeof(ClubTb) == \"undefined\") {\r\n           cc.sys.localStorage.setItem(\"ClubNewTb\", \"4\");\r\n           ClubTb = 4;\r\n        }\r\n        return ClubTb;\r\n    },\r\n    InitNullTable:function(roomList){\r\n        let roomScrollView = this.node.getChildByName(\"right_main\").getChildByName(\"mark\");\r\n        roomScrollView.getComponent(cc.ScrollView).scrollToLeft();\r\n        this.DestroyAllChildren(this.right_layout);\r\n        let ClubTb=this.GetClubTb();\r\n        if(ClubTb<3){\r\n            this.right_layout.height=500;\r\n            this.right_layout.getComponent(cc.Layout).spacingY=40;\r\n\r\n        }else if(ClubTb==3){\r\n            this.right_layout.height=550;\r\n            this.right_layout.getComponent(cc.Layout).spacingY=5;\r\n        }else if(ClubTb==5 || ClubTb==6){\r\n            this.right_layout.height=550;\r\n            this.right_layout.getComponent(cc.Layout).spacingY=5;\r\n        }else if(ClubTb==4){\r\n            this.right_layout.height=550;\r\n            this.right_layout.getComponent(cc.Layout).spacingY=5;\r\n            this.right_layout.getComponent(cc.Layout).spacingX=100;\r\n        }\r\n        for(let i=0;i<roomList.length;i++){\r\n            //\r\n            let isExist = false;\r\n            for (let j = 0; j < this.right_layout.children.length; j++) {\r\n                if (this.right_layout.children[j].roomKey == roomList[i].roomKey) {\r\n                    isExist = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (isExist){\r\n                console.log(\"InitNullTable ----\"+roomList[i].roomKey);\r\n                continue;\r\n            }\r\n            let club = new cc.Node();\r\n            if(ClubTb<3){\r\n                club.width=296;\r\n                club.height=212;\r\n                club.isDisplay=false;\r\n            }else if(ClubTb==3){\r\n                club.width=387;\r\n                club.height=255;\r\n                club.isDisplay=false;\r\n            }else if(ClubTb==5 || ClubTb==6){\r\n                club.width=387;\r\n                club.height=255;\r\n                club.isDisplay=false;\r\n            }else if(ClubTb==4){\r\n                club.width=324;\r\n                club.height=255;\r\n                club.isDisplay=false;\r\n            }\r\n            club.roomKey=roomList[i].roomKey;\r\n            club.playerNum=roomList[i].playerNum;\r\n            club.gameId=roomList[i].gameId;\r\n            club.tagId = roomList[i].tagId;\r\n            club.sort= roomList[i].sort;\r\n            club.zIndex=this.GetZindex(roomList[i].sort,roomList[i].tagId);\r\n            club.zIndexNum=this.GetZindex(roomList[i].sort,roomList[i].tagId);\r\n            club.active=true;\r\n            this.right_layout.addChild(club);\r\n        }\r\n        //\r\n        for (let i = 0; i < this.right_layout.children.length; i++) {\r\n            for (let j = 0; j < this.roomList.length; j++) {\r\n                if(this.roomList[j].roomKey==this.right_layout.children[i].roomKey){\r\n                    this.SortAllRoom(this.right_layout.children[i], this.roomList[j]);\r\n                }\r\n            }\r\n        }\r\n        this.CheckRoomDisplay();\r\n    },\r\n    GetRoomData:function(roomKey){\r\n        for (let j = 0; j < this.roomList.length; j++) {\r\n            if(this.roomList[j].roomKey==roomKey){\r\n                return this.roomList[j];\r\n            }\r\n        }\r\n    },\r\n    GetRoomNode:function(roomKey){\r\n        for (let i = 0; i < this.right_layout.children.length; i++) {\r\n            if(this.right_layout.children[i].roomKey==roomKey){\r\n                return this.right_layout.children[i];\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n\r\n    RunRoomDisplay:function(){\r\n        if(this.CheckRoomDisplayList.length>0){\r\n            this.CheckRoomDisplayList=[];\r\n            this.CheckRoomDisplay();\r\n        }\r\n    },\r\n    CheckRoomDisplay:function(){\r\n        let roomScrollView = this.node.getChildByName(\"right_main\").getChildByName(\"mark\");\r\n        let ScrollOffset=roomScrollView.getComponent(cc.ScrollView).getScrollOffset();\r\n        let gundongX=ScrollOffset.x;\r\n        this.right_layout.getComponent(cc.Layout).updateLayout();\r\n        let batchRoomKey=[];\r\n        //let batchRoomNode=[];\r\n        for (let i = 0; i < this.right_layout.children.length; i++) {\r\n            if(this.right_layout.children[i].x+gundongX<4000){ \r\n                //\r\n                if(this.right_layout.children[i].isDisplay==false){\r\n                    //,\r\n                    //let club =\"\";\r\n                    this.right_layout.children[i].isDisplay=true; //\r\n                    //let ClubTb=this.GetClubTb();\r\n                    //let zIndexNum=this.right_layout.children[i].zIndexNum;\r\n                    let roomKey=this.right_layout.children[i].roomKey;\r\n                    let playerNum=this.right_layout.children[i].playerNum;\r\n                    let gameId=this.right_layout.children[i].gameId;\r\n                    let tagId=this.right_layout.children[i].tagId;\r\n                    let sort=this.right_layout.children[i].sort;\r\n                    let nullNode=this.right_layout.children[i];\r\n                    if(this.ShowRoomKeyList.indexOf(roomKey)>-1){\r\n                        if(nullNode){\r\n                            nullNode.destroy();\r\n                        }\r\n                        continue;\r\n                    }\r\n                    this.ShowRoomKeyList.push(roomKey);\r\n                    nullNode.active=false;//\r\n                    batchRoomKey.push(parseInt(roomKey));\r\n                    //batchRoomNode.push(nullNode);\r\n                    //this.ShowRoomData(club,this.GetRoomData(roomID));\r\n                }\r\n                \r\n            }\r\n        }\r\n        if(batchRoomKey.length>0){\r\n            this.ShowRoomDataBatch(batchRoomKey);\r\n        }\r\n        this.right_layout.getComponent(cc.Layout).updateLayout();\r\n    },\r\n\r\n    ChangeTableColor:function(club,tagId,gameId){\r\n        let ClubTb=this.GetClubTb();\r\n        if(ClubTb==4){\r\n            //\r\n            let bg_table_color=club.getChildByName(\"bg_table_color\");  //\r\n            if(bg_table_color){\r\n                bg_table_color.getComponent(cc.Sprite).spriteFrame=this.table_majiang_xinyung[tagId%10];\r\n                return;\r\n            }\r\n            let bg_table_color_puke=club.getChildByName(\"bg_table_color_puke\");  //\r\n            if(bg_table_color_puke){\r\n                bg_table_color_puke.getComponent(cc.Sprite).spriteFrame=this.table_puke_xinyung[tagId%10];\r\n                return;\r\n            }\r\n            let bg_table_color_dazhuo=club.getChildByName(\"bg_table_color_dazhuo\");  //5\r\n            if(bg_table_color_dazhuo){\r\n                bg_table_color_dazhuo.getComponent(cc.Sprite).spriteFrame=this.table_dazhuo_xinyung[tagId%10];\r\n                return;\r\n            }\r\n        }\r\n    },\r\n    ShowRoomDataBatch:function(batchRoomKey){\r\n        let packName=\"\";\r\n        let clubData = app.ClubManager().GetClubDataByClubID(this.nowClubID);\r\n        this.nowUnionID = clubData.unionId;\r\n        if(this.nowUnionID>0){\r\n            packName=\"union.CUnionGetRoomData\";\r\n        }else{\r\n            packName=\"club.CClubGetRoomData\";\r\n        }\r\n        let that=this;\r\n        app.NetManager().SendPack(packName,{'clubId':this.nowClubID,'unionId':this.nowUnionID,'roomKey':batchRoomKey},function(serverPack){\r\n            console.log(\"logTime2:\"+new Date().getTime());\r\n            for(let i=0;i<serverPack.roomList.length;i++){\r\n                that.UpdateRoomData(serverPack.roomList[i]);\r\n            }\r\n        },function(error){\r\n            console.log(\"poslist\");\r\n        });\r\n\r\n    },\r\n\r\n    UpdateRoomData:function(serverPack){\r\n        let roomData=serverPack;\r\n        let length=this.roomList.length;\r\n        let tempData = null;\r\n        for(let i=0;i<length;i++){\r\n            if(roomData.roomKey==this.roomList[i].roomKey){\r\n                this.roomList[i].password=roomData.password;\r\n                this.roomList[i].roomName=roomData.roomName;\r\n                this.roomList[i].roomSportsThreshold=roomData.roomSportsThreshold;\r\n                this.roomList[i].setCount=roomData.setCount;\r\n                this.roomList[i].posList=roomData.posList;\r\n                tempData=this.roomList[i];\r\n                break;\r\n            }\r\n        }\r\n        if(tempData==null){\r\n            for(let i=0;i<this.right_layout.children.length;i++){\r\n                if(this.right_layout.children[i].roomKey==roomData.roomKey){\r\n                    this.right_layout.children[i].destroy();\r\n                    break;\r\n                }\r\n            }\r\n            return;\r\n        }\r\n        for(let i=0;i<this.right_layout.children.length;i++){\r\n            if(this.right_layout.children[i].roomKey==tempData.roomKey){\r\n                if(this.CreateRoomKeyList.indexOf(tempData.roomKey)>-1){\r\n                    break; //\r\n                }\r\n                this.CreateRoomKeyList.push(tempData.roomKey);\r\n                this.ShowRoomData(this.CreateTable(this.right_layout.children[i]),tempData);\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    CreateTable:function(nullNode){\r\n        let club =\"\";\r\n        let ClubTb=this.GetClubTb();\r\n        let zIndexNum=nullNode.zIndexNum;\r\n        let zIndex=nullNode.zIndex;\r\n        let roomKey=nullNode.roomKey;\r\n        let playerNum=nullNode.playerNum;\r\n        let gameId=nullNode.gameId;\r\n        let tagId=nullNode.tagId;\r\n        let sort=nullNode.sort;\r\n\r\n        if(ClubTb<3){\r\n            club = cc.instantiate(this.roomDemo);\r\n        }else if(ClubTb==3){\r\n            let zhuoziKey=parseInt(playerNum)-2;\r\n            if(zhuoziKey<0){\r\n                zhuoziKey=0;\r\n            }\r\n            if (zhuoziKey >= 6) {\r\n                zhuoziKey = 6;//7\r\n            }\r\n            club = cc.instantiate(this.zhuozi[zhuoziKey]);\r\n            club.on('click',this.OnJoinBtnClick,this);\r\n            club.getChildByName(\"btn_detail\").on('click',this.OnBtnClickDetail,this);\r\n        }else if(ClubTb==4){\r\n            let zhuoziKey=parseInt(playerNum)-2;\r\n            if(zhuoziKey<0){\r\n                zhuoziKey=0;\r\n            }\r\n            if (zhuoziKey >= 6) {\r\n                zhuoziKey = 6;//7\r\n            }\r\n            if(playerNum>3){\r\n                //3\r\n                club = cc.instantiate(this.zhuozi_xingyun[zhuoziKey]);\r\n\r\n            }else{\r\n                //2,3\r\n                let gamePY=this.ShareDefine.GametTypeID2PinYin[gameId] || \"\";\r\n                if(gamePY.indexOf(\"pdk\")>-1 || gamePY.indexOf(\"ddz\")>-1){\r\n                    club = cc.instantiate(this.zhuozi_xingyun_puke[zhuoziKey]);\r\n                }else{\r\n                    club = cc.instantiate(this.zhuozi_xingyun[zhuoziKey]);\r\n\r\n                }\r\n\r\n            }\r\n            this.ChangeTableColor(club,tagId,gameId);\r\n            club.on('click',this.OnJoinBtnClick,this);\r\n            club.getChildByName(\"btn_detail\").on('click',this.OnBtnClickDetail,this);\r\n        }else if(ClubTb==5 || ClubTb==6){\r\n            let zhuoziKey=parseInt(playerNum)-2;\r\n            if(zhuoziKey<0){\r\n                zhuoziKey=0;\r\n            }\r\n            if (zhuoziKey >= this.zhuozi_zhongzhi.length) {\r\n                zhuoziKey = this.zhuozi_zhongzhi.length-1;//7\r\n            }\r\n            club = cc.instantiate(this.zhuozi_zhongzhi[zhuoziKey]);\r\n             //2,3\r\n            let gamePY=this.ShareDefine.GametTypeID2PinYin[gameId];\r\n            let isPuke=false;\r\n            if(gamePY.indexOf(\"pdk\")>-1 || gamePY.indexOf(\"ddz\")>-1 || playerNum>4){\r\n                isPuke=true; //\r\n            }\r\n\r\n            //66\r\n            if(playerNum<=10){\r\n\r\n                if(ClubTb==5){\r\n                    if (club.getChildByName(\"bg\")) {\r\n                        club.getChildByName(\"bg\").getComponent(cc.Sprite).spriteFrame=this.roomBg_zhongzhi_green[playerNum-2];\r\n                    }\r\n                    //\r\n                    else club.getComponent(cc.Sprite).spriteFrame=this.roomBg_zhongzhi_green[playerNum-2];\r\n                }else if(ClubTb==6){\r\n                    //\r\n                    if (club.getChildByName(\"bg\")) {\r\n                        club.getChildByName(\"bg\").getComponent(cc.Sprite).spriteFrame=this.roomBg_zhongzhi_blue[playerNum-2];\r\n                    }\r\n                    else club.getComponent(cc.Sprite).spriteFrame=this.roomBg_zhongzhi_blue[playerNum-2];\r\n                }\r\n            }\r\n\r\n\r\n\r\n            \r\n            club.on('click',this.OnJoinBtnClick,this);\r\n            club.getChildByName(\"btn_detail\").on('click',this.OnBtnClickDetail,this);\r\n        }\r\n        club.zIndexNum=zIndexNum;\r\n        club.zIndex=zIndexNum;\r\n        club.roomKey=roomKey;\r\n        club.playerNum=playerNum;\r\n        club.gameId=gameId;\r\n        club.tagId = tagId;\r\n        club.sort=sort;\r\n        club.isDisplay=true;\r\n        club.active=false; //\r\n        this.right_layout.addChild(club);//\r\n        if(nullNode){\r\n            nullNode.destroy();\r\n        }\r\n        return club;\r\n    },\r\n    ShowRoomData:function(childRoom,roomData){\r\n        if(this.ShowRoomKeyList.indexOf(roomData.roomKey)==-1){\r\n            this.ShowRoomKeyList.push(roomData.roomKey);\r\n        }\r\n        let toggleHideRoom = this.node.getChildByName(\"top\").getChildByName(\"ToggleHideRoom\");\r\n        var GamePlayManager = require('GamePlayManager');\r\n\r\n        let game_nameNode=childRoom.getChildByName('game_name');\r\n        let img_sp=childRoom.getChildByName('img_sp');\r\n        // img_sp.active = false;\r\n        if(this.GetCLubTable()==4){\r\n            if(game_nameNode){\r\n                if(roomData.roomName==\"\"){\r\n                    game_nameNode.getComponent(cc.Label).fontSize=28;\r\n                }else{\r\n                    game_nameNode.getComponent(cc.Label).fontSize=15;\r\n                }\r\n            }\r\n        }\r\n        //gameName\r\n        if (this.unionId > 0) {\r\n            if(game_nameNode){\r\n                game_nameNode.active = false;\r\n            }\r\n            img_sp.active = true;\r\n            let lb_spStart = img_sp.getChildByName(\"lb_spStart\").getComponent(cc.Label);\r\n            lb_spStart.string = roomData.roomSportsThreshold;\r\n        }else{\r\n            if(game_nameNode){\r\n                game_nameNode.active = true;\r\n            }\r\n            img_sp.active = false;\r\n        }\r\n        //\r\n        if(typeof(roomData[\"password\"])!=\"undefined\"){\r\n            if(roomData[\"password\"]!=\"\"){\r\n                childRoom.getChildByName(\"tip_lock\").active=true;\r\n            }else{\r\n                childRoom.getChildByName(\"tip_lock\").active=false;\r\n            }\r\n        }else{\r\n            childRoom.getChildByName(\"tip_lock\").active=false;\r\n        }\r\n        childRoom.isDisplay=true;\r\n        if(game_nameNode){\r\n            game_nameNode.getComponent(cc.Label).string=this.ShareDefine.GametTypeID2Name[roomData.gameId];\r\n        }\r\n        let roomNameNode= childRoom.getChildByName('lb_roomName');\r\n        if(roomNameNode){\r\n            roomNameNode.getComponent(cc.Label).string = roomData.roomName;\r\n        }\r\n        let keyNode=childRoom.getChildByName('bg_key').getChildByName('key');\r\n        if(keyNode){\r\n            keyNode.getComponent(cc.Label).string = roomData.tagId;\r\n        }\r\n        let jushuNode=childRoom.getChildByName('jushu');\r\n        if(jushuNode){\r\n            jushuNode.x=0;\r\n        }\r\n        let paishuNode=childRoom.getChildByName('paishu');\r\n        if(paishuNode){\r\n            paishuNode.active = false;\r\n            paishuNode.getComponent(cc.Label).string=\"\";\r\n        }\r\n        let jushuStr = \"\";\r\n        if(roomData.setCount>100 && roomData.setCount<200){\r\n            let total=roomData.playerNum * (roomData.setCount%100);\r\n            let left=total-roomData.setId;\r\n            jushuStr=\":\"+left+\"\";\r\n        }\r\n        else if(roomData.setCount == 201){\r\n             jushuStr=\"1\";\r\n        }\r\n        else if(roomData.setCount == 310){\r\n             jushuStr=\"1:10\";\r\n        }\r\n        else if(roomData.setCount == 311){\r\n             jushuStr=\"1:100\";\r\n        }\r\n        else if(roomData.setCount == 312){\r\n             jushuStr=\"\";\r\n        }\r\n        else if(roomData.setCount == 401 && roomData.gameId == this.ShareDefine.GameType_JXFZGP){\r\n             jushuStr=\"1\";\r\n        }\r\n        else if(roomData.setCount >= 400 && roomData.gameId == this.ShareDefine.GameType_GD){\r\n            let setCount = roomData.setCount%400;\r\n            if(setCount == 14){\r\n                jushuStr = \"A\";\r\n            }else{\r\n                jushuStr = \"\" + setCount;\r\n            }\r\n        }\r\n        else if(roomData.setCount >= 400 && roomData.gameId == this.ShareDefine.GameType_WHMJ){\r\n            jushuStr = roomData.setCount%400 + \"\";\r\n        }\r\n        else{\r\n            jushuStr=\"\"+roomData.setId+\"/\"+roomData.setCount+\"\";\r\n        }\r\n        if(this.ShareDefine.GametTypeID2PinYin[roomData.gameId] == \"chmj\"){\r\n            jushuStr = roomData.setCount >= 30 ? roomData.setCount + \"\" : \"\"+roomData.setId+\"/\"+roomData.setCount+\"\";\r\n        }\r\n        if(this.ShareDefine.GametTypeID2PinYin[roomData.gameId] == \"zznsb\"){\r\n            jushuStr = roomData.setCount == 501 ? \"\"+roomData.setId+\"/\"+\"\" : \"\"+roomData.setId+\"/\"+roomData.setCount+\"\";\r\n        }\r\n        if(this.ShareDefine.GametTypeID2PinYin[roomData.gameId] == \"glwsk\"){\r\n            jushuStr=\"\"+roomData.setId+\"\";\r\n        }\r\n        jushuStr += \"  \"+roomData.playerNum+\"\";\r\n        if(jushuNode){\r\n            jushuNode.getComponent(cc.Label).string=jushuStr;\r\n        }\r\n        childRoom.name=\"join_room_\"+roomData.roomKey;\r\n        childRoom.roomKey=roomData.roomKey;\r\n        childRoom.gameId = roomData.gameId;\r\n        childRoom.tagId = roomData.tagId;\r\n        childRoom.sort = roomData.sort;\r\n        childRoom.name=\"btn_joinroom\";\r\n        let haveRen=0;\r\n        for(let j=0;j<roomData.posList.length;j++){\r\n            if(roomData.posList[j].pid>0){\r\n                haveRen++;\r\n            }\r\n        }\r\n        this.SortAllRoom(childRoom, roomData);\r\n        if (roomData.setId > 0 && toggleHideRoom.getComponent(cc.Toggle).isChecked) {\r\n            //\r\n            childRoom.active=false;\r\n        }else{\r\n            childRoom.active=true;\r\n            this.InitHead(childRoom,roomData.playerNum,roomData.posList);\r\n        }\r\n    },\r\n    GetZindex:function(sort,tagId){\r\n        if(!cc.sys.isNative){\r\n            this.sort = 3;  //\r\n        }\r\n        if(this.sort==0){\r\n            //---\r\n            let zIndexNum = 255;\r\n            if (sort == 0) {   //\r\n                zIndexNum = 0;\r\n            }else if (sort == 1) {                   //\r\n                zIndexNum = tagId;\r\n            }else if (sort == 2) {             //\r\n                zIndexNum = 100+tagId;\r\n            }else if (sort == 3) {             //\r\n                zIndexNum = 200 +tagId;\r\n            }\r\n            return zIndexNum;\r\n        }\r\n        if(this.sort==1){\r\n            //-- \r\n            let zIndexNum = 100;\r\n            if(sort==0){\r\n                zIndexNum = 150;//\r\n            }else if (sort == 1) {           \r\n                zIndexNum = 120;//\r\n            }else if (sort == 2) {             //\r\n                zIndexNum = tagId;\r\n            }else if (sort == 3) {          //\r\n                zIndexNum = tagId;\r\n            }\r\n            return zIndexNum;\r\n        }\r\n\r\n        if(this.sort==2){\r\n            // --\r\n            let zIndexNum = 255;\r\n            if (sort == 0) {  //\r\n                zIndexNum = 100+tagId;\r\n            }else if (sort == 1) {                  //\r\n                zIndexNum = tagId;\r\n               \r\n            }else if (sort == 2) {                 //\r\n                zIndexNum=tagId;\r\n                \r\n            }else if (sort == 3) {                //\r\n                zIndexNum = 200+tagId;\r\n            }\r\n            return zIndexNum;\r\n        }\r\n        if(this.sort==3){\r\n             // ---\r\n            let zIndexNum = 500;\r\n            if (sort == 0) {  //\r\n                zIndexNum = 400+tagId;\r\n            }else if (sort == 1) {                 //\r\n                zIndexNum = 300+tagId;\r\n            }else if (sort == 2) {   //\r\n                zIndexNum=tagId;\r\n            }else if (sort == 3) {  //\r\n                zIndexNum =200+tagId;\r\n            }\r\n            return zIndexNum;\r\n        }\r\n        return tagId;\r\n    },\r\n    SortAllRoom:function(childRoom, roomData){\r\n        if(childRoom==null){\r\n            return;\r\n        }\r\n        childRoom.zIndex = this.GetZindex(roomData.sort,roomData.tagId);\r\n        childRoom.parent.sortAllChildren();\r\n    },\r\n    UpdateChildInScroll:function(roomData){\r\n        let childRoom = null;\r\n        for (let i = 0; i < this.right_layout.children.length; i++) {\r\n            if(roomData.roomKey==this.right_layout.children[i].roomKey){\r\n                childRoom = this.right_layout.children[i];\r\n                break;\r\n            }\r\n        }\r\n        if (childRoom != null) {\r\n            this.ShowRoomData(childRoom, roomData);\r\n        }else{\r\n            console.log(\"\"+roomData.roomKey);\r\n        }\r\n    },\r\n    RemoveChildFromScroll:function(roomData){\r\n        let childRoom = null;\r\n        for (let i = 0; i < this.right_layout.children.length; i++) {\r\n            if(roomData.roomKey==this.right_layout.children[i].roomKey){\r\n                childRoom = this.right_layout.children[i];\r\n                break;\r\n            }\r\n        }\r\n        if (childRoom != null) {\r\n            this.DestroyFromParent(childRoom);\r\n            //\r\n            /*if (roomData.sort == 2) {\r\n                for (let i = 0; i < this.right_layout.children.length; i++) {\r\n                    if(roomData.tagId==this.right_layout.children[i].tagId && this.right_layout.children[i].sort == 3){\r\n                        this.right_layout.children[i].active = true;\r\n                        if (this.sort == 1 || typeof(this.sort) == \"undefined\") {\r\n                            this.right_layout.children[i].zIndex = this.right_layout.children[i].tagId;\r\n                        }else{\r\n                            this.right_layout.children[i].zIndex = 200 - this.right_layout.children[i].tagId;\r\n                        }\r\n                        this.right_layout.sortAllChildren();\r\n                        break;\r\n                    }\r\n                }\r\n            }*/\r\n        }else{\r\n            console.log(\"\"+roomData.roomKey);\r\n        }\r\n    },\r\n    GetCLubTable:function(){\r\n        let clubTable=cc.sys.localStorage.getItem(\"ClubNewTb\");\r\n        if (clubTable == null || typeof(clubTable) == \"undefined\") {\r\n            cc.sys.localStorage.setItem(\"ClubNewTb\", \"5\");\r\n            clubTable = 5;\r\n        }\r\n        return clubTable;\r\n    },\r\n    AddChildToScroll:function(roomData){\r\n        //\r\n        let isExist = false;\r\n        for (let j = 0; j < this.right_layout.children.length; j++) {\r\n            if (this.right_layout.children[j].roomKey == roomData.roomKey) {\r\n                isExist = true;\r\n                break;\r\n            }\r\n        }\r\n        if (isExist){\r\n            console.log(\"AddChildToScroll ----\"+roomData.roomKey);\r\n            return;\r\n        }\r\n        let clubTable=this.GetCLubTable();\r\n        let childRoom=\"\";\r\n        if(clubTable<3){\r\n            childRoom = cc.instantiate(this.roomDemo);\r\n        }else if(clubTable==3){\r\n            let zhuoziKey=parseInt(roomData.playerNum)-2;\r\n            if(zhuoziKey<0){\r\n                zhuoziKey=0;\r\n            }\r\n            childRoom = cc.instantiate(this.zhuozi[zhuoziKey]);\r\n            childRoom.on('click',this.OnJoinBtnClick,this);\r\n            childRoom.getChildByName(\"btn_detail\").on('click',this.OnBtnClickDetail,this);\r\n            //childRoom.emit('click', {\"node\":childRoom});\r\n        }else if(clubTable==4){\r\n            let zhuoziKey=parseInt(roomData.playerNum)-2;\r\n            if(zhuoziKey<0){\r\n                zhuoziKey=0;\r\n            }\r\n            if(roomData.playerNum>3){\r\n                childRoom = cc.instantiate(this.zhuozi_xingyun[zhuoziKey]);\r\n            }else{\r\n                //2,3\r\n                let gamePY=this.ShareDefine.GametTypeID2PinYin[roomData.gameId];\r\n                if(gamePY.indexOf(\"pdk\")>-1 || gamePY.indexOf(\"ddz\")>-1){\r\n                    childRoom = cc.instantiate(this.zhuozi_xingyun_puke[zhuoziKey]);\r\n                }else{\r\n                    childRoom = cc.instantiate(this.zhuozi_xingyun[zhuoziKey]);\r\n                }\r\n            }\r\n            //\r\n            this.ChangeTableColor(childRoom,roomData.tagId,roomData.gameId);\r\n            childRoom.on('click',this.OnJoinBtnClick,this);\r\n            childRoom.getChildByName(\"btn_detail\").on('click',this.OnBtnClickDetail,this);\r\n        }else if(clubTable==5 || clubTable==6){\r\n            let zhuoziKey=parseInt(roomData.playerNum)-2;\r\n            if(zhuoziKey<0){\r\n                zhuoziKey=0;\r\n            }\r\n            cc.log(\"\",zhuoziKey,this.zhuozi_zhongzhi.length)\r\n            childRoom = cc.instantiate(this.zhuozi_zhongzhi[zhuoziKey]);\r\n            childRoom.on('click',this.OnJoinBtnClick,this);\r\n            childRoom.getChildByName(\"btn_detail\").on('click',this.OnBtnClickDetail,this);\r\n        }\r\n        this.right_layout.addChild(childRoom);\r\n        this.right_layout.getComponent(cc.Layout).updateLayout();\r\n        this.ShowRoomData(childRoom, roomData);\r\n        childRoom.active=true;\r\n    },\r\n    ReSortRoomList:function(){\r\n        let that=this;\r\n        this.roomList.sort(function(a,b){\r\n            if(a.setId==0 && b.setId==0){\r\n                return that.PosCount(b.posList)-that.PosCount(a.posList);\r\n            }else{\r\n                return a.setId-b.setId;\r\n            }\r\n        });\r\n        return this.roomList;\r\n    },\r\n    PosCount:function(posList){\r\n        let poscount=0;\r\n        for(let i=0;i<posList.length;i++){\r\n            if(posList[i]){\r\n                if(posList[i].pid>0){\r\n                    poscount++;\r\n                }\r\n            }\r\n        }\r\n        if(poscount==4){\r\n            return -1;\r\n        }\r\n        return poscount;\r\n    },\r\n    RefreshLeft:function(){\r\n        if(this.clubDatas.length==0){\r\n            this.nowClubID=-1;\r\n            this.nowUnionID=-1;\r\n        }\r\n        //\r\n        for(let i=0;i<this.left_layout.children.length;i++){\r\n            let node=this.left_layout.children[i];\r\n            if(node.name==\"btn_club_\"+this.nowClubID){\r\n                node.getComponent(cc.Sprite).spriteFrame=this.left_on;\r\n            }else{\r\n                node.getComponent(cc.Sprite).spriteFrame=this.left_off;\r\n            }\r\n        }\r\n    },\r\n    UpdateClubList:function(){\r\n        this.DestroyAllChildren(this.left_layout);\r\n        this.clubDatas = app.ClubManager().GetClubData();\r\n        let selfPid = app.HeroManager().GetHeroProperty(\"pid\");\r\n        let joinState = app.ClubManager().Enum_Join;\r\n        \r\n        if(this.clubDatas.length==0){\r\n            this.fangka.active=false;\r\n        }else{\r\n            this.fangka.active=true;\r\n        }\r\n        for(let i=0;i<this.clubDatas.length;i++){\r\n            if(this.nowClubID<0){\r\n                this.nowClubID=this.clubDatas[i].id;\r\n            }\r\n            let club = cc.instantiate(this.clubDemo);\r\n            club.getChildByName('name').getComponent(cc.Label).string=this.clubDatas[i].name;\r\n            club.getChildByName('id').getComponent(cc.Label).string=\"ID:\"+this.clubDatas[i].clubsign;\r\n            club.getChildByName('renshu').getComponent(cc.Label).string=\"*\";\r\n            if (this.clubDatas[i].unionId > 0) {\r\n                //\r\n                club.getChildByName('quanka').active = false;\r\n                club.getChildByName('icon_qk').active = false;\r\n            }else{\r\n                club.getChildByName('quanka').active = false;\r\n                club.getChildByName('icon_qk').active = false;\r\n                //club.getChildByName('quanka').getComponent(cc.Label).string=this.clubDatas[i].playerClubCard;\r\n            }\r\n            club.active=true;\r\n            club.name=\"btn_club_\"+this.clubDatas[i].id;\r\n            club.clubId=this.clubDatas[i].id;\r\n            club.clubSign=this.clubDatas[i].clubsign;\r\n            club.clubName=this.clubDatas[i].name;\r\n            club.unionId=this.clubDatas[i].unionId;\r\n            club.skinType=this.clubDatas[i].skinType;\r\n            this.left_layout.addChild(club);\r\n        }\r\n        //\r\n        this.RefreshLeft();\r\n        app.ClubManager().SendReqClubDataById(this.nowClubID);\r\n    },\r\n    Event_OutRoom:function(){\r\n        this.inRoom=false;\r\n        this.inRoomInfo=null;\r\n        this.FormManager.CloseForm(\"ui/club/UIClubInRoom\");\r\n    },\r\n    //this.roomList\r\n    CheckRoomIsStart:function(roomKey){\r\n        for(let i=0;i<this.roomList.length;i++){\r\n            if(this.roomList[i].roomKey==roomKey){\r\n                if(this.roomList[i].setId>0){\r\n                    return true;\r\n                }\r\n                return false;\r\n                break;\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n    Event_ReJoin:function(event){\r\n        if(this.isRejoin==true){\r\n            return;\r\n        }\r\n        this.isRejoin=true;\r\n        this.Click_btn_JiaRu(event);\r\n        let self=this;\r\n        this.scheduleOnce (function(){\r\n            self.isRejoin=false;\r\n        },2);\r\n    },\r\n    Click_btn_JiaRu:function(btnNode){\r\n        let roomKey = btnNode.roomKey;  //\r\n        let tagId=btnNode.tagId;\r\n        let gameName = this.GameId2PinYin(btnNode.gameId).toLowerCase(); //\r\n        //\r\n        let isPassword=btnNode.getChildByName(\"tip_lock\").active;\r\n        //\r\n        let password=\"\";\r\n        if(isPassword){\r\n            password=localStorage.getItem(\"password_\"+this.nowClubID+\"_\"+tagId);\r\n            if(password==null || typeof(password)==\"undefined\" || password==\"\"){\r\n                //\r\n                this.FormManager.ShowForm('ui/club/UIClubRoomPassword',btnNode,this.nowClubID);\r\n                return;\r\n            }\r\n        }\r\n        if(this.inRoom==false){\r\n            //\r\n            app.Client.JoinRoomCheckSubGame(gameName, roomKey, this.nowClubID,undefined,password);\r\n\r\n        }else{\r\n            if(roomKey!=this.inRoomInfo.roomKey){\r\n                //\r\n                if(this.CheckRoomIsStart(this.inRoomInfo.roomKey)==false){\r\n                    this.changeInfo={\"gameName\":gameName,\"roomKey\":roomKey,\"password\":password};\r\n                    this.SetWaitForConfirm('MSG_CLUB_CHANGEROOM',this.ShareDefine.Confirm,[],[]);\r\n                }else{\r\n                    let curGameType = this.GameId2PinYin(this.inRoomInfo.gameId).toLowerCase();\r\n                    this.SetWaitForConfirm('MSG_GO_ROOM',this.ShareDefine.Confirm,[this.ShareDefine.GametTypeID2Name[this.inRoomInfo.gameId]]);\r\n                }\r\n            }else{\r\n                //\r\n                let curGameTypeStr = this.GameId2PinYin(this.inRoomInfo.gameId).toLowerCase();\r\n                app.Client.SetGameType(curGameTypeStr);\r\n                this.FormManager.ShowForm(\"UIDownLoadGame\",curGameTypeStr,0,null,0,0,true);\r\n            }\r\n        }\r\n        \r\n    },\r\n    Click_btn_weixin:function(){\r\n        \r\n    },\r\n    SortPlayerByIsminister:function(a,b){\r\n        //app.ClubManager().Enum_NotAgree\r\n        if(a.status==app.ClubManager().Enum_NotAgree){\r\n            return -1;\r\n        }else if(b.status==app.ClubManager().Enum_NotAgree){\r\n            return 1;\r\n        }\r\n        if(a.isminister && b.isminister)\r\n            return a.time - b.time;\r\n        else if(!a.isminister && !b.isminister){\r\n            if(a.status==app.ClubManager().Enum_NotAgree){\r\n                return -1;\r\n            }else if(b.status==app.ClubManager().Enum_NotAgree){\r\n                return 1;\r\n            }\r\n            return a.time - b.time;\r\n        }\r\n        else if(a.isminister && !b.isminister)\r\n            return -1;\r\n        else if(!a.isminister && b.isminister)\r\n            return 1;\r\n    },\r\n    OnJoinBtnClick:function(event){\r\n        let self=this;\r\n        if(this.joining==true){\r\n            this.scheduleOnce (function(){\r\n                self.joining=false;\r\n            },1.5);\r\n            return false;\r\n        }\r\n        this.joining=true;\r\n        let btnNode = event.node;\r\n        this.Click_btn_JiaRu(btnNode);\r\n        this.scheduleOnce (function(){\r\n            self.joining=false;\r\n        },1.5);\r\n    },\r\n    Click_btn_qhwh:function(){\r\n        let isSelect=false;\r\n        if(isSelect==false){\r\n            let sendPack = {};\r\n            sendPack.clubId = this.nowClubID;\r\n            let packName = \"union.CUnionRoomConfigItemList\";\r\n            if (this.unionId > 0) {\r\n                sendPack.unionId = this.unionId;\r\n            }else{\r\n                this.ShowSysMsg(\"\");\r\n                return;\r\n            }\r\n            let self = this;\r\n            app.NetManager().SendPack(packName,sendPack, function(serverPack){\r\n                self.UpdateLeftWanFa(serverPack);\r\n            }, function(){\r\n                self.ShowSysMsg(\"\");\r\n            });\r\n        }else{\r\n            this.SaveQHWF();//\r\n        }\r\n\r\n    },\r\n    SortByTagId:function(a,b){\r\n        return b.tagId-a.tagId;\r\n    },\r\n    UpdateLeftWanFa:function(serverPack){\r\n        let mark = this.node.getChildByName(\"left_wanfa\").getChildByName(\"mark\");\r\n        let content = mark.getChildByName(\"layout\");\r\n        mark.getComponent(cc.ScrollView).scrollToTop();\r\n        this.DestroyAllChildren(content);\r\n        let demo = this.node.getChildByName(\"left_wanfa\").getChildByName(\"demo\");\r\n        demo.active = false;\r\n        //this.unionMyWanFa;\r\n        let unionMyWanFa=this.MyUnionMyWanFaArray();\r\n        serverPack.sort(this.SortByTagId);\r\n        for (let i = 0; i < serverPack.length; i++) {\r\n            let child = cc.instantiate(demo);\r\n            child.tagId = serverPack[i].tagId;\r\n            child.configId = serverPack[i].configId;\r\n            child.roomKey = serverPack[i].roomKey;\r\n            child.gameId = serverPack[i].gameId;\r\n            if (typeof(serverPack[i].name) != \"undefined\") {\r\n                child.getChildByName(\"lb_roomName\").getComponent(cc.Label).string = serverPack[i].name;\r\n            }else{\r\n                let roomName = app.ShareDefine().GametTypeID2Name[serverPack[i].gameId];\r\n                child.getChildByName(\"lb_roomName\").getComponent(cc.Label).string = roomName;\r\n            }\r\n            child.getChildByName(\"lb_tagid\").getComponent(cc.Label).string = serverPack[i].tagId;\r\n            let roomInfoStr = \"\";\r\n            if(serverPack[i].setCount>100 && serverPack[i].setCount<200){\r\n                let total=serverPack[i].size * (serverPack[i].setCount%100);\r\n                roomInfoStr=serverPack[i].size+\"/\"+total+\"\";\r\n                if(this.ShareDefine.GametTypeID2PinYin[roomData.gameId] == \"yzyzmj\"){\r\n                    jushuStr=\"\"+roomData.setId+\"/\"+roomData.setCount%100+\"\";\r\n                }\r\n            }\r\n            else if(serverPack[i].setCount == 201){\r\n                roomInfoStr=serverPack[i].size+\"/1\";\r\n            }\r\n            else if(serverPack[i].setCount == 310){\r\n                roomInfoStr=serverPack[i].size+\"/1:10\";\r\n            }\r\n            else if(serverPack[i].setCount == 311){\r\n                roomInfoStr=serverPack[i].size+\"/1:100\";\r\n            }\r\n            else if(serverPack[i].setCount == 312){\r\n                roomInfoStr=serverPack[i].size+\"/\";\r\n            }\r\n            else if(serverPack[i].setCountt >= 400 && serverPack[i].gameId == this.ShareDefine.GameType_GD){\r\n                let setCount = serverPack[i].setCount%400;\r\n                if(setCount == 14){\r\n                    roomInfoStr = serverPack[i].size+\"/A\";\r\n                }else{\r\n                    roomInfoStr = serverPack[i].size+\"/\" + setCount;\r\n                }\r\n            }\r\n            else if(serverPack[i].setCountt >= 400 && serverPack[i].gameId == this.ShareDefine.GameType_WHMJ){\r\n                let setCount = serverPack[i].setCount%400;\r\n                roomInfoStr = serverPack[i].size+\"/\" + setCount + \"\";\r\n            }\r\n            else{\r\n                roomInfoStr=serverPack[i].size+\"/\"+serverPack[i].setCount+\"\";\r\n            }\r\n            child.getChildByName(\"lb_renshu\").getComponent(cc.Label).string = roomInfoStr;\r\n            child.active = true;\r\n            //\r\n            if(unionMyWanFa.length>0 && unionMyWanFa.indexOf(child.tagId.toString())!=-1){\r\n                child.getChildByName(\"Toggle\").getComponent(cc.Toggle).isChecked=true;\r\n            }else if(unionMyWanFa.length==0){\r\n                child.getChildByName(\"Toggle\").getComponent(cc.Toggle).isChecked=true;\r\n            }else{\r\n                child.getChildByName(\"Toggle\").getComponent(cc.Toggle).isChecked=false;\r\n            }\r\n            content.addChild(child);\r\n        }\r\n        //\r\n        if(unionMyWanFa.length>0 && unionMyWanFa.length==serverPack.length){\r\n            this.node.getChildByName(\"left_wanfa\").getChildByName(\"btn_quanwan\").getChildByName(\"checkmark\").active=true;\r\n        }else{\r\n            this.node.getChildByName(\"left_wanfa\").getChildByName(\"btn_quanwan\").getChildByName(\"checkmark\").active=false;\r\n        }\r\n        this.node.getChildByName(\"left_wanfa\").active=true;\r\n\r\n        this.node.getChildByName('bottom').getChildByName('btn_qhwh').active=true;\r\n\r\n        this.left.active=false;\r\n        this.node.getChildByName('bottom').getChildByName('btn_qhwh').getChildByName('baocun').active=true;\r\n    },\r\n    click_btn_QHWF:function(){\r\n        let quanxuan=this.node.getChildByName(\"left_wanfa\").getChildByName(\"btn_quanwan\").getChildByName(\"checkmark\").active;\r\n        let mark = this.node.getChildByName(\"left_wanfa\").getChildByName(\"mark\");\r\n        let content = mark.getChildByName(\"layout\"); \r\n        for(let i=0;i<content.children.length;i++){\r\n            content.children[i].getChildByName(\"Toggle\").getComponent(cc.Toggle).isChecked=!quanxuan;\r\n        }\r\n        this.node.getChildByName(\"left_wanfa\").getChildByName(\"btn_quanwan\").getChildByName(\"checkmark\").active=!quanxuan;\r\n    },\r\n    SaveQHWF:function(sender){\r\n        let quanxuan = false\r\n        if (sender && sender.target.name == \"btn_quanwan\") {\r\n            sender.target.getChildByName(\"checkmark\").active = true\r\n            quanxuan = true\r\n        }\r\n        let unionMyWanFa=[];\r\n        let mark = this.node.getChildByName(\"left_wanfa\").getChildByName(\"mark\");\r\n        let content = mark.getChildByName(\"layout\"); \r\n        for(let i=0;i<content.children.length;i++){\r\n            if (quanxuan) {\r\n                content.children[i].getChildByName(\"Toggle\").getComponent(cc.Toggle).isChecked=true\r\n            }\r\n            if(content.children[i].getChildByName(\"Toggle\").getComponent(cc.Toggle).isChecked==true){\r\n                unionMyWanFa.push(content.children[i].tagId);\r\n            }\r\n        }\r\n        if(unionMyWanFa.length==0 && content.children.length>0){\r\n            // this.ShowSysMsg(\"\", 1);\r\n            if(sender) sender.getComponent(cc.Toggle).isChecked=true\r\n            let p = this.node.getChildByName(\"left_wanfa\").getChildByName(\"btn_quanwan\")\r\n            p.getChildByName(\"checkmark\").active = false\r\n            return;\r\n        }\r\n\r\n        if(unionMyWanFa.length==content.children.length){\r\n            //\r\n            unionMyWanFa=[]; //\r\n            let p = this.node.getChildByName(\"left_wanfa\").getChildByName(\"btn_quanwan\")\r\n            p.getChildByName(\"checkmark\").active = true\r\n        }\r\n        else{\r\n            let p = this.node.getChildByName(\"left_wanfa\").getChildByName(\"btn_quanwan\")\r\n            p.getChildByName(\"checkmark\").active = false\r\n        }\r\n\r\n        //\r\n        var localStorage = cc.sys.localStorage;\r\n        if(unionMyWanFa.join(\",\")==localStorage.getItem(\"mywanfa_\"+this.unionId+\"_\"+this.nowClubID)){\r\n            //\r\n            // this.node.getChildByName(\"left_wanfa\").active=false;\r\n            this.node.getChildByName('bottom').getChildByName('btn_qhwh').getChildByName('baocun').active=false;\r\n            return;\r\n        }\r\n\r\n        if(unionMyWanFa.length>0){\r\n            localStorage.setItem(\"mywanfa_\"+this.unionId+\"_\"+this.nowClubID,unionMyWanFa.join(\",\"));\r\n        }else{\r\n            localStorage.setItem(\"mywanfa_\"+this.unionId+\"_\"+this.nowClubID,\"\");\r\n        }\r\n\r\n        // this.node.getChildByName(\"left_wanfa\").active=false;\r\n        this.node.getChildByName('bottom').getChildByName('btn_qhwh').getChildByName('baocun').active=false;\r\n        this.Event_RefreshRoomList();\r\n\r\n    },\r\n    OnBtnClickDetail:function(event){\r\n            let btnNode=event.node;\r\n            let sendPack = {\r\n                \"clubId\":this.nowClubID,\r\n                \"roomKey\":btnNode.parent.roomKey\r\n            }\r\n            let packName = \"club.CClubRoomInfoDetails\";\r\n            let self = this;\r\n            if (this.unionId > 0) {\r\n                sendPack.unionId = this.unionId;\r\n                packName = \"union.CUnionRoomInfoDetails\";\r\n            }\r\n            app.NetManager().SendPack(packName, sendPack, function(serverPack){\r\n                self.FormManager.ShowForm('ui/club/UIClubRoomJoin',serverPack);\r\n            }, function(){\r\n                app.SysNotifyManager().ShowSysMsg(\"\",[],3);\r\n            });\r\n    },\r\n\r\n    OnClick:function(btnName, btnNode){\r\n        if(this.joining==true){\r\n            return;\r\n        }\r\n        if('btn_join' == btnName){\r\n            this.FormManager.ShowForm('ui/club/UIJoinClub');\r\n        }else if('btn_qhqyq'==btnName){\r\n            this.left.active=true;\r\n            this.node.getChildByName(\"left_wanfa\").active=false;\r\n            this.node.getChildByName('bottom').getChildByName('btn_qhqyq').active=false;\r\n            this.node.getChildByName('bottom').getChildByName('btn_ycqyq').active=true;\r\n        }else if('btn_ycqyq'==btnName){\r\n            this.left.active=false;\r\n            this.node.getChildByName('bottom').getChildByName('btn_qhqyq').active=true;\r\n            this.node.getChildByName('bottom').getChildByName('btn_ycqyq').active=false;\r\n        }else if(\"btn_close_left\"==btnName){\r\n            this.left.active=false;\r\n            if(this.unionId>0){\r\n                this.node.getChildByName('bottom').getChildByName('btn_qhwh').getChildByName('baocun').active=false;\r\n                this.node.getChildByName('bottom').getChildByName('btn_qhwh').active=true;\r\n            }else{\r\n                this.node.getChildByName('bottom').getChildByName('btn_qhqyq').active=true;\r\n                this.node.getChildByName('bottom').getChildByName('btn_ycqyq').active=false;\r\n            }\r\n\r\n        }\r\n\r\n        else if(\"btn_changeclub\"==btnName){\r\n            this.left.active=true;\r\n            this.node.getChildByName(\"left_wanfa\").active=false;\r\n            this.node.getChildByName('bottom').getChildByName('btn_qhwh').active=false;\r\n        }\r\n\r\n        else if('btn_ksjr'==btnName){\r\n            if(this.inRoom==false){\r\n                this.FormManager.ShowForm(\"ui/club/UIQuickJoinRoom\", this.nowClubID, this.unionId);\r\n            }else{\r\n                let curGameTypeStr = app.ShareDefine().GametTypeID2PinYin[this.inRoomInfo.gameId];\r\n                app.Client.SetGameType(curGameTypeStr);\r\n                this.FormManager.ShowForm(\"UIDownLoadGame\",curGameTypeStr,0,null,0,0,true);\r\n            }\r\n        }else if(btnName==\"btn_qhwh\"){\r\n            this.Click_btn_qhwh();\r\n        }\r\n        else if('btn_shuaxin'==btnName){\r\n            this.Event_RefreshRoomList();\r\n        }else if('btn_huanpi'==btnName){\r\n            this.FormManager.ShowForm(\"ui/club/UIClubHuanPi\");\r\n        }else if(btnName.startsWith(\"join_room_\")){\r\n            let roomKey = btnNode.roomKey;  //\r\n            let gameName = btnNode.gameType.toLowerCase(); //\r\n            app.Client.JoinRoomCheckSubGame(gameName, roomKey, this.nowClubID);\r\n        }else if(btnName.startsWith(\"btn_club_\")){\r\n            let clubId=btnNode.clubId;\r\n            let unionId=btnNode.unionId;\r\n            let CLubSign=btnNode.clubSign;\r\n            let clubName=btnNode.clubName;\r\n            let skinType=btnNode.skinType;\r\n            // let showUplevelId=btnNode.showUplevelId;\r\n            // let showClubSign=btnNode.showClubSign;\r\n            if(this.mySkinType()!=skinType){\r\n                //UI\r\n                app.ClubManager().SetLastClubData(clubId,CLubSign,clubName);\r\n                app.FormManager().CloseAllClubForm();\r\n                app.ClubManager().ShowClubFrom();\r\n                return;\r\n            }\r\n            this.clubName.string=clubName;\r\n            this.clubId.string=\"ID:\"+CLubSign;\r\n            this.nowClubID=clubId;\r\n            this.nowUnionID=unionId;\r\n            this.unionId=unionId;\r\n            this.nowCLubSign=CLubSign;\r\n            this.nowClubName=clubName;\r\n            this.RefreshLeft();\r\n            //\r\n            let roomScrollView = this.node.getChildByName(\"right_main\").getChildByName(\"mark\");\r\n            roomScrollView.getComponent(cc.ScrollView).scrollToLeft();\r\n            this.DestroyAllChildren(this.right_layout);\r\n            app.ClubManager().SendReqClubDataById(this.nowClubID);\r\n            this.roomList=[];\r\n            //this.Event_RefreshRoomList();\r\n            //app.ClubManager().SendGetAllRoom(this.nowClubID);//2\r\n            //\r\n            if(this.unionId>0){\r\n                this.left.active=false;\r\n            }\r\n        }else if(btnName==\"btn_weixin\"){\r\n            if(this.nowClubID>0){\r\n                let clubData = app.ClubManager().GetClubDataByClubID(this.nowClubID);\r\n                this.myisminister = clubData.minister;\r\n                if(this.myisminister>0){\r\n                    this.FormManager.ShowForm(\"ui/club/UIYaoQing\",this.nowClubID);\r\n                }else{\r\n                    app.SysNotifyManager().ShowSysMsg('');\r\n                }\r\n            }else{\r\n                app.SysNotifyManager().ShowSysMsg('');\r\n\r\n            }\r\n        }\r\n       else if(btnName==\"btn_joinroom\"){\r\n             let self=this;\r\n             if(this.joining==true){\r\n                this.scheduleOnce (function(){\r\n                    self.joining=false;\r\n                },1.5);\r\n                return false;\r\n             }\r\n             this.joining=true;\r\n             this.Click_btn_JiaRu(btnNode);\r\n             this.scheduleOnce (function(){\r\n                self.joining=false;\r\n             },1.5);\r\n\r\n\r\n        }else if(btnName==\"btn_back\"){\r\n            //this.FormManager.ShowForm(\"bottom\");\r\n            if(this.FormManager.IsFormShow(\"UINewMain\")){\r\n                this.FormManager.GetFormComponentByFormName(\"UINewMain\").ShowAddClubSprite();\r\n            }else{\r\n                this.FormManager.ShowForm('UINewMain');\r\n            }\r\n\r\n            this.CloseForm();\r\n        }else if(btnName==\"btn_control\"){\r\n            if (this.unionId > 0) {\r\n                app.SysNotifyManager().ShowSysMsg('');\r\n                return;\r\n            }\r\n            if(this.nowClubID>0){\r\n                let clubData=app.ClubManager().GetClubDataByClubID(this.nowClubID);\r\n                this.myisminister = clubData.minister;\r\n                this.FormManager.ShowForm('ui/club/UIClubManagerNew', this.nowClubID,this.unionId,this.myisminister);\r\n                // if(this.myisminister>0){\r\n                //     this.FormManager.ShowForm('ui/club/UIClubManager',this.nowClubID,'memberlist');\r\n                // }else{\r\n                //     this.FormManager.ShowForm('ui/club/UIClubManager',this.nowClubID);\r\n                // }\r\n            }else{\r\n                 app.SysNotifyManager().ShowSysMsg('');\r\n            }\r\n        }else if('btn_promoter' == btnName){\r\n            //\r\n            let newPath = 'ui/club/UIPromoterAllManager';\r\n            if (this.unionType==1) {\r\n                newPath = 'ui/club_2/UIPromoterAllManager_2';\r\n            }\r\n            this.FormManager.ShowForm(newPath, this.nowClubID, this.unionId, this.levelPromotion, this.unionPostType, this.myisminister, this.unionName, this.unionSign,this.isPromotionManage,this.promotionManagePid,this.kicking,this.modifyValue,this.showShare,this.invite);\r\n        }else if ('btn_promoterOld' == btnName) {\r\n            //\r\n\r\n            app.SysNotifyManager().ShowSysMsg('617');\r\n\r\n            if (this.myisminister == app.ClubManager().Club_MINISTER_CREATER) {\r\n                this.FormManager.ShowForm('ui/club/UIPromoterManager', this.nowClubID, this.unionId, this.myisPartner, this.unionPostType, this.myisminister, this.unionSign, \"btn_PromoterList\");\r\n            }else{\r\n                //\r\n                this.FormManager.ShowForm('ui/club/UIPromoterManager', this.nowClubID, this.unionId, this.myisPartner, this.unionPostType, this.myisminister, this.unionSign, \"btn_PromoterXiaShuList\");\r\n            }\r\n        }\r\n        else if(btnName==\"btn_userlist\"){\r\n            if(this.nowClubID>0){\r\n                this.node.getChildByName('top').getChildByName('right_btn').getChildByName('btn_userlist').getChildByName('img_hd').active=false;\r\n                this.FormManager.ShowForm('ui/club/UIClubUserList', this.nowClubID, this.unionId, this.unionName, this.unionSign);\r\n            }else{\r\n                 app.SysNotifyManager().ShowSysMsg('');\r\n\r\n            }\r\n           \r\n        }else if(btnName==\"btn_roomlist\"){\r\n            let nowClubData = app.ClubManager().GetClubDataByClubID(this.nowClubID);\r\n            let data = {};\r\n            data.gameList = app.Client.GetAllGameId();\r\n            if(0 == data.gameList.length){\r\n                console.log('btn_createRoom Error Club Not Set GameList');\r\n                return\r\n            }\r\n            //let gameType = this.ShareDefine.GametTypeID2PinYin[data.gameList[0]];\r\n            let clubData = {};\r\n            clubData.clubId = this.nowClubID;\r\n            clubData.cityId = nowClubData.cityId;\r\n            clubData.roomKey = '0';\r\n            clubData.gameIndex = 0;//\r\n            clubData.enableGameType = '';//\r\n            data.discountType = this.discountType;\r\n            app.FormManager().ShowForm('UICreatRoom',data,'',clubData);\r\n        }else if(btnName==\"btn_roomManger\" || btnName==\"btn_RoomMgr\"){\r\n            let clubData = app.ClubManager().GetClubDataByClubID(this.nowClubID);\r\n            this.myisminister = clubData.minister;\r\n            if(this.myisminister>0){\r\n                this.FormManager.ShowForm('ui/club/UIClubRoomList',this.nowClubID);\r\n            }else{\r\n                app.SysNotifyManager().ShowSysMsg('');\r\n            }\r\n            \r\n        }else if(btnName==\"btn_message\"){\r\n            let clubData = app.ClubManager().GetClubDataByClubID(this.nowClubID);\r\n            this.myisminister = clubData.minister;\r\n            if(this.myisminister>0){\r\n                this.FormManager.ShowForm('ui/club/UIClubMessage',this.nowClubID,this.unionId);\r\n            }else{\r\n                app.SysNotifyManager().ShowSysMsg('');\r\n            }\r\n        }else if(btnName==\"btn_sportsPointMsg\"){\r\n            this.FormManager.ShowForm('ui/club/UIClubUserMessageNew',this.nowClubID,this.unionId,this.unionName,this.unionSign);\r\n        }else if('btn_create' == btnName){\r\n            this.allSelectCityData = app.HeroManager().GetCurSelectCityData();\r\n            let heroRoomCard = app.HeroManager().GetHeroProperty(\"roomCard\");\r\n            let limit = app.Config ? app.Config.clubCreateNum : 100\r\n            if(heroRoomCard>=limit){\r\n                app.FormManager().ShowForm('ui/club/UIClubCreate',this.allSelectCityData[0].selcetId);\r\n            }else{\r\n                app.SysNotifyManager().ShowSysMsg('' + limit + '');\r\n            }\r\n\r\n            /*app.NetManager().SendPack(\"family.CPlayerCheckFamilyOwner\",{},function(success){\r\n                app.FormManager().ShowForm('ui/club/UIClubCreate', success);\r\n            },function(error){\r\n                //Not_Family_Owner(5113),//\r\n                //NotExist_Family(5110), // \r\n                app.SysNotifyManager().ShowSysMsg('');\r\n            });*/\r\n        }else if('btn_wanfa' == btnName){\r\n            let wanfaNode=btnNode.parent.getChildByName('wanfa');\r\n            if(wanfaNode.active==true){\r\n                wanfaNode.active=false;\r\n            }else{\r\n                wanfaNode.active=true;\r\n            }\r\n        }else if('btn_detail'==btnName){\r\n            let sendPack = {\r\n                \"clubId\":this.nowClubID,\r\n                \"roomKey\":btnNode.parent.roomKey\r\n            }\r\n            let packName = \"club.CClubRoomInfoDetails\";\r\n            let self = this;\r\n            if (this.unionId > 0) {\r\n                sendPack.unionId = this.unionId;\r\n                packName = \"union.CUnionRoomInfoDetails\";\r\n            }\r\n            app.NetManager().SendPack(packName, sendPack, function(serverPack){\r\n                self.FormManager.ShowForm('ui/club/UIClubRoomJoin',serverPack);\r\n            }, function(){\r\n                app.SysNotifyManager().ShowSysMsg(\"\",[],3);\r\n            });\r\n        }\r\n        else if('btn_findroom'==btnName){\r\n            this.FormManager.ShowForm('ui/club/UIClubFindRoom',this.nowClubID,this.unionId);\r\n        }\r\n        else if('btn_caseSprots'==btnName){\r\n            let sendPack = {\r\n                \"clubId\":this.nowClubID,\r\n                \"unionId\":this.unionId\r\n            }\r\n            let self = this;\r\n            app.NetManager().SendPack(\"club.CClubGetCaseSprotsInfo\", sendPack, function(serverPack){\r\n                self.FormManager.ShowForm('ui/club/UICaseSprots',serverPack,self.nowClubID);\r\n            }, function(){\r\n\r\n            });\r\n        }\r\n        else if('btn_qhwf_wanfa'==btnName){\r\n            let sendPack = {\r\n                \"clubId\":this.nowClubID,\r\n                \"roomKey\":btnNode.parent.roomKey\r\n            }\r\n            let packName = \"club.CClubRoomInfoDetails\";\r\n            let self = this;\r\n            if (this.unionId > 0) {\r\n                sendPack.unionId = this.unionId;\r\n                packName = \"union.CUnionRoomInfoDetails\";\r\n            }\r\n            app.NetManager().SendPack(packName, sendPack, function(serverPack){\r\n                self.FormManager.ShowForm('ui/club/UIClubRoomWanFa',serverPack);\r\n            }, function(){\r\n                app.SysNotifyManager().ShowSysMsg(\"\",[],3);\r\n            });\r\n        }\r\n        else if('btn_zhanji'==btnName || 'btn_unionRecord'==btnName){\r\n            if(this.nowClubID>0){\r\n                let clubData = app.ClubManager().GetClubDataByClubID(this.nowClubID);\r\n                this.myisminister = clubData.minister;\r\n                if(this.myisminister>0){\r\n                    this.FormManager.ShowForm('ui/club/UIClubRecordList',this.nowClubID,this.unionId,this.nowClubName, this.unionPostType, this.myisminister);\r\n                }else{\r\n                    this.FormManager.ShowForm(\"ui/club/UIClubRecordUserDay\",this.nowClubID,this.unionId);\r\n                    // app.SysNotifyManager().ShowSysMsg('');\r\n                }\r\n            }else{\r\n                app.SysNotifyManager().ShowSysMsg('');\r\n            }\r\n\r\n        }else if(btnName==\"btn_addRoomCard\" || btnName==\"btn_shop\"){\r\n            if(this.nowClubID<0){\r\n                app.SysNotifyManager().ShowSysMsg('');\r\n                return;\r\n            }\r\n            this.FormManager.ShowForm('ui/club/UIClubStore',this.nowClubID,this.nowClubName);\r\n        }else if(btnName==\"btn_jiemian\"){\r\n            this.CloseForm();\r\n            this.FormManager.ShowForm('ui/club/UIClub');\r\n        }\r\n        else if(btnName==\"btn_more\"){\r\n            let childMore = this.node.getChildByName('top').getChildByName('right_btn').getChildByName('moreNode').getChildByName('childMore');\r\n            childMore.active = !childMore.active;\r\n            let moreNode = this.node.getChildByName('top').getChildByName('right_btn').getChildByName('moreNode');\r\n            moreNode.getComponent(cc.Sprite).enabled = childMore.active;\r\n        }\r\n        else if (btnName == \"btn_jinzhitongzhuo\") {\r\n            this.FormManager.ShowForm('ui/club/UIClubForbid',this.nowClubID);\r\n        }else if (btnName == \"btn_union\") {\r\n            if (this.unionId > 0) {\r\n                if(app.ClubManager().GetUnionTypeByLastClubData()==1){\r\n                    this.FormManager.ShowForm('ui/club_2/UIUnionManager_2', this.nowClubID, this.unionId, this.unionName, this.unionPostType, this.myisminister, this.unionSign);\r\n               }else{\r\n                    this.FormManager.ShowForm('ui/club/UIUnionManager', this.nowClubID, this.unionId, this.unionName, this.unionPostType, this.myisminister, this.unionSign);\r\n                }\r\n            }else{\r\n                this.FormManager.ShowForm('ui/club/UIUnionNone',this.nowClubID);\r\n            }\r\n        }else if (btnName == \"btn_unionRoomList\") {\r\n            if (this.unionId > 0) {\r\n                if(app.ClubManager().GetUnionTypeByLastClubData()==1){\r\n                    this.FormManager.ShowForm('ui/club_2/UIUnionManager_2', this.nowClubID, this.unionId, this.unionName, this.unionPostType, this.myisminister, this.unionSign, \"btn_Wanfa\");\r\n                }else{\r\n                    this.FormManager.ShowForm('ui/club/UIUnionManager', this.nowClubID, this.unionId, this.unionName, this.unionPostType, this.myisminister, this.unionSign, \"btn_Wanfa\");\r\n                }\r\n            }else{\r\n                this.FormManager.ShowForm('ui/club/UIUnionNone',this.nowClubID);\r\n            }\r\n        }else if (btnName == \"btn_outRace\") {\r\n            let btnNameStr = btnNode.getChildByName(\"lb_btnName\").getComponent(cc.Label).string;\r\n            if (btnNameStr == \"\") {\r\n                this.SetWaitForConfirm('MSG_OUT_RACE',app.ShareDefine().Confirm);\r\n            }else {\r\n                this.SendPackUnionApply();\r\n            }\r\n        }else if (btnName == \"img_bjl\") {\r\n            if (this.unionPostType == app.ClubManager().UNION_GENERAL && this.levelPromotion == 0) {//\r\n                return;\r\n            }\r\n            if (this.unionId > 0) {\r\n                if(app.ClubManager().GetUnionTypeByLastClubData()==1){\r\n                    this.FormManager.ShowForm('ui/club_2/UIUnionManagerZhongZhi', this.nowClubID, this.unionId, this.unionName, this.unionPostType, this.myisminister, this.unionSign, this.levelPromotion);\r\n                }\r\n            }\r\n        }\r\n\r\n        else{\r\n            //this.left.active=false;\r\n            /*this.node.getChildByName('bottom').getChildByName('btn_qhqyq').active=true;\r\n            this.node.getChildByName('bottom').getChildByName('btn_ycqyq').active=false;*/\r\n        }\r\n        \r\n    },\r\n    OnClose:function(){\r\n        app.ClubManager().OutClubUI();\r\n        this.unschedule(this.RunRoomDisplay);\r\n        this.FormManager.CloseForm(\"ui/club/UIClubInRoom\");\r\n        this.left.active=true;\r\n        this.node.getChildByName('bottom').getChildByName('btn_qhqyq').active=false;\r\n        this.node.getChildByName('bottom').getChildByName('btn_ycqyq').active=true;\r\n    },\r\n    /**\r\n     * 2\r\n     * @param curEventType\r\n     * @param curArgList\r\n     */\r\n    SetWaitForConfirm:function(msgID,type,msgArg=[],cbArg=[]){\r\n        let ConfirmManager = app.ConfirmManager();\r\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\r\n        ConfirmManager.ShowConfirm(type, msgID, msgArg);\r\n    },\r\n    OnConFirm:function(clickType, msgID, backArgList){\r\n        if(clickType != \"Sure\"){\r\n            if(this.inRoom){\r\n                if('MSG_CLUB_CHANGEROOM' == msgID){\r\n                    this.Click_btn_goRoom();\r\n                }\r\n            }\r\n            return\r\n        }\r\n        let self = this;\r\n        if('MSG_CLUB_DissolveRoomCfg' == msgID){\r\n            let roomData = backArgList[0];\r\n            let jesanState = app.ClubManager().Enum_RoomCfg_Delete;\r\n            app.ClubManager().SendSetRoomCfg(this.clubId,roomData.gameIndex,jesanState);\r\n        }else if('MSG_CLUB_DissolveRoom' == msgID){\r\n            app.ClubManager().SendCloseClub(this.clubId);\r\n            //this.FormManager.ShowForm('bottom');\r\n            this.FormManager.CloseFormReal('ui/club/UIClubManager');\r\n        }else if('MSG_CLUB_EXIT' == msgID){\r\n            app.ClubManager().SendPlayerStateChange(this.clubId,app.HeroManager().GetHeroProperty(\"pid\"),app.ClubManager().Enum_Leave);\r\n            //this.FormManager.ShowForm('bottom');\r\n            this.FormManager.CloseFormReal('ui/club/UIClubManager');\r\n        }else if('MSG_CLUB_RoomCard_Not_Enough' == msgID){\r\n            let clubId = backArgList[0];\r\n            for(let i=0;i<this.clubCardNtfs.length;i++){\r\n                if(this.clubCardNtfs[i].clubId == clubId){\r\n                    this.clubCardNtfs.splice(i,1);\r\n                    break;\r\n                }\r\n            }\r\n            if(0 != this.clubCardNtfs.length){\r\n                let data = this.clubCardNtfs[0];\r\n                setTimeout(function(){\r\n                    app.SysNotifyManager().ShowSysMsg('MSG_CLUB_RoomCard_Not_Enough',[data.clubName,data.roomcardattention]);\r\n                },200);\r\n            }\r\n        }\r\n        else if('MSG_CLUB_KICKPlayer' == msgID){\r\n            let data = backArgList[0];\r\n            app.ClubManager().SendPlayerStateChange(data.clubId,data.pid,data.kickState);\r\n        }\r\n        else if('MSG_CLUB_CHANGEROOM' == msgID){\r\n            app.Client.ChangeRoomCheckSubGame(this.changeInfo.gameName,this.changeInfo.roomKey, this.nowClubID,undefined,this.changeInfo.password);\r\n        }\r\n        else if (\"MSG_OUT_RACE\" == msgID) {\r\n            this.SendPackUnionApply();\r\n        }\r\n        else if('MSG_GO_ROOM' == msgID){\r\n            this.Click_btn_goRoom();\r\n        }\r\n    },\r\n    Click_btn_goRoom:function(){\r\n        let curGameType = this.ShareDefine.GametTypeID2PinYin[this.inRoomInfo.gameId];\r\n        app.Client.SetGameType(curGameType);\r\n        this.FormManager.ShowForm(\"UIDownLoadGame\",curGameType,0,null,0,0,true);\r\n        \r\n    },\r\n    SendPackUnionApply:function(){\r\n        let self = this;\r\n        let sendPack = app.ClubManager().GetUnionSendPackHead();\r\n        app.NetManager().SendPack('union.CUnionApply',sendPack,function(serverPack){\r\n            //\r\n            let unionNode = self.node.getChildByName('bottom').getChildByName('unionNode');\r\n            let lbBtnName = unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").getComponent(cc.Label);\r\n            if (lbBtnName.string == \"\") {\r\n                app.SysNotifyManager().ShowSysMsg('');\r\n            }else if (lbBtnName.string == \"\") {\r\n                app.SysNotifyManager().ShowSysMsg('');\r\n            }else if (lbBtnName.string == \"\") {\r\n                app.SysNotifyManager().ShowSysMsg('');\r\n            }\r\n            if (serverPack == 1) {\r\n                //\r\n                lbBtnName.string = \"\";\r\n                unionNode.getChildByName(\"btn_outRace\").getComponent(cc.Sprite).spriteFrame = self.btn_outRaceSprite[1];\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").color = new cc.Color(255, 255, 255);\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").getComponent(cc.LabelOutline).color = new cc.Color(78, 78, 78);\r\n            }else if (serverPack == 2) {\r\n                //\r\n                lbBtnName.string = \"\";\r\n                unionNode.getChildByName(\"btn_outRace\").getComponent(cc.Sprite).spriteFrame = self.btn_outRaceSprite[0];\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").color = new cc.Color(255, 255, 255);\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").getComponent(cc.LabelOutline).color = new cc.Color(124, 64, 32);\r\n            }else if (serverPack == 3) {\r\n                //\r\n                lbBtnName.string = \"\";\r\n                unionNode.getChildByName(\"btn_outRace\").getComponent(cc.Sprite).spriteFrame = self.btn_outRaceSprite[0];\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").color = new cc.Color(255, 255, 255);\r\n                unionNode.getChildByName(\"btn_outRace\").getChildByName(\"lb_btnName\").getComponent(cc.LabelOutline).color = new cc.Color(124, 64, 32);\r\n            }\r\n        },function(error){\r\n\r\n        });\r\n    },\r\n\r\n    OnEventToggleHideRoom:function(event){\r\n        if (event.isChecked) {\r\n            cc.sys.localStorage.setItem('isToggleHideRoom',\"1\");\r\n        }else{\r\n            cc.sys.localStorage.setItem('isToggleHideRoom',\"2\");\r\n        }\r\n        for (let i = 0; i < this.right_layout.children.length; i++) {\r\n            for (let j = 0; j < this.roomList.length; j++) {\r\n                if(this.roomList[j].roomKey==this.right_layout.children[i].roomKey){\r\n                    if(this.right_layout.children[i].isDisplay==true){\r\n                        this.ShowRoomData(this.right_layout.children[i], this.roomList[j]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    OnEvent_SpeedTest:function(event){\r\n        let YanCi=event['yanci'];\r\n        this.lb_signal.string = YanCi+\" ms\";\r\n        if(YanCi<300){\r\n            this.bg_signal.getComponent(cc.Sprite).spriteFrame=this.icon_signal[3];\r\n        }else if(YanCi<500){\r\n            this.bg_signal.getComponent(cc.Sprite).spriteFrame=this.icon_signal[2];\r\n        }else if(YanCi<1000){\r\n            this.bg_signal.getComponent(cc.Sprite).spriteFrame=this.icon_signal[1];\r\n        }else{\r\n            this.bg_signal.getComponent(cc.Sprite).spriteFrame=this.icon_signal[0];\r\n        }\r\n    },\r\n    ShowUnionTip:function(){\r\n        let isNoTip = cc.sys.localStorage.getItem(this.unionId + \"_NoTipUnion\");\r\n        if (parseInt(isNoTip) == 1) {\r\n            return;\r\n        }\r\n        let showTipUnionTime = cc.sys.localStorage.getItem(this.unionId + \"_ShowTipUnion\");\r\n        if (showTipUnionTime == null || typeof(showTipUnionTime) == \"undefined\") {\r\n            cc.sys.localStorage.setItem(this.unionId + \"_ShowTipUnion\", app.ServerTimeManager().GetServerTimeData());\r\n            app.FormManager().ShowForm(\"ui/club/UIUnionTip\",this.unionId,this.unionName,this.ownerClubName,this.nowClubName);\r\n            return;\r\n        }\r\n        let day = app.ComTool().GetDayDiffByTick(parseInt(showTipUnionTime),app.ServerTimeManager().GetServerTimeData());\r\n        if (day > 0) {\r\n            cc.sys.localStorage.setItem(this.unionId + \"_ShowTipUnion\", app.ServerTimeManager().GetServerTimeData());\r\n            app.FormManager().ShowForm(\"ui/club/UIUnionTip\",this.unionId,this.unionName,this.ownerClubName,this.nowClubName);\r\n        }\r\n    },\r\n    ShowUnionRankTip:function(clubData){\r\n        if (clubData.existRound == 1) {\r\n            app.ClubManager().SetClubDataByClubID(clubData.id, \"existRound\", 0);\r\n            app.FormManager().ShowForm(\"ui/club/UIUnionRankTip\",this.unionName,clubData.unionRankingItem);\r\n        }\r\n    },\r\n    ShowUnionStateType:function(unionStateType){\r\n        let unionNode = this.node.getChildByName('bottom').getChildByName('unionNode');\r\n        if (unionStateType == 0) {\r\n            //\r\n            unionNode.getChildByName('img_bjl').getChildByName('lb_raceTime').active = true;\r\n            unionNode.getChildByName('img_bjl').getChildByName('lb_title_1').getComponent(cc.Label).string = \"\";\r\n        }else if (unionStateType == 1) {\r\n            //\r\n            unionNode.getChildByName('img_bjl').getChildByName('lb_raceTime').active = false;\r\n            unionNode.getChildByName('img_bjl').getChildByName('lb_title_1').getComponent(cc.Label).string = \"\";\r\n        }else if (unionStateType == 2) {\r\n            //\r\n            if (this.unionPostType == app.ClubManager().UNION_CREATE) {\r\n                app.SysNotifyManager().ShowSysMsg('');\r\n            }\r\n            unionNode.getChildByName('img_bjl').getChildByName('lb_raceTime').active = false;\r\n            unionNode.getChildByName('img_bjl').getChildByName('lb_title_1').getComponent(cc.Label).string = \"\";\r\n        }\r\n        unionNode.getChildByName('img_bjl').getChildByName('lb_raceTime').active = false\r\n        unionNode.getChildByName('img_bjl').getChildByName('lb_title_1').active = false\r\n    },\r\n    //-----------------------------\r\n    OnUpdate:function () {\r\n        let serverTimeTick = app.ServerTimeManager().GetServerTimeData();\r\n        if(this.endRoundTime || this.endRoundTime < serverTimeTick){\r\n            let endRoundTimeStr = app.ServerTimeManager().GetCDTimeStringBySec(this.endRoundTime, app.ShareDefine().DayHourMinuteSecond);\r\n            let unionNode = this.node.getChildByName('bottom').getChildByName('unionNode');\r\n            unionNode.getChildByName('img_bjl').getChildByName('lb_raceTime').getComponent(cc.Label).string = endRoundTimeStr;\r\n        }\r\n    },\r\n    //\r\n    CheckSkinType:function(clubData){\r\n\r\n    },\r\n});\r\n\r\nmodule.exports = BaseClubMainForm;"]}