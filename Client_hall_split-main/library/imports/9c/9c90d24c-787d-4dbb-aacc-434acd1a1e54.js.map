{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\majiang/assets\\script\\ui\\uiGame\\majiang\\UIMJCard_Down.js"],"names":["app","require","cc","Class","extends","properties","OnLoad","JS_Name","node","name","ShareDefine","ChildCount","PaiChildCount","ComTool","SysDataManager","IntegrateImage","GetTableDict","HideAllChild","index","childName","StringAddNumSuffix","childNode","getChildByName","active","indexChild","paiChildName","paiNode","ErrLog","paiSprite","getComponent","Sprite","zhi","spriteFrame","ShowDownCardByPZMJ","publicCardList","imageString","count","length","publicInfoList","cardIDList","slice","opType","OpType_AnGang","OpType_KanPai","cardCount","cardIndex","cardID","childPath","join","find","ShowImage","cardSprite","GetSameCardTypes","sameValueList","i","cardId","cardType","Math","floor","hasOwnProperty","push","ShowDownCardByJAMJ","posCount","jin1","jin2","cardbgPos","cardIDPos","getCardID","nodeParentName","parent","indexOf","OpType_Chi","middleIndex","middleCardID","splice","OpType_MingGang","color","ShowJinBgByJAMJ","RoomMgr","room","GetEnterRoom","roomSet","GetRoomSet","get_jin1","get_jin2","ShowTeShuDanDownCardByCCMJ","sameCardTypes","Object","keys","cardList","cardNode","Label","string","ShowJinBg","ShowDownCardByCCMJ","OpType_TeShuDan","isNeedShowCard06","offset","ShowDownCard","ShowDownCardBySSE","OpType_TianGang","ShowImageBySSE","ShowDownCardBySXZJMJ","kexuanwanfa","actionCardID","carIDIndex","ShowDownCardBySCNJMJ","gangMap","posResultInfo","gangNumLists","ShowDownCardByJinBg","ShowDownCardByLKMJ","ShowDownCardByJMSKMJ","ShowJinBgByJMSKMJ","ShowDownCardLLFYMJ","liangPaiList","baoZhangList","ShowDownCardByHBWHMJ","laiZiPiList","specialLaiZiPiList","ShowJinBgByHBWHMJ","ShowDownCardByJDZMJ","ShowDownCardByHnxymj","allKanList","ShowDownCardKan","ShowDownCardByLCMJ","notPointGangList","childSprite","imageName","imageInfo","imagePath","that","ControlManager","CreateLoadPromise","SpriteFrame","then","catch","error","stack","isShow"],"mappings":"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","file":"UIMJCard_Down.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\ui\\uiGame\\majiang","sourcesContent":["/*\n UICard01-04 \n */\n\nlet app = require(\"app\");\n\ncc.Class({\n    extends: require(\"BaseComponent\"),\n\n    properties: {},\n\n    // use this for initialization\n    OnLoad: function () {\n        this.JS_Name = this.node.name + \"_UIMJCard_Down\";\n        this.ShareDefine = app.ShareDefine();\n        this.ChildCount = 5;\n        this.PaiChildCount = 4;\n        this.ComTool = app.ComTool();\n        this.SysDataManager = app.SysDataManager();\n        this.IntegrateImage = this.SysDataManager.GetTableDict(\"IntegrateImage\");\n        this.HideAllChild();\n    },\n    HideAllChild: function () {\n        for (let index = 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n            for (let indexChild = 1; indexChild <= this.PaiChildCount; indexChild++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", indexChild, 2);\n                let paiNode = childNode.getChildByName(paiChildName);\n                if (!paiNode) {\n                    this.ErrLog(\"HideAllChild(%s) not find:%s\", childName, paiChildName);\n                    continue\n                }\n                let paiSprite = paiNode.getComponent(cc.Sprite);\n                let zhi = paiNode.getChildByName('zhi');\n                if (zhi != null) {\n                    zhi.active = false;\n                }\n                paiSprite.spriteFrame = null;\n            }\n        }\n    },\n    ShowDownCardByPZMJ: function (publicCardList, imageString = 'EatCard_Self_') {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            //,3\n            if (opType == this.ShareDefine.OpType_AnGang) {\n                cardIDList = [0, 0, 0, cardIDList[3]];\n            }\n            //,\n            if (opType == this.ShareDefine.OpType_KanPai) {\n                cardIDList = [0, cardIDList[0], 0];\n            }\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                this.ShowImage(childNode, imageString, cardID);\n            }\n            //\n            for (let cardIndex = cardCount + 1; cardIndex <= this.PaiChildCount; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n\n            }\n        }\n\n        //\n        for (let index = count + 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n        }\n    },\n    GetSameCardTypes: function (cardIDList) {\n        let sameValueList = {};\n        for (let i = 0; i < cardIDList.length; i++) {\n            let cardId = cardIDList[i];\n            let cardType = Math.floor(cardId / 100);\n            if (!sameValueList.hasOwnProperty(cardType)) {\n                sameValueList[cardType] = [];\n            }\n            sameValueList[cardType].push(cardId);\n        }\n        return sameValueList;\n    },\n    // \n    ShowDownCardByJAMJ: function (publicCardList, posCount, jin1 = 0, jin2 = 0, imageString = 'EatCard_Self_') {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            //\n            let cardbgPos = -1;\n            let cardIDPos = publicInfoList[1];\n            let getCardID = publicInfoList[2];\n\n            let nodeParentName = this.node.parent.name;\n            if (nodeParentName.indexOf(\"1\") > 0) {\n            } else if (nodeParentName.indexOf(\"2\") > 0) {\n                if (cardIDPos == 0) {\n                    cardIDPos = 3;\n                } else if (cardIDPos == 1) {\n                    // cardIDPos = 0;\n                } else if (cardIDPos == 2) {\n                    cardIDPos = 1;\n                } else if (cardIDPos == 3) {\n                    cardIDPos = 2;\n                }\n            } else if (nodeParentName.indexOf(\"3\") > 0) {\n                if (cardIDPos == 0) {\n                    cardIDPos = 2;\n                } else if (cardIDPos == 1) {\n                    cardIDPos = 3;\n                } else if (cardIDPos == 2) {\n                    // cardIDPos = 0;\n                } else if (cardIDPos == 3) {\n                    cardIDPos = 1;\n                }\n            } else if (nodeParentName.indexOf(\"4\") > 0) {\n                if (cardIDPos == 0) {\n                    cardIDPos = 1;\n                } else if (cardIDPos == 1) {\n                    cardIDPos = 2;\n                } else if (cardIDPos == 2) {\n                    cardIDPos = 3;\n                } else if (cardIDPos == 3) {\n                    // cardIDPos = 0;\n                }\n            }\n            if (cardIDPos == 1) {\n                cardbgPos = 0;\n            } else if (cardIDPos == 2) {\n                cardbgPos = 1;\n            } else if (cardIDPos == 3) {\n                cardbgPos = 2;\n            }\n\n            if (opType == this.ShareDefine.OpType_Chi) {\n                let middleIndex = cardIDList.indexOf(getCardID);\n                let middleCardID = cardIDList.splice(middleIndex, 1);\n                cardIDList.splice(0, 0, middleCardID);\n            }\n\n            //,3\n            if (opType == this.ShareDefine.OpType_AnGang) {\n                cardIDList = [0, 0, 0, cardIDList[3]];\n                //\n                cardbgPos = -1;\n                getCardID == -1;\n            }\n            if (opType == this.ShareDefine.OpType_MingGang) {\n                //\n                cardbgPos = -1;\n                getCardID == -1;\n            }\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            if (cardIDList.length == 4 && cardbgPos == 1) {\n                //4\n                cardbgPos = 3;\n            }\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                if (posCount > 2) {\n                    if (cardbgPos == cardIndex && cardbgPos > -1) {\n                        childNode.color = cc.color(150, 150, 150);\n                    } else {\n                        childNode.color = cc.color(255, 255, 255);\n                    }\n                }\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = false;\n                }\n                this.ShowJinBgByJAMJ(cardID, childNode, jin1, jin2);\n                this.ShowImage(childNode, imageString, cardID);\n            }\n            //\n            for (let cardIndex = cardCount + 1; cardIndex <= this.PaiChildCount; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n\n            }\n        }\n\n        //\n        for (let index = count + 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n            if (childNode.getChildByName(\"da\")) {\n                childNode.getChildByName(\"da\").active = false;\n            }\n            if (childNode.getChildByName(\"icon_fu\")) {\n                childNode.getChildByName(\"icon_fu\").active = false;\n            }\n        }\n    },\n    ShowJinBgByJAMJ: function (cardID, childNode, jin1 = 0, jin2 = 0) {\n        if (jin1 == 0) {\n            if (this.RoomMgr == null) {\n                return;\n            }\n            let room = this.RoomMgr.GetEnterRoom();\n            if (!room) return;\n            let roomSet = room.GetRoomSet();\n            if (roomSet) {\n                jin1 = roomSet.get_jin1();\n                jin2 = roomSet.get_jin2();\n            }\n        }\n        if (childNode.getChildByName(\"da\")) {\n            childNode.getChildByName(\"da\").active = false;\n        }\n        if (childNode.getChildByName(\"icon_fu\")) {\n            childNode.getChildByName(\"icon_fu\").active = false;\n        }\n        if (cardID > 0) {\n            if (Math.floor(cardID / 100) == Math.floor(jin1 / 100)) {\n                childNode.color = cc.color(255, 255, 125);\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = true;\n                }\n            } else if (Math.floor(cardID / 100) == Math.floor(jin2 / 100)) {\n                childNode.color = cc.color(255, 255, 125);\n                if (childNode.getChildByName(\"icon_fu\")) {\n                    childNode.getChildByName(\"icon_fu\").active = true;\n                }\n            } else {\n                childNode.color = cc.color(255, 255, 255);\n            }\n        } else {\n            childNode.color = cc.color(255, 255, 255);\n            if (childNode.getChildByName(\"da\")) {\n                childNode.getChildByName(\"da\").active = false;\n            }\n            if (childNode.getChildByName(\"icon_fu\")) {\n                childNode.getChildByName(\"icon_fu\").active = false;\n            }\n        }\n\n    },\n    // ()\n    ShowTeShuDanDownCardByCCMJ: function (cardIDList, childNode, imageString = 'EatCard_Self_', jin1 = 0, jin2 = 0) {\n        childNode.active = true;\n        let sameCardTypes = this.GetSameCardTypes(cardIDList);\n        let cardCount = Object.keys(sameCardTypes).length;\n        let i = 1;\n        for (let cardType in sameCardTypes) {\n            if (sameCardTypes.hasOwnProperty(cardType)) {\n                let cardList = sameCardTypes[cardType] || [];\n                let count = cardList.length;\n                let cardNode = childNode.getChildByName(\"card0\" + i++);\n                cardNode.getChildByName(\"lb_num\").active = count > 1;\n                cardNode.getChildByName(\"lb_num\").getComponent(cc.Label).string = \"x\" + count;\n                let cardID = Math.floor(cardType + \"01\");\n                if (cardNode.getChildByName(\"da\")) {\n                    cardNode.getChildByName(\"da\").active = false;\n                }\n                this.ShowJinBg(cardID, cardNode, jin1, jin2);\n                this.ShowImage(cardNode, imageString, cardID);\n            }\n        }\n\n        for (let cardIndex = cardCount + 1; cardIndex <= this.PaiChildCount; cardIndex++) {\n            let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n            let childPath = paiChildName;//[childName, paiChildName].join(\"/\");\n            if (cardIndex == 6) {\n                childPath = [paiChildName, \"cards\"].join(\"/\");\n            }\n            let cardNode = cc.find(childPath, childNode);\n            if (!cardNode) {\n                continue\n            }\n            cardNode.color = cc.color(255, 255, 255);\n            // console.error(\"cardNode: \", cardNode.name)\n            cardNode.active = false;\n            let cardSprite = cardNode.getComponent(cc.Sprite);\n            cardSprite.spriteFrame = null;\n        }\n    },\n    // \n    ShowDownCardByCCMJ: function (publicCardList, posCount, jin1 = 0, jin2 = 0, imageString = 'EatCard_Self_') {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            // \n            if (opType == this.ShareDefine.OpType_TeShuDan) {\n                let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n                let childNode = this.node.getChildByName(childName);\n                if (!!childNode) {\n                    this.ShowTeShuDanDownCardByCCMJ(cardIDList, childNode, imageString, jin1, jin2);\n                }\n                continue;\n            }\n            //,3\n            if (opType == this.ShareDefine.OpType_AnGang) {\n                cardIDList = [0, 0, 0, cardIDList[3]];\n            }\n\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            let isNeedShowCard06 = false;\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                // ()\n                if (cardIndex == 3) {\n                    paiChildName = this.ComTool.StringAddNumSuffix(\"card\", 6, 2);\n                    childPath = [childName, paiChildName, \"cards\"].join(\"/\");\n                    isNeedShowCard06 = true;\n                }\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                this.ShowImage(childNode, imageString, cardID);\n            }\n            //\n            let offset = 1;\n            if (isNeedShowCard06) {\n                offset = 0;\n            }\n            for (let cardIndex = cardCount + offset; cardIndex <= 6; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (cardIndex == 6) {\n                    if (isNeedShowCard06) {\n                        continue;\n                    }\n                    childPath = [childName, paiChildName, \"cards\"].join(\"/\");\n                    childNode = cc.find(childPath, this.node);\n                }\n                if (!childNode) {\n                    continue\n                }\n                childNode.active = false;\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n\n            }\n        }\n\n        //\n        for (let index = count + 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n        }\n    },\n    ShowDownCard: function (publicCardList, imageString = 'EatCard_Self_') {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            //,3\n            if (opType == this.ShareDefine.OpType_AnGang) {\n                cardIDList = [0, 0, 0, cardIDList[3]];\n            }\n\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                this.ShowImage(childNode, imageString, cardID);\n            }\n            //\n            for (let cardIndex = cardCount + 1; cardIndex <= this.PaiChildCount; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n\n            }\n        }\n\n        //\n        for (let index = count + 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n        }\n    },\n    ShowDownCardBySSE: function (publicCardList, imageString = 'Poker_') {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            //,3\n            if (opType == this.ShareDefine.OpType_AnGang) {\n                cardIDList = [0, 0, 0, cardIDList[3]];\n            }\n            if (opType == this.ShareDefine.OpType_TianGang) {\n                cardIDList = [0, 0, 0, 0, cardIDList[3]];\n            }\n\n\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                this.ShowImageBySSE(childNode, imageString, cardID);\n            }\n            //\n            for (let cardIndex = cardCount + 1; cardIndex <= 5; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n\n            }\n        }\n\n        //\n        for (let index = count + 1; index <= 8; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n        }\n    },\n    //\n    ShowDownCardBySXZJMJ: function (kexuanwanfa, publicCardList, jin1, jin2, imageString = 'EatCard_Self_') {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            let actionCardID = publicInfoList[2];\n            let carIDIndex = cardIDList.indexOf(actionCardID);\n            cardIDList.splice(carIDIndex, 1);\n            cardIDList.push(actionCardID);\n            //,3\n            if (opType == this.ShareDefine.OpType_AnGang) {\n                if (kexuanwanfa.indexOf(2) > -1) {//\n\n                } else {\n                    cardIDList = [0, 0, 0, cardIDList[3]];\n                }\n            }\n\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                this.ShowJinBg(cardID, childNode, jin1, jin2);\n                this.ShowImage(childNode, imageString, cardID);\n            }\n            //\n            for (let cardIndex = cardCount + 1; cardIndex <= this.PaiChildCount; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n\n            }\n        }\n\n        //\n        for (let index = count + 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n        }\n    },\n    // \n    ShowDownCardBySCNJMJ: function (publicCardList, imageString = 'EatCard_Self_', gangMap, posResultInfo) {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            let cardId = cardIDList[0];\n            //,3\n            if (opType == this.ShareDefine.OpType_AnGang) {\n                cardIDList = [0, 0, 0, cardIDList[3]];\n            }\n\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                childNode.getChildByName(\"bg_mask\").active = (posResultInfo[\"ypdyList\"] || []).indexOf(cardID) > -1;\n                this.ShowImage(childNode, imageString, cardID);\n            }\n            //\n            for (let cardIndex = cardCount + 1; cardIndex <= this.PaiChildCount; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n                childNode.getChildByName(\"bg_mask\").active = false;\n            }\n\n            let cardType = Math.floor(cardId / 100);\n            let gangNumLists = gangMap && gangMap[cardType] || [];\n            // gangNumLists = this.SwitchToTargetData(gangNumLists);\n            childNode.getChildByName(\"lb_gangNum\").getComponent(cc.Label).string = gangNumLists.join(\"\");\n        }\n\n\n        //\n        for (let index = count + 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n        }\n    },\n    ShowDownCardByJinBg: function (publicCardList, jin1 = 0, jin2 = 0, imageString = 'EatCard_Self_') {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            //,3\n            if (opType == this.ShareDefine.OpType_AnGang) {\n                cardIDList = [0, 0, 0, cardIDList[3]];\n            }\n\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                this.ShowJinBg(cardID, childNode, jin1, jin2);\n                this.ShowImage(childNode, imageString, cardID);\n            }\n            //\n            for (let cardIndex = cardCount + 1; cardIndex <= this.PaiChildCount; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n                childNode.color = cc.color(255, 255, 255);\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = false;\n                }\n\n            }\n        }\n\n        //\n        for (let index = count + 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n        }\n    },\n    ShowDownCardByLKMJ: function (publicCardList, imageString = 'EatCard_Self_') {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            //,3\n            if (publicInfoList.indexOf(5001) > -1) {\n            } else {\n                if (opType == this.ShareDefine.OpType_AnGang) {\n                    cardIDList = [0, 0, 0, cardIDList[3]];\n                }\n            }\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                this.ShowImage(childNode, imageString, cardID);\n            }\n            //\n            for (let cardIndex = cardCount + 1; cardIndex <= this.PaiChildCount; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n\n            }\n        }\n\n        //\n        for (let index = count + 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n        }\n    },\n    ShowDownCardByJMSKMJ: function (publicCardList, jin1 = 0, jin2 = 0, imageString = 'EatCard_Self_') {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            //,3\n            if (opType == this.ShareDefine.OpType_AnGang) {\n                cardIDList = [0, 0, 0, cardIDList[3]];\n            }\n\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = false;\n                }\n                if (childNode.getChildByName(\"pi\")) {\n                    childNode.getChildByName(\"pi\").active = false;\n                }\n                if (childNode.getChildByName(\"pi2\")) {\n                    childNode.getChildByName(\"pi2\").active = false;\n                }\n                this.ShowJinBgByJMSKMJ(cardID, childNode, jin1, jin2);\n                this.ShowImage(childNode, imageString, cardID);\n            }\n            //\n            for (let cardIndex = cardCount + 1; cardIndex <= this.PaiChildCount; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = false;\n                }\n                if (childNode.getChildByName(\"pi\")) {\n                    childNode.getChildByName(\"pi\").active = false;\n                }\n                if (childNode.getChildByName(\"pi2\")) {\n                    childNode.getChildByName(\"pi2\").active = false;\n                }\n\n            }\n        }\n\n        //\n        for (let index = count + 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n        }\n    },\n    ShowDownCardLLFYMJ: function (publicCardList, imageString = 'EatCard_Self_', liangPaiList, baoZhangList) {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            //,3\n            if (opType == this.ShareDefine.OpType_AnGang) {\n                cardIDList = [0, 0, 0, cardIDList[3]];\n            }\n\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                childNode.getChildByName(\"da\").active = false;\n                childNode.getChildByName(\"kouting\").active = false;\n                this.ShowImage(childNode, imageString, cardID);\n                if (liangPaiList.indexOf(cardID) > -1) {\n                    childNode.getChildByName(\"da\").active = true;\n                }\n                if (baoZhangList.indexOf(cardID) > -1) {\n                    childNode.getChildByName(\"kouting\").active = true;\n                }\n            }\n            //\n            for (let cardIndex = cardCount + 1; cardIndex <= this.PaiChildCount; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n\n            }\n        }\n\n        //\n        for (let index = count + 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n        }\n    },\n    //\n    ShowDownCardByHBWHMJ: function (publicCardList, posCount, jin1 = 0, laiZiPiList = [], specialLaiZiPiList = [], imageString = 'EatCard_Self_') {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            //\n            let cardbgPos = -1;\n            let cardIDPos = publicInfoList[1];\n            let getCardID = publicInfoList[2];\n\n            let nodeParentName = this.node.parent.name;\n            if (nodeParentName.indexOf(\"1\") > 0) {\n            } else if (nodeParentName.indexOf(\"2\") > 0) {\n                if (cardIDPos == 0) {\n                    cardIDPos = 3;\n                } else if (cardIDPos == 1) {\n                    // cardIDPos = 0;\n                } else if (cardIDPos == 2) {\n                    cardIDPos = 1;\n                } else if (cardIDPos == 3) {\n                    cardIDPos = 2;\n                }\n            } else if (nodeParentName.indexOf(\"3\") > 0) {\n                if (cardIDPos == 0) {\n                    cardIDPos = 2;\n                } else if (cardIDPos == 1) {\n                    cardIDPos = 3;\n                } else if (cardIDPos == 2) {\n                    // cardIDPos = 0;\n                } else if (cardIDPos == 3) {\n                    cardIDPos = 1;\n                }\n            } else if (nodeParentName.indexOf(\"4\") > 0) {\n                if (cardIDPos == 0) {\n                    cardIDPos = 1;\n                } else if (cardIDPos == 1) {\n                    cardIDPos = 2;\n                } else if (cardIDPos == 2) {\n                    cardIDPos = 3;\n                } else if (cardIDPos == 3) {\n                    // cardIDPos = 0;\n                }\n            }\n            if (cardIDPos == 1) {\n                cardbgPos = 0;\n            } else if (cardIDPos == 2) {\n                cardbgPos = 1;\n            } else if (cardIDPos == 3) {\n                cardbgPos = 2;\n            }\n\n            if (opType == this.ShareDefine.OpType_Chi) {\n                let middleIndex = cardIDList.indexOf(getCardID);\n                let middleCardID = cardIDList.splice(middleIndex, 1);\n                cardIDList.splice(0, 0, middleCardID);\n            }\n\n            //,3\n            if (opType == this.ShareDefine.OpType_AnGang) {\n                cardIDList = [0, 0, 0, cardIDList[3]];\n                //\n                cardbgPos = -1;\n                getCardID == -1;\n            }\n            if (opType == this.ShareDefine.OpType_MingGang) {\n                //\n                cardbgPos = -1;\n                getCardID == -1;\n            }\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            if (cardIDList.length == 4 && cardbgPos == 1) {\n                //4\n                cardbgPos = 3;\n            }\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                if (posCount > 2) {\n                    if (cardbgPos == cardIndex && cardbgPos > -1) {\n                        childNode.color = cc.color(150, 150, 150);\n                    } else {\n                        childNode.color = cc.color(255, 255, 255);\n                    }\n                }\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = false;\n                }\n                this.ShowJinBgByHBWHMJ(cardID, childNode, jin1, laiZiPiList, specialLaiZiPiList);\n                this.ShowImage(childNode, imageString, cardID);\n            }\n            //\n            for (let cardIndex = cardCount + 1; cardIndex <= this.PaiChildCount; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n\n            }\n        }\n\n        //\n        for (let index = count + 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n        }\n    },\n    //\n    ShowDownCardByJDZMJ: function (publicCardList, posCount, jin1 = 0, jin2 = 0, imageString = 'EatCard_Self_') {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            //\n            let cardbgPos = -1;\n            let cardIDPos = publicInfoList[1];\n            let getCardID = publicInfoList[2];\n\n            let nodeParentName = this.node.parent.name;\n            if (nodeParentName.indexOf(\"1\") > 0) {\n            } else if (nodeParentName.indexOf(\"2\") > 0) {\n                if (cardIDPos == 0) {\n                    cardIDPos = 3;\n                } else if (cardIDPos == 1) {\n                    // cardIDPos = 0;\n                } else if (cardIDPos == 2) {\n                    cardIDPos = 1;\n                } else if (cardIDPos == 3) {\n                    cardIDPos = 2;\n                }\n            } else if (nodeParentName.indexOf(\"3\") > 0) {\n                if (cardIDPos == 0) {\n                    cardIDPos = 2;\n                } else if (cardIDPos == 1) {\n                    cardIDPos = 3;\n                } else if (cardIDPos == 2) {\n                    // cardIDPos = 0;\n                } else if (cardIDPos == 3) {\n                    cardIDPos = 1;\n                }\n            } else if (nodeParentName.indexOf(\"4\") > 0) {\n                if (cardIDPos == 0) {\n                    cardIDPos = 1;\n                } else if (cardIDPos == 1) {\n                    cardIDPos = 2;\n                } else if (cardIDPos == 2) {\n                    cardIDPos = 3;\n                } else if (cardIDPos == 3) {\n                    // cardIDPos = 0;\n                }\n            }\n            if (cardIDPos == 1) {\n                cardbgPos = 0;\n            } else if (cardIDPos == 2) {\n                cardbgPos = 1;\n            } else if (cardIDPos == 3) {\n                cardbgPos = 2;\n            }\n\n            if (opType == this.ShareDefine.OpType_Chi) {\n                let middleIndex = cardIDList.indexOf(getCardID);\n                let middleCardID = cardIDList.splice(middleIndex, 1);\n                cardIDList.splice(0, 0, middleCardID);\n            }\n\n            //,3\n            if (opType == this.ShareDefine.OpType_AnGang) {\n                cardIDList = [0, 0, 0, cardIDList[3]];\n                //\n                cardbgPos = -1;\n                getCardID == -1;\n            }\n            if (opType == this.ShareDefine.OpType_MingGang) {\n                //\n                cardbgPos = -1;\n                getCardID == -1;\n            }\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            if (cardIDList.length == 4 && cardbgPos == 1) {\n                //4\n                cardbgPos = 3;\n            }\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                if (posCount > 2) {\n                    if (cardbgPos == cardIndex && cardbgPos > -1) {\n                        childNode.color = cc.color(150, 150, 150);\n                    } else {\n                        childNode.color = cc.color(255, 255, 255);\n                    }\n                }\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = false;\n                }\n                this.ShowJinBg(cardID, childNode, jin1, jin2);\n                this.ShowImage(childNode, imageString, cardID);\n            }\n            //\n            for (let cardIndex = cardCount + 1; cardIndex <= this.PaiChildCount; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n\n            }\n        }\n\n        //\n        for (let index = count + 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n        }\n    },\n    //\n    ShowDownCardByHnxymj: function (publicCardList, allKanList, imageString = \"EatCard_Self_\") {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            //,3\n            if (opType == this.ShareDefine.OpType_AnGang) {\n                cardIDList = [0, 0, 0, cardIDList[3]];\n            }\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                this.ShowImage(childNode, imageString, cardID);\n                this.ShowDownCardKan(childNode, allKanList.indexOf(cardID) > -1);\n            }\n            //\n            for (let cardIndex = cardCount + 1; cardIndex <= this.PaiChildCount; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n\n            }\n        }\n\n        //\n        for (let index = count + 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n        }\n    },\n    //\n    ShowDownCardByLCMJ: function (publicCardList, posCount, jin1 = 0, jin2 = 0, imageString = 'EatCard_Self_', notPointGangList = []) {\n        let count = 0;\n        if (typeof (publicCardList) != \"undefined\") {\n            count = publicCardList.length;\n        }\n        for (let index = 0; index < count; index++) {\n            let publicInfoList = publicCardList[index];\n            let cardIDList = publicInfoList.slice(3, publicInfoList.length);\n            //\n            let opType = publicInfoList[0];\n            //\n            let cardbgPos = -1;\n            let cardIDPos = publicInfoList[1];\n            let getCardID = publicInfoList[2];\n\n            let nodeParentName = this.node.parent.name;\n            if (nodeParentName.indexOf(\"1\") > 0) {\n            } else if (nodeParentName.indexOf(\"2\") > 0) {\n                if (cardIDPos == 0) {\n                    cardIDPos = 3;\n                } else if (cardIDPos == 1) {\n                    // cardIDPos = 0;\n                } else if (cardIDPos == 2) {\n                    cardIDPos = 1;\n                } else if (cardIDPos == 3) {\n                    cardIDPos = 2;\n                }\n            } else if (nodeParentName.indexOf(\"3\") > 0) {\n                if (cardIDPos == 0) {\n                    cardIDPos = 2;\n                } else if (cardIDPos == 1) {\n                    cardIDPos = 3;\n                } else if (cardIDPos == 2) {\n                    // cardIDPos = 0;\n                } else if (cardIDPos == 3) {\n                    cardIDPos = 1;\n                }\n            } else if (nodeParentName.indexOf(\"4\") > 0) {\n                if (cardIDPos == 0) {\n                    cardIDPos = 1;\n                } else if (cardIDPos == 1) {\n                    cardIDPos = 2;\n                } else if (cardIDPos == 2) {\n                    cardIDPos = 3;\n                } else if (cardIDPos == 3) {\n                    // cardIDPos = 0;\n                }\n            }\n            if (cardIDPos == 1) {\n                cardbgPos = 0;\n            } else if (cardIDPos == 2) {\n                cardbgPos = 1;\n            } else if (cardIDPos == 3) {\n                cardbgPos = 2;\n            }\n\n            if (opType == this.ShareDefine.OpType_Chi) {\n                let middleIndex = cardIDList.indexOf(getCardID);\n                let middleCardID = cardIDList.splice(middleIndex, 1);\n                cardIDList.splice(0, 0, middleCardID);\n            }\n\n            //,3\n            if (opType == this.ShareDefine.OpType_AnGang) {\n                cardIDList = [0, 0, 0, cardIDList[3]];\n                //\n                cardbgPos = -1;\n                getCardID == -1;\n            }\n            if (opType == this.ShareDefine.OpType_MingGang) {\n                //\n                cardbgPos = -1;\n                getCardID == -1;\n            }\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index + 1, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            if (cardIDList.length == 4 && cardbgPos == 1) {\n                //4\n                cardbgPos = 3;\n            }\n            childNode.active = true;\n            let cardCount = cardIDList.length;\n            for (let cardIndex = 0; cardIndex < cardCount; cardIndex++) {\n                let cardID = cardIDList[cardIndex];\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex + 1, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                if (posCount > 2) {\n                    if (cardbgPos == cardIndex && cardbgPos > -1) {\n                        childNode.color = cc.color(150, 150, 150);\n                    } else {\n                        childNode.color = cc.color(255, 255, 255);\n                    }\n                }\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = false;\n                }\n                this.ShowJinBg(cardID, childNode, jin1, jin2);\n                this.ShowImage(childNode, imageString, cardID);\n                //\n                if (notPointGangList.indexOf(Math.floor(cardID / 100)) > -1) {\n                    childNode.color = cc.color(125, 125, 125);\n                } else {\n                    childNode.color = cc.color(255, 255, 255);\n                }\n            }\n            //\n            for (let cardIndex = cardCount + 1; cardIndex <= this.PaiChildCount; cardIndex++) {\n                let paiChildName = this.ComTool.StringAddNumSuffix(\"card\", cardIndex, 2);\n                let childPath = [childName, paiChildName].join(\"/\");\n                let childNode = cc.find(childPath, this.node);\n                if (!childNode) {\n                    continue\n                }\n                let cardSprite = childNode.getComponent(cc.Sprite);\n                cardSprite.spriteFrame = null;\n\n            }\n        }\n\n        //\n        for (let index = count + 1; index <= this.ChildCount; index++) {\n            let childName = this.ComTool.StringAddNumSuffix(\"down\", index, 2);\n            let childNode = this.node.getChildByName(childName);\n            if (!childNode) {\n                continue\n            }\n            childNode.active = false;\n        }\n    },\n\n    ShowImage: function (childNode, imageString, cardID) {\n        //\n        let childSprite = childNode.getComponent(cc.Sprite);\n        if (!childSprite) {\n            this.ErrLog(\"ShowOutCard(%s) not find cc.Sprite\", childNode.name);\n            return\n        }\n        let imageName = \"\";\n        if (cardID) {\n            //ID2\n            imageName = [imageString, Math.floor(cardID / 100)].join(\"\");\n        }\n        else {\n            if (imageString == \"EatCard_Self_\") {\n                imageName = \"CardBack_Self\";\n            }\n        }\n        let imageInfo = this.IntegrateImage[imageName];\n        if (!imageInfo) {\n            this.ErrLog(\"ShowImage IntegrateImage.txt not find:%s\", imageName);\n            return\n        }\n        let imagePath = imageInfo[\"FilePath\"];\n        if (app['majiang_' + imageName]) {\n            childSprite.spriteFrame = app['majiang_' + imageName];\n        } else {\n            let that = this;\n            app.ControlManager().CreateLoadPromise(imagePath, cc.SpriteFrame)\n                .then(function (spriteFrame) {\n                    if (!spriteFrame) {\n                        that.ErrLog(\"OpenPoker(%s) load spriteFrame fail\", imagePath);\n                        return\n                    }\n                    childSprite.spriteFrame = spriteFrame;\n                    app['majiang_' + imageName] = spriteFrame;\n                })\n                .catch(function (error) {\n                        that.ErrLog(\"OpenPoker(%s) error:%s\", imagePath, error.stack);\n                    }\n                );\n        }\n    },\n    ShowImageBySSE: function (childNode, imageString, cardID) {\n        //\n        let childSprite = childNode.getComponent(cc.Sprite);\n        if (!childSprite) {\n            this.ErrLog(\"ShowOutCard(%s) not find cc.Sprite\", childNode.name);\n            return\n        }\n        // if (cardID) {\n        //     //ID2\n        //     imageName = [imageString, Math.floor(cardID / 100)].join(\"\");\n        // }\n        // else {\n        //     if (imageString == \"\") {\n        //         imageName = \"CardBack_Self\";\n        //     }\n        // }\n        //ID2\n        let imageName = [imageString, Math.floor(cardID / 100)].join(\"\");\n        let imageInfo = this.IntegrateImage[imageName];\n        if (!imageInfo) {\n            this.ErrLog(\"ShowImage IntegrateImage.txt not find:%s\", imageName);\n            return\n        }\n        let imagePath = imageInfo[\"FilePath\"];\n        if (app['majiang_' + imageName]) {\n            childSprite.spriteFrame = app['majiang_' + imageName];\n        } else {\n            let that = this;\n            app.ControlManager().CreateLoadPromise(imagePath, cc.SpriteFrame)\n                .then(function (spriteFrame) {\n                    if (!spriteFrame) {\n                        that.ErrLog(\"OpenPoker(%s) load spriteFrame fail\", imagePath);\n                        return\n                    }\n                    childSprite.spriteFrame = spriteFrame;\n                    app['majiang_' + imageName] = spriteFrame;\n                })\n                .catch(function (error) {\n                        that.ErrLog(\"OpenPoker(%s) error:%s\", imagePath, error.stack);\n                    }\n                );\n        }\n    },\n    ShowJinBg: function (cardID, childNode, jin1 = 0, jin2 = 0) {\n        if (jin1 == 0) {\n            if (this.RoomMgr == null) {\n                return;\n            }\n            let room = this.RoomMgr.GetEnterRoom();\n            if (!room) return;\n            let roomSet = room.GetRoomSet();\n            if (roomSet) {\n                jin1 = roomSet.get_jin1();\n                jin2 = roomSet.get_jin2();\n            }\n        }\n        if (cardID > 0) {\n            if (Math.floor(cardID / 100) == Math.floor(jin1 / 100) || Math.floor(cardID / 100) == Math.floor(jin2 / 100)) {\n                childNode.color = cc.color(255, 255, 125);\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = true;\n                }\n            } else {\n                childNode.color = cc.color(255, 255, 255);\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = false;\n                }\n            }\n        } else {\n            childNode.color = cc.color(255, 255, 255);\n            if (childNode.getChildByName(\"da\")) {\n                childNode.getChildByName(\"da\").active = false;\n            }\n        }\n\n    },\n    ShowJinBgByHBWHMJ: function (cardID, childNode, jin1 = 0, laiZiPiList = [], specialLaiZiPiList = []) {\n        if (jin1 == 0) {\n            if (this.RoomMgr == null) {\n                return;\n            }\n            let room = this.RoomMgr.GetEnterRoom();\n            if (!room) return;\n            let roomSet = room.GetRoomSet();\n            if (roomSet) {\n                jin1 = roomSet.get_jin1();\n                jin2 = roomSet.get_jin2();\n            }\n        }\n        if (cardID > 0) {\n            if (Math.floor(cardID / 100) == Math.floor(jin1 / 100)) {\n                // childNode.color = cc.color(255, 255, 125);\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = true;\n                }\n                if (childNode.getChildByName(\"pi\")) {\n                    childNode.getChildByName(\"pi\").active = false;\n                }\n                if (childNode.getChildByName(\"pi2\")) {\n                    childNode.getChildByName(\"pi2\").active = false;\n                }\n            } else if (laiZiPiList.indexOf(Math.floor(cardID / 100)) > -1) {\n                // childNode.color = cc.color(255, 255, 255);\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = false;\n                }\n                if (childNode.getChildByName(\"pi\")) {\n                    childNode.getChildByName(\"pi\").active = true;\n                }\n                if (childNode.getChildByName(\"pi2\")) {\n                    childNode.getChildByName(\"pi2\").active = false;\n                }\n            } else if (specialLaiZiPiList.indexOf(Math.floor(cardID / 100)) > -1) {\n                // childNode.color = cc.color(255, 255, 255);\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = false;\n                }\n                if (childNode.getChildByName(\"pi\")) {\n                    childNode.getChildByName(\"pi\").active = false;\n                }\n                if (childNode.getChildByName(\"pi2\")) {\n                    childNode.getChildByName(\"pi2\").active = true;\n                }\n            }\n        } else {\n            // childNode.color = cc.color(255, 255, 255);\n            if (childNode.getChildByName(\"da\")) {\n                childNode.getChildByName(\"da\").active = false;\n            }\n            if (childNode.getChildByName(\"pi\")) {\n                childNode.getChildByName(\"pi\").active = false;\n            }\n            if (childNode.getChildByName(\"pi2\")) {\n                childNode.getChildByName(\"pi2\").active = false;\n            }\n        }\n\n    },\n    ShowJinBgByJMSKMJ: function (cardID, childNode, jin1 = 0, jin2 = 0) {\n        if (jin1 == 0) {\n            if (this.RoomMgr == null) {\n                return;\n            }\n            let room = this.RoomMgr.GetEnterRoom();\n            if (!room) return;\n            let roomSet = room.GetRoomSet();\n            if (roomSet) {\n                jin1 = roomSet.get_jin1();\n                jin2 = roomSet.get_jin2();\n            }\n        }\n        if (cardID > 0) {\n            if (Math.floor(cardID / 100) == Math.floor(jin1 / 100)) {\n                childNode.color = cc.color(255, 255, 125);\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = true;\n                }\n                if (childNode.getChildByName(\"pi\")) {\n                    childNode.getChildByName(\"pi\").active = false;\n                }\n                if (childNode.getChildByName(\"pi2\")) {\n                    childNode.getChildByName(\"pi2\").active = false;\n                }\n            } else if (Math.floor(cardID / 100) == Math.floor(jin2 / 100)) {\n                childNode.color = cc.color(255, 255, 255);\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = false;\n                }\n                if (childNode.getChildByName(\"pi\")) {\n                    childNode.getChildByName(\"pi\").active = false;\n                }\n                if (childNode.getChildByName(\"pi2\")) {\n                    childNode.getChildByName(\"pi2\").active = false;\n                }\n            }\n            if (Math.floor(cardID / 100) == 45 || Math.floor(cardID / 100) == 46) {\n                childNode.color = cc.color(255, 255, 255);\n                if (childNode.getChildByName(\"da\")) {\n                    childNode.getChildByName(\"da\").active = false;\n                }\n                if (childNode.getChildByName(\"pi\")) {\n                    childNode.getChildByName(\"pi\").active = false;\n                }\n                if (childNode.getChildByName(\"pi2\")) {\n                    childNode.getChildByName(\"pi2\").active = true;\n                }\n            }\n        } else {\n            childNode.color = cc.color(255, 255, 255);\n            if (childNode.getChildByName(\"da\")) {\n                childNode.getChildByName(\"da\").active = false;\n            }\n            if (childNode.getChildByName(\"pi\")) {\n                childNode.getChildByName(\"pi\").active = false;\n            }\n            if (childNode.getChildByName(\"pi2\")) {\n                childNode.getChildByName(\"pi2\").active = false;\n            }\n        }\n    },\n    //\n    ShowDownCardKan: function (childNode, isShow) {\n        if (childNode.getChildByName(\"da\")) {\n            childNode.getChildByName(\"da\").active = isShow;\n        }\n    }\n});\n"]}