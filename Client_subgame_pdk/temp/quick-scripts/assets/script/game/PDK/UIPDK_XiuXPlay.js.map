{"version":3,"sources":["UIPDK_XiuXPlay.js"],"names":["app","require","cc","Class","extends","subGameName","properties","btn_ready","Node","btn_weixin","btn_cancel","btn_go","btn_exit","btn_quit","btn_fzfh","btn_jifen","handCards","allCards","gameBtn","btn_tip","btn_pass","btn_outCard","gameMultiple","btn_robDoor","btn_notRobDoor","btn_openCard","boom_Ani","lianDui_Ani","plane_Ani","dragon_Ani","labelRoomId","Label","labeiWanfa","lb_jushu","roomInfo","headPrefab","Prefab","cardPrefab","bsPrefab","giftPrefabs","giftNode","btn_voice","btn_chat","btn_auto","btn_change","bg_electricity","SpriteFrame","bg_wifi","UIInvitation","resVersion","OnCreateInit","RoomMgr","toUpperCase","Room","HeroManager","FormManager","SceneManager","UtilsWord","PokerCard","RoomPosMgr","RoomSet","LogicPDKGame","ShareDefine","Define","RegEvent","OnEvt_CopyTextNtf","invitationNode","instantiate","node","addChild","bg_power","getChildByName","bg_signal","nowtime","isFirstEnter","Event_PosContinueGame","Event_DissolveRoom","Event_StartVoteDissolve","Event_ChangePlayerNum","Event_PosLeave","Event_PosUpdate","Event_PosReadyChg","Event_SetStart","Event_SetEnd","Event_ExitRoomSuccess","Event_RoomEnd","OnPack_AutoStart","Event_ChatMessage","Event_ShowHandCard","Event_OpCard","Event_ChangeStatus","Event_AddDouble","Event_OpenCard","Event_RobClose","Event_CodeError","Event_GameGift","Event_StopTime","Event_SportsPointEnough","Event_SportsPointNotEnough","Event_SportsPointThresholdEnough","Event_SportsPointThresholdNotEnough","Left","cardSpcedX","on","Event_TouchStart","Event_TouchEnd","EventType","TOUCH_START","OnTouchStart","TOUCH_MOVE","OnTouchMove","TOUCH_END","OnTouchEnd","TOUCH_CANCEL","OnTouchCancel","getComponent","Animation","OnAniBoomFinished","OnAniPlaneFinished","OnAniDragonFinished","i","ShutDow_Ani","GetWndNode","OnAniShutDowFinished","sys","isNative","OnEvent_BatteryLevel","OnEvent_SpeedTest","InitData","AddCardPrefab","game","EVENT_HIDE","OnEventHide","bind","EVENT_SHOW","OnEventShow","event","code","ShowSysMsg","msg","SetWaitForConfirm","ConfirmOK","HideClientUseTime","allCardIdx","hanCardIdx","player1Idx","player2Idx","player3Idx","card3Idx","firstTurn","tipCount","lastCircleEnd","openCardInfo","notUp","isBackGround","BackTime","that","active","ShowAllCard","MaxHandCard","card","name","toString","MaxPlayer","outCardList","j","openCardList","downList","GetHandCard","children","length","cardValue","cardNode","y","bSelected","CheckSelected","MaxRisePosY","isLastCard","ShowCard","canOutCard","ChangeCardNum","dataPos","len","uiPos","GetUIPosByDataPos","cardNum","GetRoomWanfa","SEVER_SHOWCARDNUM","totalNum","string","ShowWarningByPos","GetClientPos","warning","play","stop","SetSeat01OutCardPos","posX","x","SetAniPos","setPosition","v2","PlayCardSound","pos","opCardType","cardList","circleEnd","sex","GetPlayerSex","value","GetCardValue","SoundManager","PlaySound","randomNum","Math","floor","random","self","argDict","sendPos","recivePos","productId","sendHead","GetComponentByPos","reciveHead","giftIdx","tempNode","ani","defaultClip","bMove","OnGiftAniEnd","vec1","convertToWorldSpaceAR","vec2","convertToNodeSpaceAR","action","sequence","moveTo","callFunc","GiftMoveEnd","runAction","sender","useData","nodes","aniState","getAnimationState","isPlaying","removeFromParent","CheckOpCardPosIsLeave","opPosInfo","GetPlayerInfoByPos","roomID","GetEnterRoomID","isShowLeave","SendPack","console","log","data","time","GetClockTime","runWaitSec","secTotal","SortCardByMax","SetHandCard","privateList","ClearPlayerTable","turnEnd","ClearCardData","SetRoomSetProperty","isFirstOp","HideClockByPos","SetCardData","ShowOutCard","DeleteOpenCardList","CheckDragon","isFlash","ShowForm","dataSecTotal","OutPokerCard","ClearForbiddenTouch","isSetEnd","nextPos","IsHaveBoom","GetCardType","isOut","tipArray","GetTipCard","myHangCard","serverPack","GetEnterRoom","GetRoomProperty","scheduleOnce","ClientOpCardByType","ShowBtnOutCard","array","isAutoPass","MinTickTime","ForbiddenTouch","ShowBtnPass","SEVER_BMUST","ShowAllGameBtn","ShowBtnTipAndOutCard","Click_btn_tip","GetUICardComponentByPos","ShowUseTime","SetTimeOpen","StartTickTime","isCanChoose","pokerList","cardType","GetLastCardType","CheckOnlyBoom","lastValue","poker","touchTag","isHas","list","indexOf","ChangeSelectCard","SEVER_MINGCARD","splice","ShowOpenCard","opPos","GetRoomSetProperty","robSuccess","SEVER_ROBDOOR","StartGame","addDouble","ShowAddDouble","OpenCard","state","SetState_End","HideAllOpenCard","pass","includes","typeNode","find","outCardNodeList","HideAllOutCard","outCard","HideAllPass","HideAllClock","clock","HideAllWarning","HideChild","child","HideAllHandCard","shoupai","GetRoomShouPai","HideAllCardNum","poker_back","ClearPlayerState","second","MaxTickTime","Click_btn_pass","clientCards","Click_btn_outCard","tick","unschedule","CallEverySecond","schedule","Button","interactable","HideAllGameBtn","HideAllBsNode","CheckShouPai","firstOpCard","parent","GetSecTotal","SEVER_FIRST3","ChooseDouble","count","ReInRoom","FaPaiFinish","SendFaPaiFinish","pokers","sort","a","b","realPoker","FaPaiAction","baseTime","realValue","GetPokeCard","clientPos","setInfo","GetRoomSetInfo","SEVER_FANGZUOBI","room","kexuanwanfa","GetRoomConfigByProperty","AddCardAction","wndNode","isChoose","moveIndex","lastMoveIndex","moveX","target","touch","getLocation","startsWith","minX","width","maxX","startIndex","isEnd","endIndex","Click_card","cardArray","GetTipCardSlCard","GetSelectCard","checkCount","clickNode","cardIdx","substring","SetCardSelected","parseInt","DeleteCardSelected","AddHead","ClearHead","posList","playerCount","idx","path","head","headScript","Init","headNode","OnClose","HideAll","unscheduleAllCallbacks","InitGameStateCommon","InitHandCard","playerAll","GetRoomAllPlayerInfo","playerAllList","Object","keys","player","posInfo","info","pid","InitCardNum","cards","openCard","OnShow","getLocalVersion","isCoinRoom","IsShowVoice","CheckUpdateNotice","IsShowChat","roomCfg","GetRoomConfig","clubId","unionId","ExitGame","error","LocalDataManager","SetConfigProperty","GameBackMusic","GetConfigProperty","PlayMusic","StopSceneMusic","aw","ah","height","srcWH","curWH","destScale","unDestScale","spaceX","Layout","spacingX","cardNodeWidth","disslove","roomState","setID","current","fangjian","WanFa","GetRoomPosMgr","joinPlayerCount","posAgreeList","RoomState_Init","isAuto","ShowAutoIcon","UpdatePlayerScore","SetState_Init","SetState_Playing","ShowUseTimeByInfo","opType","ScheduleTime","lastOpPos","clientPlayerInfo","RefreshRoomShow","setEnd","isAutoReady","gaoji","xianshi","GetRoomXianShi","SendGetRoomInfo","ShowPlayerReady","HideAllZhunBeiLabel","setReady","ShowOrHideZhunbei","isShow","HidePlayerAllBtn","HideAllAni","OnClickForm","OnClick","btnName","btnNode","Click_btn_go","Click_btn_ready","Click_btn_cancel","Click_btn_weixin","SendAddDouble","SendRoobDoor","SendOpenCard","zIndex","Click_btn_jiesan","Click_btn_jifen","PlayerCount","GetRoomPlayerCount","IsFormShow","CloseForm","SendAutoStart","Click_btn_change","str","Click_btn_fzkl","ErrLog","Msg","Code","OpCard_Error","SportsPointNotEnough","ApplyDissolve","NotAllow","success","roomPosMgr","RoomState_End","ClientPos","posName","RoomState_Playing","jiesan","SetWaitForConfirmForm","OnConFirm","ShowConfirm","Confirm","msgID","createType","IsClientIsCreater","SendOpCard","IsDownPosSingleCard","playerNum","GetPosCount","GetDownPosCardNum","posTag","GetClientDownPos","GetClientFacePos","GetClientUpPos","isSelectCard","handeCardList","aValue","bValue","SEVER_FIRST3NOCHU3","SEVER_SHOUJUFIRST3","SEVER_BMUSTBOMB","IsDismantleBoom","TransformValueToS","CheckSelCardListInHandCard","CheckSelCardListOrCardList","daiNum","GetDaiNum","SendReady","SendUnReady","OnEvent","cardsCount","SetRoomData","senderPid","quickID","content","playerList","playerListKey","initiatorPos","playerSex","InitHeroSex","soundName","i18n","t","join","CheckContentDirty","ShowFaceContent","ShowChatContent","OnEffectEnd","wndPath","effectName","Sex","HeroSex_Boy","HeroSex_Girl","beShutDowList","firstOpPos","UpdatePlayerSportsPoint","ownnerForce","IsClientIsOwner","dissolveNoticeType","UpDateLabJiFen","UpDateLabSportsPoint","roomSetID","ReadyState","SetPlayerReadyInfo","HidePlayerReady","HideClientReady","IsClientReady","isClientReady","JoinPlayerFinish","tempNum","ShowPlayerOk","ShowPlayerYaoQing","SetHandCardScale","scale","type","msgArg","cbArg","ConfirmManager","clickType","backArgList","SendDissolveRoom","SendExitRoom","startRecord","setTouchEnd","stopRecord","curTime","Date","getTime","lostHearTime","outGameTime","isConnectIng","Disconnect","bStartReConnect","StartReConnect","ReConnectByTipSureBtn","StartTimer","StopTimer","selCardList","handCardListTemp","handCardList","push","Remove","selHandCardsList","power","Sprite","spriteFrame","YanCi","update","dt","DateNow","Hours","getHours","Minutes","getMinutes","Seconds","getSeconds","StringAddNumSuffix"],"mappings":"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","file":"UIPDK_XiuXPlay.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\game\\PDK","sourcesContent":["var app = require(\"pdk_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        btn_ready: cc.Node,\r\n        btn_weixin: cc.Node,\r\n        btn_cancel: cc.Node,\r\n        btn_go: cc.Node,\r\n        btn_exit: cc.Node,\r\n        btn_quit: cc.Node,\r\n        btn_fzfh: cc.Node,\r\n        btn_jifen: cc.Node,\r\n        handCards: cc.Node,\r\n        allCards: cc.Node,\r\n        gameBtn: cc.Node,\r\n        btn_tip: cc.Node,\r\n        btn_pass: cc.Node,\r\n        btn_outCard: cc.Node,\r\n        gameMultiple: cc.Node,\r\n        btn_robDoor: cc.Node,\r\n        btn_notRobDoor: cc.Node,\r\n        btn_openCard: cc.Node,\r\n        boom_Ani: cc.Node,\r\n        lianDui_Ani: cc.Node,\r\n        plane_Ani: cc.Node,\r\n        dragon_Ani: cc.Node,\r\n\r\n        labelRoomId: cc.Label, //特殊处理的房间信息显示\r\n        labeiWanfa: cc.Label,\r\n        lb_jushu: cc.Label,\r\n        roomInfo: cc.Node,\r\n\r\n        headPrefab: cc.Prefab,\r\n        cardPrefab: cc.Prefab,\r\n        bsPrefab: cc.Prefab,\r\n\r\n        giftPrefabs: [cc.Prefab],\r\n        giftNode: cc.Node,\r\n\r\n        btn_voice: cc.Node,\r\n        btn_chat: cc.Node,\r\n        btn_auto: cc.Node,\r\n\r\n        btn_change: cc.Node,\r\n\r\n        bg_electricity: [cc.SpriteFrame],\r\n        bg_wifi: [cc.SpriteFrame],\r\n\r\n        UIInvitation: cc.Prefab,\r\n        resVersion: cc.Label,\r\n    },\r\n\r\n    OnCreateInit: function() {\r\n        this.RoomMgr = app[app.subGameName.toUpperCase() + \"RoomMgr\"]();\r\n        this.Room = app[app.subGameName.toUpperCase() + \"Room\"]();\r\n        this.HeroManager = app[app.subGameName + \"_HeroManager\"]();\r\n        this.FormManager = app[app.subGameName + \"_FormManager\"]();\r\n        this.SceneManager = app[app.subGameName + \"_SceneManager\"]();\r\n        this.UtilsWord = app[app.subGameName + \"_UtilsWord\"]();\r\n        this.PokerCard = app[app.subGameName + \"_PokerCard\"]();\r\n        this.RoomPosMgr = app[app.subGameName.toUpperCase() + \"RoomPosMgr\"]();\r\n        this.RoomSet = app[app.subGameName.toUpperCase() + \"RoomSet\"]();\r\n        this.LogicPDKGame = app[\"Logic\" + app.subGameName.toUpperCase() + \"Game\"]();\r\n        this.ShareDefine = app[app.subGameName + \"_ShareDefine\"]();\r\n        this.Define = app[app.subGameName.toUpperCase() + \"Define\"]();\r\n        this.RegEvent(\"OnCopyTextNtf\", this.OnEvt_CopyTextNtf, this);\r\n        this.invitationNode = cc.instantiate(this.UIInvitation);\r\n        this.node.addChild(this.invitationNode);\r\n\r\n        //UI\r\n        this.bg_power = this.node.getChildByName(\"roomInfo\").getChildByName(\"bg_power\");\r\n        this.bg_signal = this.node.getChildByName(\"roomInfo\").getChildByName(\"signal\").getChildByName(\"bg_signal\");\r\n        this.nowtime = this.node.getChildByName(\"roomInfo\").getChildByName(\"nowtime\");\r\n        //是否第一次进入\r\n        this.isFirstEnter = true;\r\n\r\n        //公共消息\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_PosContinueGame\", this.Event_PosContinueGame);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_DissolveRoom\", this.Event_DissolveRoom);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_StartVoteDissolve\", this.Event_StartVoteDissolve); //发起房间结算投票\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_ChangePlayerNum\", this.Event_ChangePlayerNum); //发起房间修改人数\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_PosLeave\", this.Event_PosLeave);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_PosUpdate\", this.Event_PosUpdate);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_PosReadyChg\", this.Event_PosReadyChg);\r\n\r\n        //游戏消息\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"SetStart\", this.Event_SetStart);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"SetEnd\", this.Event_SetEnd);\r\n        this.RegEvent('ExitRoomSuccess', this.Event_ExitRoomSuccess);\r\n        this.RegEvent(\"RoomEnd\", this.Event_RoomEnd);\r\n        this.RegEvent(\"SPlayer_Trusteeship\", this.OnPack_AutoStart);\r\n        this.RegEvent(\"ChatMessage\", this.Event_ChatMessage);\r\n        this.RegEvent(\"HandCard\", this.Event_ShowHandCard);\r\n        this.RegEvent(\"OpCard\", this.Event_OpCard);\r\n        this.RegEvent(\"ChangeStatus\", this.Event_ChangeStatus);\r\n        this.RegEvent(\"AddDouble\", this.Event_AddDouble);\r\n        this.RegEvent(\"OpenCard\", this.Event_OpenCard);\r\n        this.RegEvent(\"RobClose\", this.Event_RobClose);\r\n        this.RegEvent('CodeError', this.Event_CodeError);\r\n        this.RegEvent('GameGift', this.Event_GameGift, this);\r\n        this.RegEvent('StopTime', this.Event_StopTime, this);\r\n\r\n        //比赛分不足时通知\r\n        this.RegEvent(\"SportsPointEnough\", this.Event_SportsPointEnough);\r\n        this.RegEvent(\"SportsPointNotEnough\", this.Event_SportsPointNotEnough);\r\n\r\n        //比赛分门槛不足时通知\r\n        this.RegEvent(\"SportsPointThresholdEnough\", this.Event_SportsPointThresholdEnough);\r\n        this.RegEvent(\"SportsPointThresholdNotEnough\", this.Event_SportsPointThresholdNotEnough);\r\n\r\n        this.Left = [false, true, false, false];\r\n\r\n        this.cardSpcedX = 0;\r\n\r\n        this.btn_voice.on(\"touchstart\", this.Event_TouchStart, this)\r\n        this.btn_voice.on(\"touchend\", this.Event_TouchEnd, this)\r\n        this.btn_voice.on(\"touchcancel\", this.Event_TouchEnd, this)\r\n\r\n        this.handCards.on(cc.Node.EventType.TOUCH_START, this.OnTouchStart, this);\r\n        this.handCards.on(cc.Node.EventType.TOUCH_MOVE, this.OnTouchMove, this);\r\n        this.handCards.on(cc.Node.EventType.TOUCH_END, this.OnTouchEnd, this);\r\n        this.handCards.on(cc.Node.EventType.TOUCH_CANCEL, this.OnTouchCancel, this);\r\n\r\n        this.boom_Ani.getComponent(cc.Animation).on('finished', this.OnAniBoomFinished, this);\r\n        this.plane_Ani.getComponent(cc.Animation).on('finished', this.OnAniPlaneFinished, this);\r\n        this.dragon_Ani.getComponent(cc.Animation).on('finished', this.OnAniDragonFinished, this);\r\n        for (var i = 0; i < 4; i++) {\r\n            let ShutDow_Ani = this.GetWndNode(\"sp_seat0\" + i + \"/ShutDow_Ani\");\r\n            ShutDow_Ani.getComponent(cc.Animation).on('finished', this.OnAniShutDowFinished, this);\r\n        }\r\n        if (cc.sys.isNative) {\r\n            app[app.subGameName + \"Client\"].RegEvent(\"EvtBatteryLevel\", this.OnEvent_BatteryLevel, this);\r\n        }\r\n        app[app.subGameName + \"Client\"].RegEvent(\"EvtSpeedTest\", this.OnEvent_SpeedTest, this);\r\n        this.InitData();\r\n        this.AddCardPrefab();\r\n\r\n        cc.game.on(cc.game.EVENT_HIDE, this.OnEventHide.bind(this));\r\n        cc.game.on(cc.game.EVENT_SHOW, this.OnEventShow.bind(this));\r\n    },\r\n    OnEvt_CopyTextNtf: function(event) {\r\n        if (0 == event.code)\r\n            this.ShowSysMsg(\"已复制：\" + event.msg);\r\n        else\r\n            this.ShowSysMsg(\"房间号复制失败\");\r\n    },\r\n    Event_SportsPointEnough: function(event) {\r\n        let msg = event.msg;\r\n        this.SetWaitForConfirm(\"SportsPointEnough\", this.ShareDefine.ConfirmOK, [msg]);\r\n    },\r\n    Event_SportsPointNotEnough: function(event) {\r\n        let msg = event.msg;\r\n        this.ShowSysMsg(\"比赛分不足房间自动解散\");\r\n        // this.SetWaitForConfirm(\"SportsPointNotEnough\",this.ShareDefine.ConfirmYN, []);\r\n    },\r\n\r\n    Event_SportsPointThresholdEnough: function(event) {\r\n        let msg = event.msg;\r\n        this.SetWaitForConfirm(\"SportsPointThresholdEnough\", this.ShareDefine.ConfirmOK, [msg]);\r\n    },\r\n    Event_SportsPointThresholdNotEnough: function(event) {\r\n        let msg = event.msg;\r\n        // this.ShowSysMsg(\"您得比赛分门槛不足，请联系赛事管理\");\r\n        this.SetWaitForConfirm(\"SportsPointThresholdNotEnough\", this.ShareDefine.ConfirmOK, []);\r\n    },\r\n    //停止房间倒计时\r\n    Event_StopTime: function(event){\r\n        this.HideClientUseTime();\r\n    },\r\n    InitData: function() {\r\n        //所有的牌索引\r\n        this.allCardIdx = 0;\r\n        //自己手牌索引\r\n        this.hanCardIdx = 0;\r\n        //其他玩家手牌索引\r\n        this.player1Idx = 0;\r\n        this.player2Idx = 0;\r\n        this.player3Idx = 0;\r\n        //黑桃3牌索引\r\n        this.card3Idx = 0;\r\n\r\n        this.firstTurn = false;\r\n\r\n        this.tipCount = 0;\r\n\r\n        this.lastCircleEnd = false;\r\n\r\n        this.openCardInfo = {};\r\n\r\n        this.notUp = false;\r\n\r\n        this.isBackGround = false;\r\n        this.BackTime = 5; //oncreate不捕获\r\n        let that = this;\r\n        // cc.game.on(cc.game.EVENT_HIDE, function(event){\r\n        //     if(!that.isBackGround){\r\n        //         that.isBackGround = true;\r\n        //         app[app.subGameName+\"_SoundManager\"]().StopAllSound();\r\n        //         console.log(\"切换后台\");\r\n        //     }\r\n        // });\r\n        // cc.game.on(cc.game.EVENT_SHOW, function(event){\r\n        //     // if(that.BackTime>3){\r\n        //     //     return;\r\n        //     // }\r\n        //     if(that.isBackGround){\r\n        //         console.log(\"切换前台\"); \r\n        //         that.isBackGround = false;\r\n        //         let GameBackMusic=that.LocalDataManager.GetConfigProperty(\"SysSetting\",\"GameBackMusic\");\r\n        //         app[app.subGameName+\"_SceneManager\"]().PlayMusic(GameBackMusic);\r\n        //         // that.BackTime=that.BackTime+1;\r\n        //         app[app.subGameName+\"_LocationOnStartMgr\"]().OnGetLocation();\r\n        //     }\r\n        // });\r\n    },\r\n\r\n    OnAniBoomFinished: function(event) {\r\n        this.boom_Ani.active = false;\r\n    },\r\n    OnAniPlaneFinished: function(event) {\r\n        this.plane_Ani.active = false;\r\n    },\r\n    OnAniDragonFinished: function(event) {\r\n        this.dragon_Ani.active = false;\r\n    },\r\n    OnAniShutDowFinished: function(event) {\r\n        for (var i = 0; i < 4; i++) {\r\n            let ShutDow_Ani = this.GetWndNode(\"sp_seat0\" + i + \"/ShutDow_Ani\");\r\n            ShutDow_Ani.active = false;\r\n        }\r\n    },\r\n\r\n    ShowAllCard: function() {\r\n        return;\r\n        /*this.allCards.active = true;\r\n        let cardNum = this.Room.GetRoomConfigByProperty(\"shoupai\");\r\n        if(cardNum == 0){\r\n            cardNum = this.Define.MidHandCard;\r\n        }\r\n        else if(cardNum == 1){\r\n            cardNum = this.Define.MidHandCardEx;\r\n        }\r\n        else{\r\n            cardNum = this.Define.MaxHandCard;\r\n        }\r\n        let playerNum = this.Room.GetRoomConfigByProperty(\"playerNum\");\r\n        let allCardNum = playerNum*cardNum;\r\n        let xPos = -512;\r\n        let yPos = 0;\r\n        for(let i = 0; i < allCardNum; i++){\r\n            let card = this.allCards.children[i];\r\n            card.getChildByName(\"poker_back\").active = true;\r\n            card.active = true;\r\n            if(i == 48){\r\n                xPos = -512;\r\n            }\r\n            if(i > 47){\r\n                card.y = -31.5;\r\n                card.x = xPos;\r\n            }\r\n            else{\r\n                card.y = 0;\r\n                card.x = xPos;\r\n            }\r\n            xPos += 22;\r\n        }*/\r\n    },\r\n\r\n    AddCardPrefab: function() {\r\n        //发牌的牌墩\r\n        /* this.allCards.active = false;\r\n         for(let i = 0; i < this.Define.MaxTableCard; i++){\r\n             let card = cc.instantiate(this.cardPrefab);\r\n             this.allCards.addChild(card);\r\n             card.active = false;\r\n             card.name = \"card_\" + (i+1).toString();\r\n         }*/\r\n\r\n        //玩家手牌\r\n        this.handCards.active = false;\r\n        for (let i = 0; i < this.Define.MaxHandCard; i++) {\r\n            let card = cc.instantiate(this.cardPrefab);\r\n            card.active = false;\r\n            card.name = \"card_\" + (i + 1).toString();\r\n            this.handCards.addChild(card);\r\n        }\r\n\r\n        //玩家打出去的牌\r\n        for (let i = 0; i < this.Define.MaxPlayer; i++) {\r\n            let outCardList = this.node.getChildByName(\"outCardList\" + i);\r\n            outCardList.active = false;\r\n            for (let j = 0; j < this.Define.MaxHandCard; j++) {\r\n                let card = cc.instantiate(this.cardPrefab);\r\n                card.active = false;\r\n                card.name = \"card_\" + (i + 1).toString();\r\n                outCardList.addChild(card);\r\n            }\r\n        }\r\n\r\n        //玩家明牌的牌\r\n        for (let i = 1; i < this.Define.MaxPlayer; i++) {\r\n            let openCardList = this.node.getChildByName(\"openCardList\" + i);\r\n            openCardList.active = false;\r\n            for (let j = 0; j < this.Define.MaxHandCard; j++) {\r\n                let card = cc.instantiate(this.cardPrefab);\r\n                card.active = false;\r\n                card.name = \"card_\" + (i + 1).toString();\r\n                openCardList.addChild(card);\r\n            }\r\n        }\r\n    },\r\n\r\n    Event_ShowHandCard: function() {\r\n        this.handCards.active = true;\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            let cardValue = downList[i];\r\n            let cardNode = this.handCards.children[i];\r\n            cardNode.y = 0;\r\n            if (cardValue) {\r\n                let bSelected = this.LogicPDKGame.CheckSelected(cardValue);\r\n                if (bSelected) {\r\n                    cardNode.y += this.Define.MaxRisePosY;\r\n                }\r\n                let isLastCard = false;\r\n                if (i == downList.length - 1) {\r\n                    isLastCard = true;\r\n                }\r\n                this.ShowCard(cardValue, cardNode, isLastCard);\r\n            } else {\r\n                cardNode.active = false;\r\n            }\r\n        }\r\n        this.canOutCard();\r\n    },\r\n\r\n    ChangeCardNum: function(dataPos, len) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        if (uiPos == 0) return;\r\n        let card = this.GetWndNode(\"sp_seat0\" + uiPos + \"/card\");\r\n        let cardNum = this.GetWndNode(\"sp_seat0\" + uiPos + \"/cardNum\");\r\n        if (!this.Room.GetRoomWanfa(this.Define.SEVER_SHOWCARDNUM)) {\r\n            // if(!true){//默认显示\r\n            cardNum.active = false;\r\n        } else {\r\n            cardNum.active = true;\r\n        }\r\n        let totalNum = len;\r\n        cardNum.getComponent(cc.Label).string = totalNum.toString() + '';\r\n        if (!card.getChildByName(\"poker_back\").active) {\r\n            card.getChildByName(\"poker_back\").active = true;\r\n        }\r\n        this.ShowWarningByPos(dataPos, totalNum);\r\n\r\n        return totalNum;\r\n    },\r\n\r\n    ShowWarningByPos: function(dataPos, len) {\r\n        if (this.RoomPosMgr.GetClientPos() == dataPos) return;\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let warning = this.GetWndNode(\"sp_seat0\" + uiPos + \"/warning\");\r\n        //只有剩一张牌才显示警告动画\r\n        if (len <= 1 && len > 0) {\r\n            warning.active = true;\r\n            warning.getComponent(cc.Animation).play(\"warning\");\r\n        } else {\r\n            warning.active = false;\r\n            warning.getComponent(cc.Animation).stop(\"warning\");\r\n        }\r\n    },\r\n\r\n    SetSeat01OutCardPos: function(dataPos, len) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        if (uiPos != 3) return;\r\n\r\n        let node = this.node.getChildByName(\"outCardList3\");\r\n        let posX = 575 - 25 * len;\r\n        node.x = posX;\r\n    },\r\n\r\n    SetAniPos: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        if (uiPos == 1) {\r\n            this.boom_Ani.setPosition(cc.v2(232, 64));\r\n        } else {\r\n            let outCardList = this.node.getChildByName(\"outCardList\" + uiPos);\r\n            this.boom_Ani.setPosition(cc.v2(outCardList.x, outCardList.y));\r\n        }\r\n    },\r\n\r\n    PlayCardSound: function(pos, opCardType, cardList, circleEnd) {\r\n        let sex = this.GetPlayerSex(pos);\r\n        if (this.lastCircleEnd) {\r\n            if (opCardType == 2) {\r\n                let value = this.LogicPDKGame.GetCardValue(cardList[0]);\r\n                this.SoundManager.PlaySound(sex + \"One_\" + value);\r\n            } else if (opCardType == 3) {\r\n                let value = this.LogicPDKGame.GetCardValue(cardList[0]);\r\n                this.SoundManager.PlaySound(sex + \"Double_\" + value);\r\n            } else if (opCardType == 4) {\r\n                this.SoundManager.PlaySound(sex + \"Series\");\r\n            } else if (opCardType == 5) {\r\n                this.SoundManager.PlaySound(sex + \"Three\");\r\n            } else if (opCardType == 6) {\r\n                this.SoundManager.PlaySound(sex + \"ThreeAndOne\");\r\n            } else if (opCardType == 7) {\r\n                this.SoundManager.PlaySound(sex + \"ThreeAndTwo\");\r\n            } else if (opCardType == 8) {\r\n                this.SoundManager.PlaySound(sex + \"FourAndOne\");\r\n            } else if (opCardType == 9) {\r\n                this.SoundManager.PlaySound(sex + \"FourAndTwo\");\r\n            } else if (opCardType == 10) {\r\n                this.SoundManager.PlaySound(sex + \"FourAndThree\");\r\n            } else if (opCardType == 12 || opCardType == 13) {\r\n                this.SoundManager.PlaySound(sex + \"Plane\");\r\n            } else if (opCardType == 14) {\r\n                this.SoundManager.PlaySound(sex + \"SeriesTwo\");\r\n            }\r\n        } else {\r\n            if (opCardType == 1) {\r\n                let randomNum = Math.floor(Math.random() * 3 + 1);\r\n                this.SoundManager.PlaySound(sex + \"Not_\" + randomNum);\r\n            } else if (opCardType == 11) {\r\n                this.SoundManager.PlaySound(sex + \"Boom\");\r\n            } else {\r\n                let randomNum = Math.floor(Math.random() * 3 + 1);\r\n                this.SoundManager.PlaySound(sex + \"Bigger_\" + randomNum);\r\n            }\r\n        }\r\n\r\n        this.lastCircleEnd = circleEnd;\r\n    },\r\n\r\n    Event_GameGift: function(event) {\r\n        let self = this;\r\n        let argDict = event;\r\n        let sendPos = argDict['sendPos'];\r\n        let recivePos = argDict['recivePos'];\r\n        let productId = argDict['productId'];\r\n        let sendHead = app[app.subGameName + \"_HeadManager\"]().GetComponentByPos(sendPos);\r\n        let reciveHead = app[app.subGameName + \"_HeadManager\"]().GetComponentByPos(recivePos);\r\n        let giftIdx = productId - 1;\r\n        let tempNode = cc.instantiate(this.giftPrefabs[giftIdx]);\r\n        let ani = tempNode.getComponent(cc.Animation);\r\n        // tempNode.tag = giftIdx;\r\n        tempNode.name = ani.defaultClip.name;\r\n        tempNode.bMove = true;\r\n        ani.on('finished', this.OnGiftAniEnd, this);\r\n        let vec1 = sendHead.node.convertToWorldSpaceAR(cc.v2(0, 0));\r\n        let vec2 = reciveHead.node.convertToWorldSpaceAR(cc.v2(0, 0));\r\n        vec1 = this.giftNode.convertToNodeSpaceAR(vec1);\r\n        vec2 = this.giftNode.convertToNodeSpaceAR(vec2);\r\n        tempNode.x = vec1.x;\r\n        tempNode.y = vec1.y;\r\n        this.giftNode.addChild(tempNode);\r\n        let action = cc.sequence(\r\n            cc.moveTo(0.3, vec2),\r\n            cc.callFunc(self.GiftMoveEnd, self)\r\n        );\r\n        tempNode.runAction(action);\r\n    },\r\n\r\n    GiftMoveEnd: function(sender, useData) {\r\n        sender.getComponent(cc.Animation).play();\r\n        sender.bMove = false;\r\n        //播放音效\r\n        app[app.subGameName + \"_SoundManager\"]().PlaySound('mofa_' + sender.name);\r\n    },\r\n\r\n    OnGiftAniEnd: function(event) {\r\n        let nodes = this.giftNode.children;\r\n        for (let i = nodes.length; i > 0; i--) {\r\n            if (event) {\r\n                let aniState = nodes[i - 1].getComponent(cc.Animation).getAnimationState(nodes[i - 1].name);\r\n                if (aniState.isPlaying)\r\n                    continue;\r\n                if (!nodes[i - 1].bMove)\r\n                    nodes[i - 1].removeFromParent();\r\n            } else\r\n                nodes[i - 1].removeFromParent();\r\n        }\r\n    },\r\n\r\n    //检测出牌玩家是否离开中\r\n    CheckOpCardPosIsLeave:function(pos){\r\n        let opPosInfo = this.RoomPosMgr.GetPlayerInfoByPos(pos);\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        if(opPosInfo.isShowLeave){\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ShowLeave\", {\r\n                \"roomID\": roomID,\r\n                \"isShowLeave\": false\r\n            });\r\n        }\r\n    },\r\n\r\n    Event_OpCard: function(event) {\r\n        console.log(\"OpCard信息 == \" ,event);\r\n        let data = event;\r\n        this.firstTurn = false;\r\n        this.notUp = false;\r\n        this.gameBtn.active = false;\r\n        this.tipCount = 0;\r\n        let time = this.GetClockTime();\r\n        let runWaitSec = data.runWaitSec;\r\n        let secTotal = data.secTotal;\r\n        this.HideClientUseTime();\r\n\r\n        this.LogicPDKGame.SortCardByMax(data.cardList);\r\n\r\n        //检测出牌玩家是否离开中\r\n        this.CheckOpCardPosIsLeave(data.pos);\r\n\r\n        //储存刷新玩家手牌\r\n        this.RoomSet.SetHandCard(data.pos, data.privateList);\r\n        //先清理之前打出去的牌或者玩家的状态\r\n        this.ClearPlayerTable(data.pos);\r\n\r\n        if (data.turnEnd) {\r\n            this.LogicPDKGame.ClearCardData();\r\n        }\r\n        //储存刷新Setinfo状态\r\n        this.RoomSet.SetRoomSetProperty(\"isFirstOp\", data.isFirstOp);\r\n        //刷新手牌\r\n        this.Event_ShowHandCard();\r\n\r\n        this.ChangeCardNum(data.pos, data.privateList.length);\r\n        this.HideClockByPos(data.pos);\r\n        this.LogicPDKGame.SetCardData(data.opCardType, data.cardList);\r\n        this.ShowOutCard(data.pos, data.cardList, data.opCardType);\r\n        this.SetSeat01OutCardPos(data.pos, data.cardList.length);\r\n        this.DeleteOpenCardList(data.pos, data.cardList);\r\n\r\n        //音效\r\n        this.PlayCardSound(data.pos, data.opCardType, data.cardList, data.turnEnd);\r\n\r\n        //显示动画特效\r\n        if (data.opCardType == 4) {\r\n            //一条龙\r\n            if (this.LogicPDKGame.CheckDragon()) {\r\n                this.dragon_Ani.active = true;\r\n                this.dragon_Ani.getComponent(cc.Animation).play(\"dragon\");\r\n            }\r\n        } else if (data.opCardType == 14) { //连对\r\n            // this.lianDui_Ani.active = true;\r\n            // this.lianDui_Ani.getComponent(cc.Animation).play(\"liandui\");\r\n        } else if (data.opCardType == 11) {\r\n            //炸弹\r\n            this.boom_Ani.active = true;\r\n            this.SetAniPos(data.pos);\r\n            this.boom_Ani.getComponent(cc.Animation).play(\"zhadan\");\r\n        } else if (data.opCardType == 12 || data.opCardType == 13) {\r\n            this.plane_Ani.active = true;\r\n            this.plane_Ani.getComponent(cc.Animation).play(\"feiji\");\r\n        }\r\n\r\n        if (data.pos == this.RoomPosMgr.GetClientPos()) {\r\n            //如果是自动出牌，判断一下是否打开UIAutoPlay\r\n            if (data.isFlash == true) {\r\n                app[app.subGameName + \"_FormManager\"]().ShowForm(app.subGameName + \"_UIAutoPlay\", data.dataSecTotal);\r\n            }\r\n            //如果是自动出牌，判断一下是否打开UIAutoPlay\r\n            this.LogicPDKGame.OutPokerCard(data.privateList);\r\n            this.ClearForbiddenTouch();\r\n        }\r\n        //检测是否是当前游戏已经结束\r\n        if (data.isSetEnd) {\r\n            return;\r\n        }\r\n\r\n        if (data.nextPos == this.RoomPosMgr.GetClientPos()) {\r\n            //判断剩余手牌是否能一次出完并且没有炸弹，如果可以，直接出\r\n            if (!this.LogicPDKGame.IsHaveBoom()) {\r\n                let opCardType = this.LogicPDKGame.GetCardType(false);\r\n                console.log(\"所有手牌组成一个牌型：\" + opCardType);\r\n                if (opCardType > 0) {\r\n                    let isOut = false;\r\n                    if (data.turnEnd) {\r\n                        isOut = true;\r\n                    } else {\r\n                        let tipArray = this.LogicPDKGame.GetTipCard();\r\n                        if (tipArray.length > 0) {\r\n                            let myHangCard = this.LogicPDKGame.GetHandCard();\r\n                            for (let i = 0; i < tipArray.length; i++) {\r\n                                //发给服务端的消息\r\n                                if (tipArray[i].length == myHangCard.length) {\r\n                                    isOut = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (isOut == true) {\r\n                        let serverPack = {};\r\n                        let roomID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"roomID\");\r\n                        serverPack.roomID = roomID;\r\n                        let pos = this.RoomPosMgr.GetClientPos();\r\n                        serverPack.pos = pos;\r\n                        let self = this;\r\n                        this.scheduleOnce(function() {\r\n                            self.ClientOpCardByType(opCardType, serverPack, false);\r\n                        }, 1.0);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            if (data.turnEnd) {\r\n                this.ShowBtnOutCard();\r\n            } else {\r\n                let array = this.LogicPDKGame.GetTipCard();\r\n                if (!array.length) {\r\n                    if (this.isAutoPass()) {\r\n                        // this.ShowSysMsg(app.subGameName.toUpperCase()+\"_PASS\");\r\n                        time = this.Define.MinTickTime;\r\n                    } else {\r\n                        this.ForbiddenTouch(array);\r\n                        this.ShowBtnPass();\r\n                    }\r\n                } else {\r\n                    //是否是必出玩法\r\n                    this.ForbiddenTouch(array);\r\n                    if (this.Room.GetRoomWanfa(this.Define.SEVER_BMUST)) {\r\n                        this.ShowAllGameBtn();\r\n                    } else {\r\n                        this.ShowBtnTipAndOutCard();\r\n                    }\r\n                    if (array.length == 1) {\r\n                        this.Click_btn_tip();\r\n                    }\r\n                }\r\n            }\r\n            //是否执行房间限时时间\r\n            this.GetUICardComponentByPos(data.nextPos).ShowUseTime(secTotal);\r\n            this.GetUICardComponentByPos(data.nextPos).SetTimeOpen(true);\r\n        }\r\n\r\n        this.StartTickTime(data.nextPos, runWaitSec, time);\r\n    },\r\n\r\n    isCanChoose: function() {\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].y > 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    ForbiddenTouch: function(pokerList) {\r\n        this.ClearForbiddenTouch();\r\n\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        if (pokerList.length) {\r\n            let cardType = this.LogicPDKGame.GetLastCardType();\r\n            if (cardType == 6 || cardType == 7 || cardType == 8 || cardType == 9 || cardType == 10 ||\r\n                cardType == 12 || cardType == 13) {\r\n                if (!this.LogicPDKGame.CheckOnlyBoom(pokerList)) {\r\n                    return;\r\n                }\r\n            }\r\n            let lastValue = 0;\r\n            for (let i = downList.length - 1; i >= 0; i--) {\r\n                let poker = downList[i];\r\n                let cardValue = this.LogicPDKGame.GetCardValue(poker);\r\n                this.handCards.children[i].y = 0;\r\n\r\n                if (lastValue == cardValue) {\r\n                    if (this.handCards.children[i + 1].touchTag) {\r\n                        this.handCards.children[i].touchTag = true;\r\n                        this.handCards.children[i].getChildByName('bg_black').active = true;\r\n                    } else {\r\n                        this.handCards.children[i].touchTag = false;\r\n                        this.handCards.children[i].getChildByName('bg_black').active = false;\r\n                    }\r\n                    continue;\r\n                }\r\n\r\n                let isHas = false;\r\n                for (let j = 0; j < pokerList.length; j++) {\r\n                    let list = pokerList[j];\r\n                    if (list.indexOf(poker) != -1) {\r\n                        isHas = true;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (isHas) {\r\n                    this.handCards.children[i].touchTag = false;\r\n                    this.handCards.children[i].getChildByName('bg_black').active = false;\r\n                } else {\r\n                    this.handCards.children[i].touchTag = true;\r\n                    this.handCards.children[i].getChildByName('bg_black').active = true;\r\n                    //                   this.handCards.children[i].addComponent(cc.Button);\r\n                }\r\n                lastValue = cardValue;\r\n            }\r\n        }\r\n        // else{\r\n        //     for(let i = 0; i < downList.length; i++){\r\n        //         this.handCards.children[i].y = 0;\r\n        //         this.handCards.children[i].touchTag = true;\r\n        //         this.handCards.children[i].getChildByName('bg_black').active = true;\r\n        //         this.handCards.children[i].addComponent(cc.Button);\r\n        //     }\r\n        // }\r\n    },\r\n\r\n    ClearForbiddenTouch: function() {\r\n        this.LogicPDKGame.ChangeSelectCard([]);\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < downList.length; i++) {\r\n            this.handCards.children[i].y = 0;\r\n            this.handCards.children[i].touchTag = false;\r\n            this.handCards.children[i].getChildByName('bg_black').active = false;\r\n            //           this.handCards.children[i].removeComponent(cc.Button);\r\n        }\r\n    },\r\n\r\n    DeleteOpenCardList: function(dataPos, cardList) {\r\n        if (!this.Room.GetRoomWanfa(this.Define.SEVER_MINGCARD)) return;\r\n        if (dataPos == this.RoomPosMgr.GetClientPos()) return;\r\n\r\n        if (this.openCardInfo[dataPos]) {\r\n            let openCardList = this.openCardInfo[dataPos];\r\n            for (let i = 0; i < cardList.length; i++) {\r\n                let value = cardList[i];\r\n                let pos = openCardList.indexOf(value);\r\n                if (pos != -1) {\r\n                    openCardList.splice(pos, 1);\r\n                }\r\n            }\r\n\r\n            this.ShowOpenCard(dataPos, openCardList);\r\n        }\r\n    },\r\n\r\n    Event_ChangeStatus: function(event) {\r\n        let opPos = this.RoomSet.GetRoomSetProperty(\"opPos\");\r\n        this.robSuccess = false; //event.isRobCloseSuccess;s\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_ROBDOOR)) {\r\n            // if(event.isRobCloseSuccess){\r\n            //     let player = this.RoomPosMgr.GetPlayerInfoByPos(opPos);\r\n            //     app[app.subGameName+\"_SysNotifyManager\"]().ShowSysMsg(app.subGameName.toUpperCase()+'_SEVER_ROBDOOR',[player.name]);\r\n            // }\r\n            this.btn_robDoor.active = false;\r\n            this.btn_notRobDoor.active = false;\r\n            this.HideClockByPos(this.RoomPosMgr.GetClientPos());\r\n        }\r\n        if (this.Room.GetRoomWanfa( /*this.Define.DOUBLE*/ -1)) {\r\n            this.gameMultiple.active = false;\r\n        }\r\n        this.StartGame(opPos);\r\n    },\r\n\r\n    Event_AddDouble: function(event) {\r\n        let data = event;\r\n        if (data.addDouble != 0) {\r\n            this.ShowAddDouble(data.pos, data.addDouble);\r\n        }\r\n\r\n        if (data.pos == this.RoomPosMgr.GetClientPos()) {\r\n            this.gameMultiple.active = false;\r\n            this.btn_robDoor.x = 0;\r\n            if (data.addDouble == 0) {\r\n                this.ShowSysMsg(app.subGameName.toUpperCase() + \"_NOTDOUBLE\");\r\n            } else {\r\n                this.ShowSysMsg(app.subGameName.toUpperCase() + \"_ADDDOUBLE\");\r\n            }\r\n        }\r\n    },\r\n\r\n    Event_OpenCard: function(event) {\r\n        let data = event;\r\n        let sex = this.GetPlayerSex(data.pos);\r\n        // this.SoundManager.PlaySound(sex + \"ShowCard\");//去除明牌音效\r\n        if (data.OpenCard == 0) return;\r\n        this.openCardInfo[data.pos] = data.cardList;\r\n        this.ShowOpenCard(data.pos, data.cardList);\r\n        if (data.pos == this.RoomPosMgr.GetClientPos()) {\r\n            this.btn_openCard.active = false;\r\n            let state = this.RoomSet.GetRoomSetProperty(\"state\");\r\n            if (state != this.ShareDefine.SetState_End) {\r\n                this.ShowSysMsg(app.subGameName.toUpperCase() + \"_OPENCARD\");\r\n            }\r\n        }\r\n    },\r\n\r\n    Event_RobClose: function(event) {\r\n        let data = event;\r\n        if (data.pos == this.RoomPosMgr.GetClientPos()) {\r\n            this.ShowSysMsg(app.subGameName.toUpperCase() + \"_ROOBCLOSE\");\r\n            this.btn_robDoor.active = false;\r\n            this.btn_notRobDoor.active = false;\r\n            this.gameMultiple.x = 0;\r\n        }\r\n    },\r\n\r\n    ShowOpenCard: function(dataPos, cardList) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        if (uiPos == 0) return;\r\n        this.LogicPDKGame.SortCardByMax(cardList);\r\n        let openCardList = this.node.getChildByName(\"openCardList\" + uiPos);\r\n        openCardList.active = true;\r\n        for (let i = 0; i < openCardList.children.length; i++) {\r\n            let cardNode = openCardList.children[i];\r\n            let value = cardList[i];\r\n            let isLastCard = false;\r\n            if (i == cardList.length - 1) {\r\n                isLastCard = true;\r\n            }\r\n            if (value) {\r\n                this.ShowCard(value, cardNode, isLastCard);\r\n            } else {\r\n                cardNode.active = false;\r\n            }\r\n        }\r\n    },\r\n\r\n    HideAllOpenCard: function() {\r\n        for (let i = 1; i < this.Define.MaxPlayer; i++) {\r\n            let openCardList = this.node.getChildByName(\"openCardList\" + i);\r\n            openCardList.active = false;\r\n        }\r\n    },\r\n\r\n    ShowAddDouble: function(dataPos, addDouble) {\r\n        // let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        // let path = \"sp_seat0\" + uiPos + \"/head\" + \"/XiuXUIPublicHead\" + uiPos + \"/otherNode\";\r\n        // let node = this.GetWndNode(path);\r\n        // node.active = true;\r\n        // node.getChildByName(\"bsPrefab\").active = true;\r\n        // node.getChildByName(\"bsPrefab\").getComponent(cc.Label).string = \"x\"+addDouble;\r\n    },\r\n\r\n    ShowOutCard: function(dataPos, cardList, opCardType) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        if (!cardList.length) {\r\n            let pass = this.GetWndNode(\"sp_seat0\" + uiPos + \"/pass\");\r\n            pass.active = true;\r\n            return;\r\n        }\r\n        if ([4, 6, 7, 8, 9, 10, 12, 14].includes(opCardType)) {\r\n            let typeNode = cc.find(`outCardList${uiPos}_cardType`, this.node);\r\n            typeNode.getComponent(cc.Animation).play(`card_type${opCardType}`);\r\n        }\r\n        let outCardNodeList = this.node.getChildByName(\"outCardList\" + uiPos);\r\n        outCardNodeList.active = true;\r\n        for (let i = 0; i < outCardNodeList.children.length; i++) {\r\n            let cardNode = outCardNodeList.children[i];\r\n            let value = cardList[i];\r\n            let isLastCard = false;\r\n            if (i == cardList.length - 1) {\r\n                isLastCard = true;\r\n            }\r\n            if (value) {\r\n                this.ShowCard(value, cardNode, isLastCard);\r\n            } else {\r\n                cardNode.active = false;\r\n            }\r\n        }\r\n    },\r\n\r\n    HideAllOutCard: function() {\r\n        for (let i = 0; i < this.Define.MaxPlayer; i++) {\r\n            let outCard = this.node.getChildByName(\"outCardList\" + i);\r\n            outCard.active = false;\r\n        }\r\n    },\r\n\r\n    HideAllPass: function() {\r\n        for (let i = 0; i < this.Define.MaxPlayer; i++) {\r\n            let pass = this.GetWndNode(\"sp_seat0\" + i + \"/pass\");\r\n            pass.active = false;\r\n        }\r\n    },\r\n\r\n    HideAllClock: function() {\r\n        for (let i = 0; i < this.Define.MaxPlayer; i++) {\r\n            let clock = this.GetWndNode(\"sp_seat0\" + i + \"/clock\");\r\n            clock.active = false;\r\n        }\r\n    },\r\n\r\n    HideAllWarning: function() {\r\n        for (let i = 1; i < this.Define.MaxPlayer; i++) {\r\n            let warning = this.GetWndNode(\"sp_seat0\" + i + \"/warning\");\r\n            warning.getComponent(cc.Animation).stop(\"warning\");\r\n            warning.active = false;\r\n        }\r\n    },\r\n    HideChild: function(node) {\r\n        for (let i = 0; i < node.children.length; i++) {\r\n            let child = node.children[i];\r\n            child.active = false;\r\n        }\r\n    },\r\n    HideAllHandCard: function() {\r\n        //获取是16张玩法还是15张玩法\r\n        let shoupai = this.Room.GetRoomShouPai();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            let child = this.handCards.children[i];\r\n            if (i + 1 > shoupai) {\r\n                child.active = false;\r\n            } else {\r\n                this.HideChild(child);\r\n                child.active = true;\r\n            }\r\n\r\n        }\r\n        this.handCards.active = false;\r\n    },\r\n\r\n    /*HideAllHandCard:function(){\r\n        this.handCards.active = false;\r\n        for(let i = 0; i < this.handCards.children.length; i++){\r\n            let child = this.handCards.children[i];\r\n            child.active = false;\r\n        }\r\n    },*/\r\n\r\n    HideAllCardNum: function() {\r\n        for (let i = 1; i < this.Define.MaxPlayer; i++) {\r\n            let card = this.GetWndNode(\"sp_seat0\" + i + \"/card\");\r\n            card.active = false;\r\n            let cardNum = this.GetWndNode(\"sp_seat0\" + i + \"/cardNum\");\r\n            cardNum.active = false;\r\n            let poker_back = this.GetWndNode(\"sp_seat0\" + i + \"/card/poker_back\");\r\n            poker_back.active = true;\r\n        }\r\n    },\r\n\r\n    HideClockByPos: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let clock = this.GetWndNode(\"sp_seat0\" + uiPos + \"/clock\");\r\n        clock.active = false;\r\n    },\r\n\r\n    ClearPlayerTable: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let outCardList = this.GetWndNode(\"outCardList\" + uiPos);\r\n        for (let i = 0; i < outCardList.children.length; i++) {\r\n            let child = outCardList.children[i];\r\n            if (child.active) {\r\n                child.active = false;\r\n            }\r\n        }\r\n\r\n        // let pass = this.GetWndNode(\"sp_seat0\"+uiPos+\"/pass\");\r\n        // pass.active = false;\r\n    },\r\n    ClearPlayerState: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let pass = this.GetWndNode(\"sp_seat0\" + uiPos + \"/pass\");\r\n        pass.active = false;\r\n    },\r\n\r\n    //开始倒计时\r\n    StartTickTime: function(dataPos, runWaitSec = 0, second = this.Define.MaxTickTime) {\r\n\r\n        //先清理之前打出去的牌或者玩家的状态 -- 重写一个不出状态\r\n        this.ClearPlayerState(dataPos);\r\n        //是不是自己要不起\r\n        if (second == this.Define.MinTickTime && dataPos == this.RoomPosMgr.GetClientPos()) {\r\n            this.notUp = true;\r\n            //淮滨跑得快，要不起速度加快，秒过 ----张泽新，2019.12.04修改\r\n            this.Click_btn_pass();\r\n            return;\r\n        }\r\n        //当客户端玩家只剩一张牌的时候，自动进入托管（能大直接出牌）\r\n        if (!this.notUp && dataPos == this.RoomPosMgr.GetClientPos()) {\r\n            let clientCards = this.LogicPDKGame.GetHandCard();\r\n            let opCardType = this.LogicPDKGame.GetLastCardType();\r\n            if (opCardType > 0 && clientCards.length == 1) {\r\n                let array = this.LogicPDKGame.GetTipCard();\r\n                if (array.length) {\r\n                    this.LogicPDKGame.ChangeSelectCard(clientCards);\r\n                    this.Event_ShowHandCard();\r\n                    this.Click_btn_outCard();\r\n                }\r\n                return;\r\n            } else if (opCardType == 0 && clientCards.length == 1) {\r\n                //剩下最后一根牌，并且轮到自己出牌\r\n                this.LogicPDKGame.ChangeSelectCard(clientCards);\r\n                this.Event_ShowHandCard();\r\n                this.scheduleOnce(function() {\r\n                    this.Click_btn_outCard();\r\n                }, 1);\r\n            }\r\n        }\r\n        this.tick = second - runWaitSec;\r\n        if(this.tick <= 0){\r\n            return\r\n        }\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        this.clock = this.GetWndNode(\"sp_seat0\" + uiPos + \"/clock\");\r\n        if (dataPos == this.RoomPosMgr.GetClientPos() && second == 0) {\r\n            this.clock.active = false;\r\n        } else {\r\n            this.clock.active = true;\r\n        }\r\n        this.clock.getChildByName(\"num\").getComponent(cc.Label).string = this.tick;\r\n        this.unschedule(this.CallEverySecond);\r\n        this.schedule(this.CallEverySecond, 1);\r\n    },\r\n\r\n    //每一秒进入\r\n    CallEverySecond: function() {\r\n        //this.SoundManager.PlaySound(\"timeUp\");\r\n        this.tick--;\r\n        this.clock.getChildByName(\"num\").getComponent(cc.Label).string = this.tick;\r\n        if (this.tick <= 0) {\r\n            this.unschedule(this.CallEverySecond);\r\n            this.clock.active = false;\r\n            if (this.notUp) {\r\n                this.Click_btn_pass();\r\n            }\r\n        }\r\n    },\r\n\r\n    //显示提示和出牌按钮\r\n    ShowBtnTipAndOutCard: function() {\r\n        this.gameBtn.active = true;\r\n        this.btn_tip.x = -120;\r\n        this.btn_tip.active = true;\r\n        // this.btn_pass.getChildByName(\"icon\").getComponent(cc.Label).string = '不要';\r\n        this.btn_outCard.x = 120;\r\n        this.btn_outCard.active = true;\r\n        this.btn_pass.active = false;\r\n        this.node.getChildByName(\"img_pass\").active = false;\r\n        // this.btn_tip.getComponent(cc.Button).interactable = true;\r\n        this.btn_outCard.getComponent(cc.Button).interactable = false;\r\n        // this.btn_pass.getComponent(cc.Button).interactable = false;\r\n        this.canOutCard();\r\n    },\r\n    //显示所有按钮\r\n    ShowAllGameBtn: function() {\r\n        this.gameBtn.active = true;\r\n        this.btn_pass.x = -230;\r\n        this.btn_pass.active = true;\r\n        this.btn_tip.x = 0;\r\n        this.btn_tip.active = true;\r\n        // this.btn_pass.getChildByName(\"icon\").getComponent(cc.Label).string = '不要';\r\n        this.btn_outCard.x = 230;\r\n        this.btn_outCard.active = true;\r\n        this.node.getChildByName(\"img_pass\").active = false;\r\n        //new\r\n        // this.btn_tip.getComponent(cc.Button).interactable = true;\r\n        this.btn_outCard.getComponent(cc.Button).interactable = false;\r\n        // this.btn_pass.getComponent(cc.Button).interactable = true;\r\n    },\r\n\r\n    HideAllGameBtn: function() {\r\n        this.gameBtn.active = false;\r\n        this.btn_pass.active = false;\r\n        this.btn_tip.active = false;\r\n        this.btn_outCard.active = false;\r\n        this.node.getChildByName(\"img_pass\").active = false;\r\n    },\r\n\r\n    HideAllBsNode: function() {\r\n        // let room = this.RoomMgr.GetEnterRoom();\r\n        // let posList = room.GetRoomProperty(\"posList\");\r\n        // for(let idx = 0; idx < posList.length; idx++){\r\n        //     let uiPos = this.RoomPosMgr.GetUIPosByDataPos(posList[idx].pos);\r\n        //     let path = \"sp_seat0\" + uiPos + \"/head\" + \"/XiuXUIPublicHead\" + uiPos;\r\n        //     let headNode = this.GetWndNode(path);\r\n        //     headNode.getChildByName(\"otherNode\").active = false;\r\n        // }\r\n    },\r\n\r\n    //只显示出牌按钮\r\n    ShowBtnOutCard: function() {\r\n        this.gameBtn.active = true;\r\n        this.btn_pass.active = false;\r\n        this.btn_tip.active = false;\r\n        this.btn_outCard.x = 0;\r\n        this.btn_outCard.active = true;\r\n        this.node.getChildByName(\"img_pass\").active = false;\r\n        // this.btn_tip.getComponent(cc.Button).interactable = true;\r\n        this.btn_outCard.getComponent(cc.Button).interactable = false;\r\n        // this.btn_pass.getComponent(cc.Button).interactable = false;\r\n        this.canOutCard();\r\n    },\r\n    //只显示不要按钮\r\n    ShowBtnPass: function() {\r\n        this.gameBtn.active = true;\r\n        this.btn_pass.x = 0;\r\n        this.btn_pass.active = true;\r\n        // this.btn_pass.getChildByName(\"icon\").getComponent(cc.Label).string = '要不起';\r\n        this.btn_tip.active = false;\r\n        this.btn_outCard.active = false;\r\n        this.node.getChildByName(\"img_pass\").active = true;\r\n    },\r\n\r\n    StartGame: function(opPos) {\r\n        //检查玩家手牌\r\n        this.CheckShouPai();\r\n        let firstOpCard = this.RoomSet.GetRoomSetProperty(\"firstOpCard\");\r\n        this.lastCircleEnd = this.RoomSet.GetRoomSetProperty(\"isFirstOp\");\r\n        \r\n        //是否显示黑桃3\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(opPos);\r\n        if (uiPos != 0 && !this.robSuccess) {\r\n            let poker_back = this.GetWndNode(\"sp_seat0\" + uiPos + \"/card/poker_back\");\r\n            poker_back.active = false;\r\n            this.ShowCard(firstOpCard, poker_back.parent, true);\r\n        }\r\n\r\n        let secTotal= this.RoomSet.GetSecTotal();\r\n        if (opPos == this.RoomPosMgr.GetClientPos()) {\r\n            if (this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3) && !this.robSuccess) {\r\n                this.ShowBtnTipAndOutCard();\r\n            } else {\r\n                this.ShowBtnOutCard();\r\n            }\r\n            //是否执行房间限时时间\r\n            this.GetUICardComponentByPos(this.RoomPosMgr.GetClientPos()).ShowUseTime(secTotal);\r\n            this.GetUICardComponentByPos(this.RoomPosMgr.GetClientPos()).SetTimeOpen(true);\r\n        }else{\r\n            this.GetUICardComponentByPos(this.RoomPosMgr.GetClientPos()).ShowUseTime(secTotal);\r\n        }\r\n        let time = this.GetClockTime();\r\n        let runWaitSec = this.RoomSet.GetRoomSetProperty(\"runWaitSec\");\r\n        this.StartTickTime(opPos, runWaitSec, time);\r\n    },\r\n\r\n    ChooseDouble: function() {\r\n         let runWaitSec = this.RoomSet.GetRoomSetProperty(\"runWaitSec\");\r\n        //this.allCards.active = false;\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_MINGCARD)) {\r\n            this.btn_openCard.active = false;\r\n        }\r\n\r\n        //是否有加倍玩法\r\n        if (this.Room.GetRoomWanfa( /*this.Define.DOUBLE*/ -1)) {\r\n            this.gameMultiple.active = true;\r\n            this.gameMultiple.x = 0;\r\n        }\r\n        //是否有抢关门玩法\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_ROBDOOR)) {\r\n            this.btn_robDoor.active = true;\r\n            this.btn_robDoor.x = 90;\r\n            this.btn_notRobDoor.active = true;\r\n            this.btn_notRobDoor.x = -90;\r\n        }\r\n\r\n        if (this.Room.GetRoomWanfa( /*this.Define.DOUBLE*/ -1) && this.Room.GetRoomWanfa(this.Define.SEVER_ROBDOOR)) {\r\n            this.gameMultiple.x = -75;\r\n            this.btn_robDoor.x = 385;\r\n        }\r\n\r\n        if (this.Room.GetRoomWanfa( /*this.Define.DOUBLE*/ -1) || this.Room.GetRoomWanfa(this.Define.SEVER_ROBDOOR)) {\r\n            this.StartTickTime(this.RoomPosMgr.GetClientPos(), runWaitSec , 15);\r\n        }\r\n    },\r\n    CheckShouPai: function() {\r\n        let clientCards = this.LogicPDKGame.GetHandCard();\r\n        let count = 0;\r\n        for (let i = 0; i < clientCards.length; i++) {\r\n            if (clientCards[i] > 0) {\r\n                count++;\r\n            }\r\n        }\r\n        if (count < 15) {\r\n            //手牌不可能小于15张\r\n            this.ReInRoom();\r\n            return;\r\n        }\r\n    },\r\n    FaPaiFinish: function() {\r\n        this.RoomMgr.SendFaPaiFinish(this.RoomPosMgr.GetClientPos());\r\n        //检查手牌长度\r\n        this.CheckShouPai();\r\n    },\r\n    SortCardByMax: function(pokers) {\r\n        let self = this;\r\n        pokers.sort(function(a, b) {\r\n            //return (b&0x0F) - (a&0x0F);\r\n            return self.GetCardValue(b) - self.GetCardValue(a);\r\n        });\r\n    },\r\n    //获取牌值\r\n    GetCardValue: function(poker) {\r\n        let realPoker = 0;\r\n        if (poker > 500) {\r\n            realPoker = poker - 500;\r\n        } else {\r\n            realPoker = poker;\r\n        }\r\n        return realPoker & 0x0F;\r\n    },\r\n    //发牌动作\r\n    FaPaiAction: function(dataPos) {\r\n        let handCards = this.RoomSet.GetHandCard();\r\n        this.SortCardByMax(handCards);\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        this.handCards.active = true;\r\n        let baseTime = 0;\r\n        for (let i = 0; i < handCards.length; i++) {\r\n            let cardValue = handCards[i];\r\n            let cardNode = this.handCards.getChildByName(\"card_\" + (i + 1).toString());\r\n            baseTime = baseTime + 0.03;\r\n            this.scheduleOnce(function() {\r\n                cardNode.active = true;\r\n                if (i == handCards.length - 1) {\r\n                    this.ShowCard(cardValue, cardNode, true);\r\n                } else {\r\n                    this.ShowCard(cardValue, cardNode, false);\r\n                }\r\n            }, baseTime);\r\n            if (i == handCards.length - 1) {\r\n                baseTime = baseTime + 0.3; //发牌结束事件\r\n                this.scheduleOnce(function() {\r\n                    this.FaPaiFinish();\r\n                }, baseTime);\r\n            }\r\n        }\r\n    },\r\n    //显示poker牌\r\n    ShowCard: function(cardType, cardNode, isLastCard) {\r\n        let realValue = 0;\r\n        if (cardType > 500) {\r\n            realValue = cardType - 500;\r\n        } else {\r\n            realValue = cardType;\r\n        }\r\n        // if (!isLastCard) {\r\n        //     cardNode.getChildByName('icon_1').active = false;\r\n        // }else{\r\n        //     cardNode.getChildByName('icon_1').active = true;\r\n        // }\r\n        this.PokerCard.GetPokeCard(realValue, cardNode, isLastCard);\r\n        cardNode.active = true;\r\n        cardNode.getChildByName(\"poker_back\").active = false;\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        let setInfo = this.RoomSet.GetRoomSetInfo();\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_FANGZUOBI)) {\r\n            if (setInfo.isFirstOp) {\r\n                if (setInfo.opPos != clientPos) {\r\n                    cardNode.getChildByName(\"poker_back\").active = true;\r\n                }\r\n            }\r\n        }\r\n        cardNode.getChildByName(\"bg_poker\").active = true;\r\n        cardNode.getChildByName(\"num\").active = true;\r\n        cardNode.getChildByName(\"icon\").active = true;\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if(!room || !cardNode.getChildByName(\"tag\")) return\r\n        let kexuanwanfa = room.GetRoomConfigByProperty('kexuanwanfa');\r\n        if(!kexuanwanfa || !kexuanwanfa.length) return\r\n        cardNode.getChildByName(\"tag\").active = (realValue == 0x2A && kexuanwanfa.indexOf(24) > -1)\r\n    },\r\n\r\n    AddCardAction: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let wndNode = this.GetWndNode(\"sp_seat0\" + uiPos + \"/cardNum\");\r\n        if (uiPos == 1) {\r\n            this.player1Idx++;\r\n            wndNode.getComponent(cc.Label).string = this.player1Idx + '';\r\n        } else if (uiPos == 2) {\r\n            this.player2Idx++;\r\n            wndNode.getComponent(cc.Label).string = this.player2Idx + '';\r\n        } else if (uiPos == 3) {\r\n            this.player3Idx++;\r\n            wndNode.getComponent(cc.Label).string = this.player3Idx + '';\r\n        }\r\n    },\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////\r\n    ////////////////////////////牌触摸\r\n    OnTouchStart: function(event) {\r\n        this.isChoose = this.isCanChoose();\r\n        this.moveIndex = -1;\r\n        this.lastMoveIndex = -1;\r\n        let moveX = event.target.convertToNodeSpaceAR(event.touch.getLocation()).x;\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                let minX = this.handCards.children[i].x - this.handCards.children[i].width / 2;\r\n                let maxX = minX + this.cardSpcedX;\r\n                if (i == downList.length - 1)\r\n                    maxX = minX + this.handCards.children[i].width;\r\n                if (moveX >= minX && moveX < maxX) {\r\n                    this.startIndex = i;\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    OnTouchMove: function(event) {\r\n        let moveX = event.target.convertToNodeSpaceAR(event.touch.getLocation()).x;\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                if (this.handCards.children[i].touchTag == false || typeof(this.handCards.children[i].touchTag) == \"undefined\") {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = false;\r\n                }\r\n                let minX = this.handCards.children[i].x - this.handCards.children[i].width / 2;\r\n                let maxX = minX + this.cardSpcedX;\r\n                if (moveX >= minX && moveX < maxX) {\r\n                    if (this.moveIndex >= 0 && this.moveIndex != i) {\r\n                        this.lastMoveIndex = this.moveIndex;\r\n                    }\r\n                    this.moveIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (this.lastMoveIndex == -1 || this.moveIndex == -1) {\r\n            return;\r\n        }\r\n        if (this.startIndex > this.moveIndex) { //从右往左\r\n            console.log(\"从右往左\");\r\n            for (let i = this.startIndex; i >= this.moveIndex; i--) {\r\n                if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                    if (this.handCards.children[i].touchTag) {\r\n                        continue;\r\n                    }\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                }\r\n            }\r\n        } else { //从左往右\r\n            if (this.lastMoveIndex > this.moveIndex) {\r\n                if (this.handCards.children[this.lastMoveIndex].name.startsWith(\"card\")) {\r\n                    if (!this.handCards.children[this.lastMoveIndex].touchTag) {\r\n                        this.handCards.children[this.lastMoveIndex].getChildByName(\"bg_black\").active = false;\r\n                    }\r\n                }\r\n            }\r\n            for (let i = this.startIndex; i <= this.moveIndex; i++) {\r\n                if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                    if (this.handCards.children[i].touchTag) {\r\n                        continue;\r\n                    }\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    OnTouchEnd: function(event) {\r\n        let moveX = event.target.convertToNodeSpaceAR(event.touch.getLocation()).x;\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                if (this.handCards.children[i].touchTag) {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                } else {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = false;\r\n                }\r\n                if (isEnd) continue;\r\n                let isEnd = false;\r\n                let minX = this.handCards.children[i].x - this.handCards.children[i].width / 2;\r\n                let maxX = minX + this.cardSpcedX;\r\n                if (i == downList.length - 1)\r\n                    maxX = minX + this.handCards.children[i].width;\r\n                if (moveX >= minX && moveX < maxX) {\r\n                    this.endIndex = i;\r\n                    isEnd = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.startIndex == this.endIndex) {\r\n            if (this.handCards.children[this.endIndex].active && !this.handCards.children[this.endIndex].touchTag) {\r\n                this.Click_card(this.handCards.children[this.endIndex]);\r\n            }\r\n        } else {\r\n            if (this.startIndex > this.endIndex) { //从右往左\r\n                for (let i = this.startIndex; i >= this.endIndex; i--) {\r\n                    if (this.handCards.children[i].touchTag)\r\n                        continue\r\n                    if (this.handCards.children[i].active)\r\n                        this.Click_card(this.handCards.children[i]);\r\n                }\r\n            } else { //从左往右\r\n                for (let i = this.startIndex; i <= this.endIndex; i++) {\r\n                    if (this.handCards.children[i].touchTag)\r\n                        continue\r\n                    if (this.handCards.children[i].active)\r\n                        this.Click_card(this.handCards.children[i]);\r\n                }\r\n            }\r\n        }\r\n        if (this.isChoose == true) {\r\n            let cardArray = this.LogicPDKGame.GetTipCardSlCard();\r\n            if (cardArray.length > 0) {\r\n                this.LogicPDKGame.ChangeSelectCard(cardArray[0]);\r\n                this.Event_ShowHandCard();\r\n            }\r\n        }\r\n        this.canOutCard();\r\n    },\r\n\r\n    OnTouchCancel: function(event) {\r\n        // for (let i = 0; i < this.handCards.children.length; i++) {\r\n        //     if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n        //         if (this.handCards.children[i].touchTag)\r\n        //             continue\r\n        //         this.handCards.children[i].getChildByName(\"bg_black\").active = false;\r\n        //     }\r\n        // }\r\n        this.endIndex = -1;\r\n        let moveX = event.target.convertToNodeSpaceAR(event.touch.getLocation()).x;\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                if (this.handCards.children[i].touchTag) {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                } else {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = false;\r\n                }\r\n                if (isEnd) continue;\r\n                let isEnd = false;\r\n                let minX = this.handCards.children[i].x - this.handCards.children[i].width / 2;\r\n                let maxX = minX + this.cardSpcedX;\r\n                if (i == downList.length - 1)\r\n                    maxX = minX + this.handCards.children[i].width;\r\n                if (moveX >= minX && moveX < maxX) {\r\n                    this.endIndex = i;\r\n                    isEnd = true;\r\n                }\r\n            }\r\n        }\r\n        if (this.endIndex == -1) {\r\n            if (moveX < 0) {\r\n                this.endIndex = 0;\r\n            } else {\r\n                this.endIndex = this.handCards.children.length - 1;\r\n            }\r\n        }\r\n        if (this.startIndex == this.endIndex) {\r\n            if (this.handCards.children[this.endIndex].active && !this.handCards.children[this.endIndex].touchTag) {\r\n                this.Click_card(this.handCards.children[this.endIndex]);\r\n            }\r\n        } else {\r\n            if (this.startIndex > this.endIndex) { //从右往左\r\n                for (let i = this.startIndex; i >= this.endIndex; i--) {\r\n                    if (this.handCards.children[i].touchTag)\r\n                        continue\r\n                    if (this.handCards.children[i].active)\r\n                        this.Click_card(this.handCards.children[i]);\r\n                }\r\n            } else { //从左往右\r\n                for (let i = this.startIndex; i <= this.endIndex; i++) {\r\n                    if (this.handCards.children[i].touchTag)\r\n                        continue\r\n                    if (this.handCards.children[i].active)\r\n                        this.Click_card(this.handCards.children[i]);\r\n                }\r\n            }\r\n        }\r\n        if (this.isChoose == true) {\r\n            let cardArray = this.LogicPDKGame.GetTipCardSlCard();\r\n            if (cardArray.length > 0) {\r\n                this.LogicPDKGame.ChangeSelectCard(cardArray[0]);\r\n                this.Event_ShowHandCard();\r\n            }\r\n        }\r\n        this.canOutCard();\r\n    },\r\n    canOutCard: function() {\r\n        let cardList = this.LogicPDKGame.GetSelectCard();\r\n        let checkCount = 0;\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            let cardNode = this.handCards.children[i];\r\n            if (cardNode.active == true && cardNode.y == this.Define.MaxRisePosY) {\r\n                checkCount++;\r\n            }\r\n        }\r\n\r\n        if (cardList.length != checkCount) {\r\n            //选中的牌跟存储的牌不一样，\r\n            this.ReInRoom();\r\n            return;\r\n        }\r\n\r\n        let opCardType = this.LogicPDKGame.GetCardType();\r\n        console.log('选择的牌型为', opCardType);\r\n        if (opCardType > 0) {\r\n            //TODO:此处判断待优化\r\n            // if (!cc.find('img_mask_pk', this.node).active) {\r\n                this.btn_outCard.getComponent(cc.Button).interactable = true;\r\n                return;\r\n            // } else {\r\n            //     console.log('没有大过上家的牌标志');\r\n            // }\r\n        }\r\n        this.btn_outCard.getComponent(cc.Button).interactable = false;\r\n    },\r\n    Click_card: function(clickNode) {\r\n        let name = \"\";\r\n        name = clickNode.name;\r\n        let cardIdx = name.substring(5, name.length);\r\n        if (clickNode.y == 0) {\r\n            clickNode.y = this.Define.MaxRisePosY;\r\n            this.LogicPDKGame.SetCardSelected(parseInt(cardIdx));\r\n        } else {\r\n            clickNode.y = 0;\r\n            this.LogicPDKGame.DeleteCardSelected(parseInt(cardIdx));\r\n        }\r\n\r\n    },\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n    /////////////////////////\r\n\r\n    //添加头像\r\n    AddHead: function() {\r\n        this.ClearHead();\r\n        //初始化加入头像 如果已经有加入了头像 显示出来\r\n        let posList = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"posList\");\r\n        let playerCount = posList.length;\r\n        for (let idx = 0; idx < posList.length; idx++) {\r\n            let uiPos = this.RoomPosMgr.GetUIPosByDataPos(posList[idx].pos);\r\n            let path = \"sp_seat0\" + uiPos.toString() + \"/head\";\r\n            let node = this.GetWndNode(path);\r\n            if (!node.getChildByName(\"XiuXUIPublicHead\" + uiPos)) {\r\n                let head = cc.instantiate(this.headPrefab);\r\n                node.addChild(head);\r\n\r\n                //加入倍数\r\n                // let bsNode = cc.instantiate(this.bsPrefab);\r\n                // bsNode.active = false;\r\n                // let other = head.getChildByName(\"otherNode\");\r\n                // other.active = false;\r\n                // other.y = 70;\r\n                // other.addChild(bsNode);\r\n\r\n                let headScript = head.getComponent(app.subGameName + \"_XiuXUIPublicHead\");\r\n                headScript.Init(uiPos, posList[idx].pos, cc.v2(0, 0), this.Left[uiPos]);\r\n            } else {\r\n                let headNode = node.getChildByName(\"XiuXUIPublicHead\" + uiPos);\r\n                // headNode.getChildByName(\"otherNode\").active = false;\r\n                // headNode.getChildByName(\"otherNode\").getChildByName(\"bsPrefab\").active = false;\r\n                let headScript = headNode.getComponent(app.subGameName + \"_XiuXUIPublicHead\");\r\n                headScript.Init(uiPos, posList[idx].pos, cc.v2(0, 0), this.Left[uiPos]);\r\n            }\r\n        }\r\n    },\r\n\r\n    ClearHead: function() {\r\n        for (let idx = 0; idx < this.Define.MaxPlayer; idx++) {\r\n            let path = \"sp_seat0\" + idx + \"/head\" + \"/XiuXUIPublicHead\" + idx;\r\n            let node = this.GetWndNode(path);\r\n            if (node) {\r\n                let headScript = node.getComponent(app.subGameName + \"_XiuXUIPublicHead\");\r\n                headScript.OnClose();\r\n            }\r\n        }\r\n    },\r\n\r\n    OnClose: function() {\r\n        this.HideAll();\r\n        this.ClearHead();\r\n        this.unscheduleAllCallbacks();\r\n    },\r\n\r\n    InitGameStateCommon: function() {\r\n        let setInfo = this.RoomSet.GetRoomSetInfo();\r\n        //得到玩家自己的手牌\r\n        this.handCards.active = true;\r\n        this.LogicPDKGame.InitHandCard();\r\n        this.Event_ShowHandCard();\r\n        let playerAll = this.RoomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        for (var i = 0; i < playerAllList.length; i++) {\r\n            let player = playerAll[playerAllList[i]];\r\n            for (let j = 0; j < setInfo.posInfo.length; j++) {\r\n                let info = setInfo.posInfo[j];\r\n                if (player.pid == info.pid) {\r\n                    this.InitCardNum(player.pos, info.cards.length);\r\n                    this.ShowWarningByPos(player.pos, info.cards.length);\r\n                    if (info.addDouble > 0) {\r\n                        this.ShowAddDouble(player.pos, info.addDouble - 1);\r\n                    }\r\n                    if (info.openCard == 1) {\r\n                        this.openCardInfo[player.pos] = info.cards;\r\n                        this.ShowOpenCard(player.pos, info.cards);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    OnShow: function() {\r\n        this.node.getChildByName(\"tip_exit_node\").active = false;\r\n        if (cc.sys.isNative) {\r\n            this.resVersion.string = \"resV\" + app[app.subGameName + \"_HotUpdateMgr\"]().getLocalVersion();\r\n        } else {\r\n            this.resVersion.string = '';\r\n        }\r\n        if (app[app.subGameName + \"_ShareDefine\"]().isCoinRoom || !cc.sys.isNative) {\r\n            this.btn_voice.active = false;\r\n        } else {\r\n            if (this.IsShowVoice()) {\r\n                this.btn_voice.active = true;\r\n            } else {\r\n                this.btn_voice.active = false;\r\n            }\r\n        }\r\n        this.CheckUpdateNotice();\r\n        this.btn_chat.active = this.IsShowChat();\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        //初始化邀请在线好友的数据\r\n        this.roomCfg = this.Room.GetRoomConfig();\r\n        if (this.roomCfg.clubId > 0 || this.roomCfg.unionId > 0) {\r\n            this.invitationNode.active = false;\r\n            this.invitationNode.getComponent(this.invitationNode.name).InitData(this.roomCfg.clubId, this.roomCfg.unionId, roomID);\r\n        } else {\r\n            this.invitationNode.active = false;\r\n        }\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GetRoomID\", {}, function(event) {\r\n            if (event.roomID <= 0 || event.roomID != roomID) {\r\n                app[app.subGameName + \"Client\"].ExitGame();\r\n            }\r\n        }, function(error) {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        });\r\n        this.isChoose = false;\r\n        this.AddHead();\r\n        this.HideAll();\r\n        this.unscheduleAllCallbacks();\r\n        this.LocalDataManager.SetConfigProperty(\"SysSetting\",\"GameBackMusic\",\"gameBackGround\");\r\n        let GameBackMusic=this.LocalDataManager.GetConfigProperty(\"SysSetting\",\"GameBackMusic\");\r\n        this.SceneManager.PlayMusic(GameBackMusic);\r\n        this.SceneManager.StopSceneMusic();\r\n        this.InitData();\r\n        this.ClearForbiddenTouch();\r\n        //设置牌间距\r\n        let aw = cc.find('Canvas').width;\r\n        let ah = cc.find('Canvas').height;\r\n        const srcWH = 1360 / 760;\r\n        let curWH = aw / ah;\r\n        let destScale = curWH / srcWH;\r\n        let unDestScale = srcWH / curWH;\r\n        //\r\n        let spaceX = -85 * unDestScale;\r\n        this.handCards.getComponent(cc.Layout).spacingX = spaceX;\r\n\r\n        let cardNodeWidth = this.cardPrefab.data.width;\r\n        this.cardSpcedX = cardNodeWidth + spaceX;\r\n\r\n        let state = this.RoomSet.GetRoomSetProperty(\"state\");\r\n        let disslove = this.Room.GetRoomProperty(\"dissolve\");\r\n        let roomState = this.Room.GetRoomProperty(\"state\");\r\n        let setID = this.Room.GetRoomProperty(\"setID\");\r\n        let current = this.Room.GetRoomConfigByProperty(\"setCount\");\r\n        let fangjian = this.Room.GetRoomConfigByProperty(\"fangjian\");\r\n        if (setID == 0) {\r\n            this.btn_jifen.active = false;\r\n        } else {\r\n            this.btn_jifen.active = false;\r\n        }\r\n\r\n        //显示房间信息\r\n        this.labeiWanfa.string = this.WanFa();\r\n        if (app[app.subGameName + \"_ShareDefine\"]().isCoinRoom) {\r\n            this.roomInfo.active = false;\r\n        } else {\r\n            this.roomInfo.active = true;\r\n            this.labelRoomId.string = \"房号：\" + this.Room.GetRoomProperty(\"key\");\r\n            this.lb_jushu.string = \"第\" + setID + \"/\" + current + \"局\";\r\n        }\r\n\r\n        let playerAll = this.Room.GetRoomPosMgr().GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        let joinPlayerCount = playerAllList.length;\r\n        if (fangjian.length == 0) {\r\n            this.btn_change.active = false;\r\n        } else {\r\n            if (setID == 0 && joinPlayerCount == 3) {\r\n                this.btn_change.active = true;\r\n            } else {\r\n                this.btn_change.active = false;\r\n            }\r\n        }\r\n        if (typeof(disslove) != \"undefined\") {\r\n            if (disslove) {\r\n                let posAgreeList = disslove.posAgreeList;\r\n                if (0 != posAgreeList.length) {\r\n                    this.FormManager.ShowForm(app.subGameName + \"_UIMessage02\");\r\n                }\r\n            }\r\n        }\r\n\r\n        if (roomState != this.ShareDefine.RoomState_Init) {\r\n            let setInfo = this.RoomSet.GetRoomSetInfo();\r\n            //如果有玩家托管  显示托管图标\r\n            let posList = this.Room.GetRoomProperty(\"posList\");\r\n            for (let i = 0; i < posList.length; i++) {\r\n                let data = posList[i];\r\n                let pos = data['pos'];\r\n                let isAuto = data['trusteeship'];\r\n                if (isAuto) {\r\n                    let headScript = this.GetUICardComponentByPos(pos);\r\n                    headScript.ShowAutoIcon(isAuto);\r\n                }\r\n                if (pos == this.RoomPosMgr.GetClientPos() && isAuto) {\r\n                    let secTotal= this.RoomSet.GetSecTotal()\r\n                    this.FormManager.ShowForm(app.subGameName + \"_UIAutoPlay\", secTotal);\r\n                }\r\n            }\r\n            //分数\r\n            // this.RoomPosMgr.OnPoint(setInfo.posInfo, true);\r\n            this.UpdatePlayerScore();\r\n            //发牌阶段\r\n            if (state == this.ShareDefine.SetState_Init) {\r\n                this.InitGameStateCommon();\r\n                this.ChooseDouble();\r\n            } else if (state == this.ShareDefine.SetState_Playing) {\r\n                this.InitGameStateCommon();\r\n                this.HideClientUseTime();\r\n                //显示已用房间限时时间\r\n                this.ShowUseTimeByInfo();\r\n                this.LogicPDKGame.SetCardData(setInfo.opType, setInfo.cardList);\r\n                //显示当前操作位和上家出的牌\r\n                let time = this.GetClockTime();\r\n                let runWaitSec = setInfo.runWaitSec;\r\n                this.lastCircleEnd = setInfo.isFirstOp;\r\n                this.firstTurn = setInfo.isFirstOp;\r\n                if (setInfo.opPos == this.RoomPosMgr.GetClientPos()) {\r\n                    //是否执行房间限时时间\r\n                    this.ScheduleTime(setInfo.opPos);\r\n                    if (setInfo.isFirstOp) {\r\n                        if (this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3)) {\r\n                            this.ShowBtnTipAndOutCard();\r\n                        } else {\r\n                            this.ShowBtnOutCard();\r\n                        }\r\n                    } else {\r\n                        if (setInfo.opType == 0) {\r\n                            this.ShowBtnOutCard();\r\n                        } else {\r\n                            let array = this.LogicPDKGame.GetTipCard();\r\n                            this.ForbiddenTouch(array);\r\n                            if (!array.length) {\r\n                                if (this.isAutoPass()) {\r\n                                    // this.ShowSysMsg(app.subGameName.toUpperCase()+\"_PASS\");\r\n                                    time = this.Define.MinTickTime;\r\n                                } else {\r\n                                    this.ShowBtnPass();\r\n                                }\r\n                            } else {\r\n                                //是否是必出玩法\r\n                                if (this.Room.GetRoomWanfa(this.Define.SEVER_BMUST)) {\r\n                                    this.ShowAllGameBtn();\r\n                                } else {\r\n                                    this.ShowBtnTipAndOutCard();\r\n                                }\r\n                                if (array.length == 1) {\r\n                                    this.Click_btn_tip();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    let firstOpCard = this.RoomSet.GetRoomSetProperty(\"firstOpCard\");\r\n                    //是否显示黑桃3\r\n                    let uiPos = this.RoomPosMgr.GetUIPosByDataPos(setInfo.opPos);\r\n                    if (setInfo.isFirstOp) { //&& setInfo.robCloseVic.pos == -1\r\n                        let poker_back = this.GetWndNode(\"sp_seat0\" + uiPos + \"/card/poker_back\");\r\n                        poker_back.active = false;\r\n                        this.ShowCard(firstOpCard, poker_back.parent, true);\r\n                    }\r\n                }\r\n                this.ShowOutCard(setInfo.lastOpPos, setInfo.cardList, setInfo.opType);\r\n                this.SetSeat01OutCardPos(setInfo.lastOpPos, setInfo.cardList.length);\r\n                this.StartTickTime(setInfo.opPos, runWaitSec, time);\r\n            } else if (state == this.ShareDefine.SetState_End) {\r\n                //如果玩家已经准备则不显示结算界面\r\n                let clientPos = this.RoomPosMgr.GetClientPos();\r\n                let clientPlayerInfo = this.RoomPosMgr.GetPlayerInfoByPos(clientPos);\r\n                if (clientPlayerInfo[\"gameReady\"]) {\r\n                    this.RefreshRoomShow();\r\n                    return;\r\n                }\r\n                let setEnd = this.RoomSet.GetRoomSetProperty(\"setEnd\");\r\n                this.FormManager.ShowForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\", setEnd);\r\n            }\r\n        } else {\r\n            this.RefreshRoomShow();\r\n        }\r\n        /* //显示房间信息\r\n         if(app[app.subGameName+\"_ShareDefine\"]().isCoinRoom){\r\n             this.roomInfo.active = false;\r\n         }else{\r\n             this.roomInfo.active = true;\r\n             this.labelRoomId.string = \"房间号：\"+room.GetRoomProperty(\"key\");\r\n             this.labeiWanfa.string = this.WanFa();\r\n         }*/\r\n    },\r\n    isAutoPass: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let kexuanwanfa = room.GetRoomConfigByProperty('kexuanwanfa');\r\n        if (kexuanwanfa.length > 0) {\r\n            if (kexuanwanfa.indexOf(26) > -1) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    isAutoReady: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let kexuanwanfa = room.GetRoomConfigByProperty('kexuanwanfa');\r\n        if (kexuanwanfa.length > 0) {\r\n            if (kexuanwanfa.indexOf(27) > -1) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    IsShowVoice: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let gaoji = room.GetRoomConfigByProperty('gaoji');\r\n        if (gaoji.length > 0) {\r\n            if (gaoji.indexOf(5) > -1) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    IsShowChat: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let gaoji = room.GetRoomConfigByProperty('gaoji');\r\n        if (gaoji.length > 0) {\r\n            if (gaoji.indexOf(6) > -1) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    InitCardNum: function(pos, count) {\r\n        if (this.RoomPosMgr.GetClientPos() == pos) return;\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(pos);\r\n        let card = this.GetWndNode(\"sp_seat0\" + uiPos + \"/card\");\r\n        card.active = true;\r\n        let cardNum = this.GetWndNode(\"sp_seat0\" + uiPos + \"/cardNum\");\r\n        cardNum.active = true;\r\n        cardNum.active = false;\r\n        cardNum.getComponent(cc.Label).string = count.toString() + '';\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_SHOWCARDNUM)) {\r\n            // if(true){//默认显示\r\n            cardNum.active = true;\r\n        }\r\n    },\r\n    GetClockTime: function() {\r\n        let second = 0;\r\n        let xianshi = this.Room.GetRoomXianShi();\r\n        if (xianshi == 0) {\r\n            second = 60;\r\n        } else if (xianshi == 1) {\r\n            second = 180;\r\n        } else if (xianshi == 2) {\r\n            second = 300;\r\n        } else if (xianshi == 3) {\r\n            second = 60;\r\n        } else if (xianshi == 4) {\r\n            second = 30;\r\n        } else if (xianshi == 5) {\r\n            second = 15;\r\n        }\r\n        return second;\r\n    },\r\n    ReInRoom: function(room) {\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        this.RoomMgr.SendGetRoomInfo(roomID);\r\n    },\r\n    ////////////////////////////////show///////////////////////////////////////////\r\n    RefreshRoomShow: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        this.ShowPlayerReady(room);\r\n    },\r\n\r\n    HideAllZhunBeiLabel: function() {\r\n        let playerAll = this.RoomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        for (var i = 0; i < playerAllList.length; i++) {\r\n            let player = playerAll[playerAllList[i]];\r\n            let uiPos = this.RoomPosMgr.GetUIPosByDataPos(player.pos);\r\n            let path = \"sp_seat0\" + uiPos + \"/head\" + \"/XiuXUIPublicHead\" + uiPos;\r\n            let headNode = this.GetWndNode(path);\r\n            if (!headNode || typeof(headNode) == \"undefined\") continue;\r\n            let headScript = headNode.getComponent(app.subGameName + \"_XiuXUIPublicHead\");\r\n            headScript.setReady(false);\r\n        }\r\n    },\r\n\r\n    ShowOrHideZhunbei: function(pos, isShow) {\r\n        let headScript = this.GetUICardComponentByPos(pos);\r\n        headScript.setReady(isShow);\r\n    },\r\n\r\n    HidePlayerAllBtn: function() {\r\n        this.btn_ready.active = false;\r\n        this.btn_weixin.active = false;\r\n        this.btn_fzfh.active = false;\r\n        this.btn_cancel.active = false;\r\n        this.btn_go.active = false;\r\n        this.btn_quit.active = false;\r\n        this.invitationNode.active = false;\r\n    },\r\n\r\n    HideAll: function() {\r\n        this.HideAllZhunBeiLabel();\r\n        this.HidePlayerAllBtn();\r\n        this.HideAllClock();\r\n        this.HideAllHandCard();\r\n        this.HideAllPass();\r\n        this.HideAllWarning();\r\n        this.HideAllCardNum();\r\n        this.HideAllOutCard();\r\n        this.HideAllGameBtn();\r\n        this.HideAllBsNode();\r\n        this.HideAllOpenCard();\r\n        this.btn_robDoor.active = false;\r\n        this.btn_notRobDoor.active = false;\r\n        this.btn_openCard.active = false;\r\n    },\r\n\r\n    HideAllAni: function() {\r\n        this.plane_Ani.active = false;\r\n        this.boom_Ani.active = false;\r\n        this.dragon_Ani.active = false;\r\n    },\r\n\r\n    OnClickForm: function() {\r\n        //        this.FormManager.CloseForm(app.subGameName+\"_UIChat\");\r\n    },\r\n\r\n    OnClick: function(btnName, btnNode) {\r\n        console.log('btnName', btnName, btnNode);\r\n        let roomID = this.Room.GetRoomProperty(\"roomID\");\r\n        let pos = this.RoomPosMgr.GetClientPos();\r\n        let state = this.RoomSet.GetRoomSetProperty(\"state\");\r\n        if (btnName == \"btn_go\") {\r\n            this.Click_btn_go();\r\n        } else if (btnName == \"btn_ready\") {\r\n            this.Click_btn_ready();\r\n        } else if (btnName == \"btn_cancel\") {\r\n            this.Click_btn_cancel();\r\n        } else if (btnName == \"btn_weixin\") {\r\n            this.Click_btn_weixin();\r\n        } else if (btnName == \"bg\") {\r\n            //            this.FormManager.CloseForm(app.subGameName+\"_UIChat\");\r\n        } else if (btnName == \"btn_pass\") {\r\n            this.Click_btn_pass();\r\n        } else if (btnName == \"btn_tip\") {\r\n            this.Click_btn_tip();\r\n        } else if (btnName == \"btn_outCard\") {\r\n            this.Click_btn_outCard();\r\n        } else if (btnName == \"btn_1\") {\r\n            this.RoomMgr.SendAddDouble(roomID, pos, 0);\r\n        } else if (btnName == \"btn_2\") {\r\n            this.RoomMgr.SendAddDouble(roomID, pos, 1);\r\n        } else if (btnName == \"btn_3\") {\r\n            this.RoomMgr.SendAddDouble(roomID, pos, 2);\r\n        } else if (btnName == \"btn_5\") {\r\n            this.RoomMgr.SendAddDouble(roomID, pos, 5);\r\n        } else if (btnName == \"btn_robDoor\") {\r\n            this.RoomMgr.SendRoobDoor(roomID, pos, 1);\r\n        } else if (btnName == \"btn_notRobDoor\") {\r\n            this.RoomMgr.SendRoobDoor(roomID, pos, 0);\r\n        } else if (btnName == \"btn_openCard\") {\r\n            this.RoomMgr.SendOpenCard(roomID, pos, 1);\r\n        } else if (btnName == \"btn_quit\" || btnName == \"btn_exit\") {\r\n            //提示退出房间还是查看大厅\r\n            let room = this.RoomMgr.GetEnterRoom();\r\n            let roomCfg = room.GetRoomConfig();\r\n            if (roomCfg.clubId != 0) {\r\n                this.node.getChildByName(\"tip_exit_node\").zIndex = 100;\r\n                this.node.getChildByName(\"tip_exit_node\").active = true;\r\n            } else {\r\n                this.Click_btn_jiesan();\r\n            }\r\n        } else if (btnName == \"btn_jifen\") {\r\n            this.Click_btn_jifen();\r\n        } else if (btnName == \"btn_close_tip\") {\r\n            this.node.getChildByName(\"tip_exit_node\").active = false;\r\n        } else if (btnName == \"btn_exit_room\") {\r\n            this.Click_btn_jiesan();\r\n        } else if (btnName == \"btn_go_hall\") {\r\n            app[app.subGameName + \"Client\"].ExitGame(null, '0');\r\n        } else if (btnName == \"btn_shuaxin\") {\r\n            this.ReInRoom();\r\n        } else if (btnName == \"btn_gps\") {\r\n            let PlayerCount = this.RoomPosMgr.GetRoomPlayerCount();\r\n            if (PlayerCount <= 2) {\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg('MSG_GPS_LOST_PLAYER');\r\n                return;\r\n            }\r\n            if (this.FormManager.IsFormShow(app.subGameName + \"_UIGPSLoation\")) {\r\n                this.FormManager.CloseForm(app.subGameName + \"_UIGPSLoation\");\r\n            } else {\r\n                this.FormManager.ShowForm(app.subGameName + \"_UIGPSLoation\");\r\n            }\r\n        } else if (btnName == \"btn_voice\") {} else if (btnName == \"btn_chat\") {\r\n            this.FormManager.ShowForm(app.subGameName + \"_UIChat\");\r\n        } else if (btnName == \"btn_auto\") {\r\n            app[app.subGameName + \"_GameManager\"]().SendAutoStart();\r\n        } else if (btnName == \"btn_setting\") {\r\n            this.FormManager.ShowForm(app.subGameName + \"_UISetting02\");\r\n        } else if (btnName == \"btn_change\") {\r\n            this.Click_btn_change();\r\n        } else if (btnName == \"btn_fzfh\") {\r\n            let str = \"房间号：\" + this.RoomMgr.GetEnterRoom().GetRoomProperty(\"key\");\r\n            this.Click_btn_fzkl(str);\r\n\r\n        } else if (btnName == \"btn_wanfa\") {\r\n            this.ShowSysMsg(this.WanFa());\r\n        } else if (btnName == \"touming\") {\r\n            if (state == this.ShareDefine.SetState_Playing) {\r\n                //手牌回落\r\n                this.LogicPDKGame.ChangeSelectCard([]);\r\n                this.Event_ShowHandCard();\r\n            }\r\n        } else {\r\n            this.ErrLog(\"OnClick(%s) not find\", btnName);\r\n        }\r\n    },\r\n    Event_CodeError: function(event) {\r\n        let argDict = event;\r\n        let data = argDict[\"Result\"];\r\n        if (data.Msg == \"hei tao san bi chu\") {\r\n            this.ShowSysMsg(\"黑桃三先出\");\r\n        } else if(argDict.Code == this.ShareDefine.OpCard_Error){\r\n            //出牌后手牌出错\r\n            this.ReInRoom();\r\n        } else if (argDict.Code == this.ShareDefine.SportsPointNotEnough) {\r\n            this.ShowSysMsg(\"比赛分不足房间自动解散\");\r\n            // this.SetWaitForConfirm(\"SportsPointNotEnough\",this.ShareDefine.ConfirmYN, []);\r\n        } else if (argDict.Code == this.ShareDefine.ApplyDissolve) {\r\n            this.ShowSysMsg(\"申请解散次数已达上限\");\r\n        } else if (argDict.Code == this.ShareDefine.NotAllow) {\r\n            if (this.FormManager.IsFormShow(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\")) {\r\n                this.FormManager.CloseForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\");\r\n            }\r\n        }\r\n    },\r\n    Click_btn_jifen: function() {\r\n        let self = this;\r\n        let roomID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"roomID\");\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"RoomXRecord\", {\r\n            \"roomID\": roomID\r\n        }, function(success) {\r\n            self.FormManager.ShowForm(\"game/\" + app.subGameName.toUpperCase() + \"/\" + app.subGameName + \"_UIRoomRecord\", success);\r\n        }, function(event) {});\r\n    },\r\n    Click_btn_jiesan: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Click_btn_jiesan not enter room\");\r\n            return\r\n        }\r\n        let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n        if (app[app.subGameName + \"_ShareDefine\"]().isCoinRoom) {\r\n            //Event_ExitRoomSuccess 都有做退出处理\r\n            //Event_CodeError\r\n            // let needArg = roomPosMgr.GetClientPos();\r\n            // let roomID = this.RoomMgr.GetEnterRoomID();\r\n            // app[app.subGameName + \"_GameManager\"]().SendExitRoom(roomID, needArg);\r\n            // app[app.subGameName + \"_FormManager\"]().AddDefaultFormName(app.subGameName+\"UIPractice\");\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n            return;\r\n        }\r\n\r\n        let state = room.GetRoomProperty(\"state\");\r\n        if (state == this.ShareDefine.RoomState_End) {\r\n            //直接退出到大厅\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n            return\r\n        }\r\n        let ClientPos = roomPosMgr.GetClientPos();\r\n        let player = roomPosMgr.GetPlayerInfoByPos(ClientPos);\r\n        if (!player)\r\n            return;\r\n        let posName = player.name;\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        if (state == this.ShareDefine.RoomState_Playing) {\r\n            let jiesan = room.GetRoomConfigByProperty('jiesan');\r\n            if (jiesan == 4) {\r\n                this.ShowSysMsg(\"房间不可以解散\");\r\n                return;\r\n            }\r\n            // app[app.subGameName+\"_GameManager\"]().SendDissolveRoom(roomID, posName);\r\n            app[app.subGameName + \"_ConfirmManager\"]().SetWaitForConfirmForm(this.OnConFirm.bind(this), 'MSG_GAME_DissolveRoom', []);\r\n            app[app.subGameName + \"_ConfirmManager\"]().ShowConfirm(this.ShareDefine.Confirm, 'MSG_GAME_DissolveRoom', []);\r\n            return\r\n        }\r\n\r\n        let msgID = '';\r\n\r\n        let roomCfg = room.GetRoomConfig();\r\n        if (roomCfg.createType == 2 || roomCfg.clubId != 0) {\r\n            msgID = 'UIMoreTuiChuFangJian';\r\n        } else {\r\n            if (room.IsClientIsCreater()) {\r\n                msgID = 'PlayerLeaveRoom';\r\n            } else {\r\n                msgID = 'UIMoreTuiChuFangJian';\r\n            }\r\n        }\r\n\r\n        app[app.subGameName + \"_ConfirmManager\"]().SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, []);\r\n        app[app.subGameName + \"_ConfirmManager\"]().ShowConfirm(this.ShareDefine.Confirm, msgID, []);\r\n    },\r\n    //切换人数\r\n    Click_btn_change: function() {\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        let that = this;\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ChangePlayerNum\", {\r\n                \"roomID\": roomID\r\n            }, function(success) {\r\n\r\n            },\r\n            function(error) {\r\n                let msg = error.Msg;\r\n                that.ShowSysMsg(msg);\r\n            });\r\n    },\r\n\r\n    Click_btn_tip: function() {\r\n        //是否要先出黑桃3\r\n        let array = this.LogicPDKGame.GetTipCard();\r\n        if (this.firstTurn && this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3) && !this.robSuccess) {\r\n            let firstOpCard = this.RoomSet.GetRoomSetProperty(\"firstOpCard\");\r\n            let value = this.LogicPDKGame.GetCardValue(firstOpCard);\r\n            this.ShowSysMsg(app.subGameName.toUpperCase() + \"_3FIRST\", [value]);\r\n        }\r\n\r\n        if (array.length) {\r\n            if (this.tipCount >= array.length) {\r\n                this.tipCount = 0;\r\n            }\r\n            this.LogicPDKGame.ChangeSelectCard(array[this.tipCount]);\r\n            this.Event_ShowHandCard();\r\n            this.tipCount++;\r\n        }\r\n        this.canOutCard();\r\n    },\r\n\r\n    Click_btn_pass: function() {\r\n        let serverPack = {};\r\n        let roomID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"roomID\");\r\n        serverPack.roomID = roomID;\r\n        let pos = this.RoomPosMgr.GetClientPos();\r\n        serverPack.pos = pos;\r\n        serverPack.opCardType = 1;\r\n        serverPack.cardList = [];\r\n        this.RoomMgr.SendOpCard(serverPack);\r\n        this.node.getChildByName(\"img_pass\").active = false;\r\n    },\r\n\r\n    IsDownPosSingleCard: function() {\r\n        let totalNum = -1;\r\n        let playerNum = this.RoomPosMgr.GetPosCount();\r\n        if (playerNum == 2) {\r\n            totalNum = this.GetDownPosCardNum('downPos');\r\n            if (totalNum == 1) {\r\n                return true;\r\n            }\r\n        } else if (playerNum == 3) {\r\n            totalNum = this.GetDownPosCardNum('downPos');\r\n            if (totalNum == 1) {\r\n                return true;\r\n            } else if (totalNum == 0) {\r\n                totalNum = this.GetDownPosCardNum('upPos');\r\n                if (totalNum == 1) {\r\n                    return true;\r\n                }\r\n            }\r\n        } else if (playerNum == 4) {\r\n            totalNum = this.GetDownPosCardNum('downPos');\r\n            if (totalNum == 1) {\r\n                return true;\r\n            } else if (totalNum == 0) {\r\n                totalNum = this.GetDownPosCardNum('facePos');\r\n                if (totalNum == 1) {\r\n                    return true;\r\n                } else if (totalNum == 0) {\r\n                    totalNum = this.GetDownPosCardNum('upPos');\r\n                    if (totalNum == 1) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n    GetDownPosCardNum: function(posTag) {\r\n        let clientPos = -1;\r\n        let uiPos = -1;\r\n        if (posTag == 'downPos') {\r\n            clientPos = this.RoomPosMgr.GetClientDownPos();\r\n        } else if (posTag == 'facePos') {\r\n            clientPos = this.RoomPosMgr.GetClientFacePos();\r\n        } else if (posTag == 'upPos') {\r\n            clientPos = this.RoomPosMgr.GetClientUpPos();\r\n        }\r\n        uiPos = this.RoomPosMgr.GetUIPosByDataPos(clientPos);\r\n        let cardNode = this.GetWndNode(\"sp_seat0\" + uiPos + \"/cardNum\");\r\n        return parseInt(cardNode.getComponent(cc.Label).string);\r\n    },\r\n\r\n    Click_btn_outCard: function() {\r\n        console.log(\"点击打牌按钮\");\r\n        //发给服务端的消息\r\n        let serverPack = {};\r\n        let roomID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"roomID\");\r\n        serverPack.roomID = roomID;\r\n        let pos = this.RoomPosMgr.GetClientPos();\r\n        serverPack.pos = pos;\r\n        let opCardType = this.LogicPDKGame.GetCardType();\r\n        console.log(\"获取打牌的牌型：\", opCardType);\r\n        this.ClientOpCardByType(opCardType, serverPack);\r\n    },\r\n\r\n    ClientOpCardByType: function(opCardType, serverPack, isSelectCard = true) {\r\n        if (opCardType > 0) {\r\n            serverPack.opCardType = opCardType;\r\n            let cardList = [];\r\n            if (isSelectCard) {\r\n                cardList = this.LogicPDKGame.GetSelectCard();\r\n            } else {\r\n                cardList = this.LogicPDKGame.GetHandCard();\r\n            }\r\n            //下家如果只有一张单牌 必须从最大牌出\r\n            if (this.IsDownPosSingleCard()) {\r\n                if (opCardType == 2) {\r\n                    let handeCardList = this.LogicPDKGame.GetHandCard();\r\n                    let aValue = this.LogicPDKGame.GetCardValue(handeCardList[0]);\r\n                    let bValue = this.LogicPDKGame.GetCardValue(cardList[0]);\r\n                    if (bValue != aValue) {\r\n                        this.ShowSysMsg(app.subGameName.toUpperCase() + \"_BAODAN\");\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            let firstOpCard = this.RoomSet.GetRoomSetProperty(\"firstOpCard\");\r\n            //获取当前局数\r\n            let setID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"setID\");\r\n            //如果抢关门成功首轮可以不出黑桃3\r\n            if (!this.robSuccess) {\r\n                //是否每局先出黑桃3\r\n                if (this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3) && this.firstTurn) {\r\n                    if (cardList.indexOf(firstOpCard) == -1 && !this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3NOCHU3)) {\r\n                        this.ShowSysMsg(\"MSG_CANT_OUT\");\r\n                        this.ReInRoom();\r\n                        return;\r\n                    }\r\n                }\r\n                //是否首局先出黑桃3\r\n                else if (this.Room.GetRoomWanfa(this.Define.SEVER_SHOUJUFIRST3) && this.firstTurn && setID == 1) {\r\n                    if (cardList.indexOf(firstOpCard) == -1 && !this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3NOCHU3)) {\r\n                        this.ShowSysMsg(\"MSG_CANT_OUT\");\r\n                        this.ReInRoom();\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!this.Room.GetRoomWanfa(this.Define.SEVER_BMUSTBOMB)) {\r\n                //检测出的牌是否有包含炸弹拆开的\r\n                if (this.LogicPDKGame.IsDismantleBoom()) {\r\n                    this.ShowSysMsg(app.subGameName.toUpperCase() + \"_ZDBUCHAI_ERROR\");\r\n                    return;\r\n                }\r\n            }\r\n            this.LogicPDKGame.TransformValueToS(cardList);\r\n            //出牌前判断是否重值或多牌\r\n            if (!this.CheckSelCardListInHandCard(cardList)) {\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"请重新选牌\", [], 3);\r\n                this.ReInRoom();\r\n                return;\r\n            }\r\n            if (!this.CheckSelCardListOrCardList(cardList) && isSelectCard == true) {\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"选牌有误，请重新选择\", [], 3);\r\n                //手牌回落\r\n                this.LogicPDKGame.ChangeSelectCard([]);\r\n                this.Event_ShowHandCard();\r\n                return;\r\n            }\r\n            serverPack.cardList = cardList;\r\n            serverPack.daiNum = this.LogicPDKGame.GetDaiNum();\r\n            console.log(\"打出去的牌类型 ==\" + serverPack.opCardType);\r\n            this.RoomMgr.SendOpCard(serverPack);\r\n        } else {\r\n            this.ShowSysMsg(\"MSG_CANT_OUT\");\r\n            this.ReInRoom();\r\n        }\r\n    },\r\n\r\n    Click_btn_ready: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Click_btn_ready not enter room\");\r\n            return\r\n        }\r\n        let roomID = room.GetRoomProperty(\"roomID\");\r\n        let clientPos = room.GetRoomPosMgr().GetClientPos();\r\n        console.log('roomID', roomID, clientPos);\r\n        app[app.subGameName + \"_GameManager\"]().SendReady(roomID, clientPos);\r\n    },\r\n\r\n    Click_btn_cancel: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Click_btn_cancel not enter room\");\r\n            return\r\n        }\r\n        let roomID = room.GetRoomProperty(\"roomID\");\r\n        let clientPos = room.GetRoomPosMgr().GetClientPos();\r\n        app[app.subGameName + \"_GameManager\"]().SendUnReady(roomID, clientPos);\r\n    },\r\n\r\n    Click_btn_go: function() {\r\n        // let roomID = this.RoomMgr.GetEnterRoomID();\r\n        // this.RoomMgr.SendStartRoomGame(roomID);\r\n    },\r\n\r\n    //////////////////////////////////////////////////////////////////////////\r\n    Event_PosReadyChg: function(event) {\r\n        this.RefreshRoomShow();\r\n        let serverPack = event;\r\n        app[app.subGameName + \"Client\"].OnEvent(\"Head_PosReadyChg\", serverPack);\r\n    },\r\n\r\n    Event_RoomEnd: function(event) {\r\n        // this.FormManager.ShowForm(app.subGameName+\"_UIXiuXPublic_Record\");\r\n        // this.HideAll();\r\n    },\r\n\r\n    OnPack_AutoStart: function(event) {\r\n\r\n    },\r\n\r\n    //一局开始\r\n    Event_SetStart: function(event) {\r\n        this.FormManager.CloseForm(app.subGameName + \"_UILPPublic_Record\");\r\n        this.FormManager.CloseForm(app.subGameName + \"_UIPublic_Record\");\r\n        this.FormManager.CloseForm(app.subGameName + \"_UIXiuXPublic_Record\");\r\n        this.FormManager.CloseForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\");\r\n        app[app.subGameName + \"Client\"].OnEvent(\"SetStart\");\r\n        this.firstTurn = true;\r\n        this.LogicPDKGame.InitHandCard();\r\n        this.ClearForbiddenTouch();\r\n        this.allCardIdx = 0;\r\n        this.hanCardIdx = 0;\r\n        this.player1Idx = 0;\r\n        this.player2Idx = 0;\r\n        this.player3Idx = 0;\r\n        this.openCardInfo = {};\r\n        this.HideAll();\r\n        //隐藏切换人数\r\n        this.btn_change.active = false;\r\n        //显示需要发的牌\r\n        this.ShowAllCard();\r\n        let posInfo = event[\"setInfo\"].posInfo;\r\n        //从房主开始发牌\r\n        // let ownerID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"ownerID\");\r\n        let playerAll = this.RoomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        for (var i = 0; i < playerAllList.length; i++) {\r\n            let player = playerAll[playerAllList[i]];\r\n            // if(ownerID == player.pid){\r\n            //     owner = player;\r\n            // }\r\n            let cardsCount = posInfo[i].cards.length;\r\n            this.InitCardNum(player.pos, cardsCount);\r\n        }\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_MINGCARD)) {\r\n            this.btn_openCard.active = true;\r\n        }\r\n\r\n        let ClientPos = this.RoomPosMgr.GetClientPos();\r\n        this.FaPaiAction(ClientPos);\r\n        this.SetRoomData();\r\n    },\r\n    //更新局数\r\n    SetRoomData: function() {\r\n        let setID = this.Room.GetRoomProperty(\"setID\");\r\n        let current = this.Room.GetRoomConfigByProperty(\"setCount\");\r\n        this.lb_jushu.string = \"局数：\" + setID + \"/\" + current;\r\n        if (setID > 0) {\r\n            this.btn_exit.active = false;\r\n            this.btn_jifen.active = true;\r\n        } else {\r\n            this.btn_exit.active = true;\r\n            this.btn_jifen.active = false;\r\n        }\r\n    },\r\n    //-----------------回调函数------------------------\r\n    Event_ChatMessage: function(event) {\r\n        let argDict = event;\r\n        let senderPid = argDict[\"senderPid\"];\r\n        let quickID = parseInt(argDict[\"quickID\"]);\r\n        let content = argDict[\"content\"];\r\n\r\n        let playerList = this.RoomMgr.GetEnterRoom().GetRoomPosMgr().GetRoomAllPlayerInfo();\r\n        let playerListKey = Object.keys(playerList);\r\n        let initiatorPos = \"\";\r\n        for (let i = 0; i < playerListKey.length; i++) {\r\n            let player = playerList[playerListKey[i]];\r\n            let pid = player[\"pid\"];\r\n            if (senderPid == pid) {\r\n                initiatorPos = parseInt(i);\r\n            }\r\n        }\r\n        let playerSex = this.InitHeroSex(initiatorPos);\r\n        let soundName = \"\";\r\n        let path = \"\";\r\n        if (quickID < 101) {\r\n            switch (quickID) {\r\n                case 1:\r\n                    content = app.i18n.t(\"UIVoiceStringBieChao\");\r\n                    soundName = [playerSex, \"_FastVoice_1\"].join(\"\");\r\n                    break;\r\n                case 2:\r\n                    content = app.i18n.t(\"UIVoiceStringBieZou\");\r\n                    soundName = [playerSex, \"_FastVoice_2\"].join(\"\");\r\n                    break;\r\n                case 3:\r\n                    content = app.i18n.t(\"UIVoiceStringZhaoHu\");\r\n                    soundName = [playerSex, \"_FastVoice_3\"].join(\"\");\r\n                    break;\r\n                case 4:\r\n                    content = app.i18n.t(\"UIVoiceStringZanLi\");\r\n                    soundName = [playerSex, \"_FastVoice_4\"].join(\"\");\r\n                    break;\r\n                case 5:\r\n                    content = app.i18n.t(\"UIVoiceStringZanShang\");\r\n                    soundName = [playerSex, \"_FastVoice_5\"].join(\"\");\r\n                    break;\r\n                case 6:\r\n                    content = app.i18n.t(\"UIVoiceStringCuiCu\");\r\n                    soundName = [playerSex, \"_FastVoice_6\"].join(\"\");\r\n                    break;\r\n                case 7:\r\n                    content = app.i18n.t(\"UIVoiceStringKuaJiang\");\r\n                    soundName = [playerSex, \"_FastVoice_7\"].join(\"\");\r\n                    break;\r\n                case 8:\r\n                    content = app.i18n.t(\"UIVoiceStringDaShang\");\r\n                    soundName = [playerSex, \"_FastVoice_8\"].join(\"\");\r\n                    break;\r\n                case 9:\r\n                    content = app.i18n.t(\"UIVoiceStringLiKai\");\r\n                    soundName = [playerSex, \"_FastVoice_9\"].join(\"\");\r\n                    break;\r\n                case 10:\r\n                    content = app.i18n.t(\"UIVoiceStringYanChi\");\r\n                    soundName = [playerSex, \"_FastVoice_10\"].join(\"\");\r\n                    break;\r\n                default:\r\n                    this.ErrLog(\"Event_chatmessage not find(%s)\", quickID);\r\n            }\r\n        } else {\r\n            switch (quickID) {\r\n                case 101:\r\n                    path = \"face1Action\";\r\n                    break;\r\n                case 102:\r\n                    path = \"face2Action\";\r\n                    break;\r\n                case 103:\r\n                    path = \"face3Action\";\r\n                    break;\r\n                case 104:\r\n                    path = \"face4Action\";\r\n                    break;\r\n                case 105:\r\n                    path = \"face5Action\";\r\n                    break;\r\n                case 106:\r\n                    path = \"face6Action\";\r\n                    break;\r\n                case 107:\r\n                    path = \"face7Action\";\r\n                    break;\r\n                case 108:\r\n                    path = \"face8Action\";\r\n                    break;\r\n                case 109:\r\n                    path = \"face9Action\";\r\n                    break;\r\n                case 110:\r\n                    path = \"face10Action\";\r\n                    break;\r\n                case 111:\r\n                    path = \"face11Action\";\r\n                    break;\r\n                case 112:\r\n                    path = \"face12Action\";\r\n                    break;\r\n                case 113:\r\n                    path = \"face13Action\";\r\n                    break;\r\n                case 114:\r\n                    path = \"face14Action\";\r\n                    break;\r\n                case 115:\r\n                    path = \"face15Action\";\r\n                    break;\r\n                case 116:\r\n                    path = \"face16Action\";\r\n                    break;\r\n                case 117:\r\n                    path = \"face17Action\";\r\n                    break;\r\n                case 118:\r\n                    path = \"face18Action\";\r\n                    break;\r\n                case 119:\r\n                    path = \"face19Action\";\r\n                    break;\r\n                case 120:\r\n                    path = \"face20Action\";\r\n                    break;\r\n                default:\r\n                    this.ErrLog(\"Event_chatmessage not find(%s)\", quickID);\r\n            }\r\n        }\r\n        this.SoundManager.PlaySound(soundName);\r\n\r\n        let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n\r\n        //敏感词汇替换\r\n        content = this.UtilsWord.CheckContentDirty(content);\r\n        let headScript = this.GetUICardComponentByPos(initiatorPos);\r\n        if (content == \"\") {\r\n            headScript.ShowFaceContent(path);\r\n        } else {\r\n            headScript.ShowChatContent(content);\r\n        }\r\n    },\r\n\r\n    //特效播放结束\r\n    OnEffectEnd: function(wndPath, effectName) {\r\n\r\n\r\n    },\r\n\r\n    InitHeroSex: function(pos) {\r\n        let RoomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n        let player = RoomPosMgr.GetPlayerInfoByPos(pos);\r\n        let Sex = player[\"sex\"];\r\n        let playerSex = \"\";\r\n        if (Sex == this.ShareDefine.HeroSex_Boy) {\r\n            playerSex = \"boy\";\r\n        } else if (Sex == this.ShareDefine.HeroSex_Girl) {\r\n            playerSex = \"girl\";\r\n        }\r\n        return playerSex;\r\n    },\r\n    //继续游戏\r\n    Event_PosContinueGame: function(event) {\r\n        // this.HideAll();\r\n        this.HideAllPass();\r\n        let argDict = event;\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Event_PosContinueGame not enter room\");\r\n            return\r\n        }\r\n        let RoomPosMgr = room.GetRoomPosMgr();\r\n        let clientPos = RoomPosMgr.GetClientPos();\r\n        if (argDict[\"pos\"] != clientPos) {\r\n            let clientPlayerInfo = RoomPosMgr.GetPlayerInfoByPos(clientPos);\r\n            // //如果玩家已经继续了,需要渲染其他人的状态\r\n            if (!clientPlayerInfo[\"gameReady\"]) {\r\n                return;\r\n            }\r\n        } else { //如果是自己准备就清理界面\r\n            this.FormManager.CloseForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\");\r\n        }\r\n        this.RefreshRoomShow();\r\n    },\r\n\r\n\r\n    //位置更新\r\n    Event_PosUpdate: function(event) {\r\n        let serverPack = event;\r\n        app[app.subGameName + \"Client\"].OnEvent('Head_PosUpdate', serverPack);\r\n        this.RefreshRoomShow();\r\n    },\r\n\r\n    //位置离开\r\n    Event_PosLeave: function(event) {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Event_PosLeave not enter room\");\r\n            return\r\n        }\r\n\r\n        let serverPack = event;\r\n        let pos = serverPack[\"pos\"];\r\n\r\n        app[app.subGameName + \"Client\"].OnEvent('Head_PosLeave', serverPack);\r\n\r\n        let clientPos = room.GetRoomPosMgr().GetClientPos();\r\n        //如果是客户端玩家并且是被T了\r\n        if (serverPack[\"beKick\"] && clientPos == pos) {\r\n            if (serverPack[\"kickOutTYpe\"] == 2) {\r\n                this.SetWaitForConfirm('MSG_BeKick', this.ShareDefine.ConfirmOK, [serverPack.msg]);\r\n            } else if (serverPack[\"kickOutTYpe\"] == 3) {\r\n                this.SetWaitForConfirm('MSG_BeKick', this.ShareDefine.ConfirmOK, [\"由于长时间未准备，您已被请出房间\"]);\r\n            } else {\r\n                this.SetWaitForConfirm('UIPlay_BeKick', this.ShareDefine.ConfirmOK);\r\n            }\r\n        }\r\n        //如果是客户端自己，返回大厅\r\n        if (!serverPack[\"beKick\"] && clientPos == pos) {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        }\r\n        this.RefreshRoomShow();\r\n    },\r\n    Event_ExitRoomSuccess: function(event) {\r\n        app[app.subGameName + \"Client\"].ExitGame();\r\n    },\r\n\r\n    HideClientUseTime: function(){\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        let headScript = this.GetUICardComponentByPos(clientPos);\r\n        headScript.SetTimeOpen(false);\r\n    },\r\n    //限时已用房间限时时间(显示静态)\r\n    ShowUseTime: function(room){\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        let secTotal = this.RoomSet.GetSecTotal();\r\n        let headScript = this.GetUICardComponentByPos(clientPos);\r\n        headScript.ShowUseTime(secTotal);\r\n    },\r\n\r\n    //重新渲染界面后找服务端要实时时间\r\n    ShowUseTimeByInfo: function(room){\r\n        let self = this;\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GetTime\", {\"roomID\": roomID, \"pos\": clientPos}, function (event) {\r\n            let headScript = self.GetUICardComponentByPos(clientPos);\r\n            headScript.ShowUseTime(event.secTotal);\r\n        }, function (event) {});\r\n    },\r\n\r\n    ScheduleTime: function(pos){\r\n        let self = this;\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GetTime\", {\"roomID\": roomID, \"pos\": clientPos}, function (event) {\r\n            let headScript = self.GetUICardComponentByPos(pos);\r\n            headScript.ShowUseTime(event.secTotal);\r\n            headScript.SetTimeOpen(true);\r\n        }, function (event) {});\r\n    },\r\n\r\n\r\n    //一局结束\r\n    Event_SetEnd: function(event) {\r\n        console.log(\"一局结束\", event)\r\n        this.unschedule(this.CallEverySecond);\r\n        this.HideClientUseTime();\r\n        //判断是否被关门\r\n        let setEnd = this.RoomSet.GetRoomSetProperty(\"setEnd\");\r\n        for (let i = 0; i < setEnd.beShutDowList.length; i++) {\r\n            //龙岩伏击没有反关门\r\n            if (setEnd.beShutDowList[i] && i != setEnd.firstOpPos) {\r\n                let uiPos = this.RoomPosMgr.GetUIPosByDataPos(i);\r\n                let ShutDow_Ani = this.GetWndNode(\"sp_seat0\" + uiPos + \"/ShutDow_Ani\");\r\n                ShutDow_Ani.active = true;\r\n                ShutDow_Ani.getComponent(cc.Animation).play(\"guanmen\");\r\n            }\r\n        }\r\n\r\n        this.UpdatePlayerScore();\r\n        //刷新比赛分\r\n        this.UpdatePlayerSportsPoint(event);\r\n        //发送明牌消息\r\n        let roomID = this.Room.GetRoomProperty(\"roomID\");\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        this.RoomMgr.SendOpenCard(roomID, clientPos, 1);\r\n\r\n        let self = this;\r\n        this.scheduleOnce(function() {\r\n            self.FormManager.ShowForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\", setEnd);\r\n        }, 2.0);\r\n    },\r\n\r\n    //房间解散\r\n    Event_DissolveRoom: function(event) {\r\n\r\n        let argDict = event;\r\n        let ownnerForce = argDict[\"ownnerForce\"];\r\n\r\n        //未开启房间游戏时才会触发\r\n        if (ownnerForce) {\r\n            let room = this.RoomMgr.GetEnterRoom();\r\n            //如果是房主主动接撒直接退出\r\n            if (room && room.IsClientIsOwner()) {\r\n                app[app.subGameName + \"Client\"].ExitGame();\r\n            } else {\r\n                this.SetWaitForConfirm('OwnnerForceRoom', this.ShareDefine.ConfirmOK);\r\n            }\r\n        } else if (event.dissolveNoticeType == 1) {\r\n            this.SetWaitForConfirm('SportsPointDissolveRoom', this.ShareDefine.ConfirmOK, [event.msg]);\r\n        } else if (event.dissolveNoticeType == 3) {\r\n            this.SetWaitForConfirm('MSG_BeDissolve', this.ShareDefine.ConfirmOK, [event.msg]);\r\n        } else {\r\n            let state = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"state\");\r\n            //如果没有打完一局不会下发roomend,直接显示2次弹框\r\n            if (state != this.ShareDefine.RoomState_End) {\r\n                this.SetWaitForConfirm('DissolveRoom', this.ShareDefine.ConfirmOK);\r\n                this.FormManager.CloseForm(app.subGameName + \"_UIMessage02\");\r\n            }\r\n            //如果有roomend数据显示 结果界面\r\n            else {\r\n                this.FormManager.CloseForm(app.subGameName + \"_UIMessage02\");\r\n                this.FormManager.ShowForm(app.subGameName + \"_UIXiuXPublic_Record\");\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    //收到解散房间\r\n    Event_StartVoteDissolve: function(event) {\r\n        this.FormManager.ShowForm(app.subGameName + \"_UIMessage02\");\r\n    },\r\n    //收到切换人数房间\r\n    Event_ChangePlayerNum: function(event) {\r\n        this.FormManager.ShowForm(app.subGameName + \"_UIMessage03\");\r\n    },\r\n\r\n    UpdatePlayerScore: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let posList = room.GetRoomProperty(\"posList\");\r\n        for (let idx = 0; idx < posList.length; idx++) {\r\n            let uiPos = this.RoomPosMgr.GetUIPosByDataPos(posList[idx].pos);\r\n            let path = \"sp_seat0\" + uiPos + \"/head\" + \"/XiuXUIPublicHead\" + uiPos;\r\n            let headNode = this.GetWndNode(path);\r\n            let headScript = headNode.getComponent(app.subGameName + \"_XiuXUIPublicHead\");\r\n            headScript.UpDateLabJiFen();\r\n        }\r\n    },\r\n    UpdatePlayerSportsPoint: function(event) {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let posList = room.GetRoomProperty(\"posList\");\r\n        for (let idx = 0; idx < posList.length; idx++) {\r\n            let uiPos = this.RoomPosMgr.GetUIPosByDataPos(posList[idx].pos);\r\n            let path = \"sp_seat0\" + uiPos + \"/head\" + \"/XiuXUIPublicHead\" + uiPos;\r\n            let headNode = this.GetWndNode(path);\r\n            let headScript = headNode.getComponent(app.subGameName + \"_XiuXUIPublicHead\");\r\n            headScript.UpDateLabSportsPoint();\r\n        }\r\n    },\r\n\r\n    GetUICardComponentByPos: function(pos) {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"GetUICardComponentByPos not enter room\");\r\n            return\r\n        }\r\n\r\n        let posList = room.GetRoomProperty(\"posList\");\r\n        for (let idx = 0; idx < posList.length; idx++) {\r\n            if (pos == posList[idx].pos) {\r\n                let uiPos = this.RoomPosMgr.GetUIPosByDataPos(posList[idx].pos);\r\n                let path = \"sp_seat0\" + uiPos + \"/head\" + \"/XiuXUIPublicHead\" + uiPos;\r\n                let headNode = this.GetWndNode(path);\r\n                let headScript = headNode.getComponent(app.subGameName + \"_XiuXUIPublicHead\");\r\n                return headScript;\r\n            }\r\n        }\r\n    },\r\n    //显示玩家准备状态\r\n    ShowPlayerReady: function(room) {\r\n        if (!room) {\r\n            this.ErrLog(\"Event_ShowReadyOrNoReady not enter room\");\r\n            return\r\n        }\r\n        let roomSetID = room.GetRoomProperty(\"setID\");\r\n        let ReadyState = \"\";\r\n        if (roomSetID > 0) {\r\n            ReadyState = \"gameReady\";\r\n        } else {\r\n            ReadyState = \"roomReady\";\r\n        }\r\n\r\n        this.SetPlayerReadyInfo(ReadyState);\r\n    },\r\n\r\n    //隐藏玩家准备按钮\r\n    HidePlayerReady: function() {\r\n        this.btn_ready.active = 0;\r\n        this.btn_weixin.active = 0;\r\n        this.btn_fzfh.active = false;\r\n        this.btn_go.active = 0;\r\n        this.btn_quit.active = false;\r\n        this.invitationNode.active = false;\r\n    },\r\n    HideClientReady: function() {\r\n        this.btn_ready.active = false;\r\n        this.btn_weixin.active = false;\r\n        this.btn_fzfh.active = false;\r\n        this.btn_go.active = false;\r\n        this.btn_quit.active = false;\r\n        this.invitationNode.active = false;\r\n    },\r\n    IsClientReady: function(ReadyState) {\r\n        let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n        let clientPos = roomPosMgr.GetClientPos();\r\n        let playerAll = roomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        for (let i = 0; i < playerAllList.length; i++) {\r\n            let player = playerAll[playerAllList[i]];\r\n            let isClientReady = player[ReadyState];\r\n            if (player[\"pos\"] == clientPos) {\r\n                return isClientReady;\r\n                break;\r\n            }\r\n        }\r\n\r\n    },\r\n    JoinPlayerFinish: function() {\r\n        let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n        let playerAll = roomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        var tempNum = 0;\r\n        for (let j = 0; j < playerAllList.length; j++) {\r\n            let player = playerAll[playerAllList[j]];\r\n            if (player.pid > 0) {\r\n                tempNum++;\r\n            }\r\n        }\r\n        if (tempNum == playerAllList.length) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    SetPlayerReadyInfo: function(ReadyState) {\r\n        if (ReadyState == \"gameReady\") {\r\n            //第二局\r\n            this.HideClientReady();\r\n        } else if (ReadyState == \"roomReady\") {\r\n            //第一局\r\n            if (this.JoinPlayerFinish() && this.IsClientReady(ReadyState) == false) {\r\n                //人数加满，本家没准备\r\n                this.ShowPlayerOk();\r\n            } else if (this.JoinPlayerFinish() && this.IsClientReady(ReadyState) == true) {\r\n                //人数加满，本家准备\r\n                this.HideClientReady();\r\n            } else {\r\n                //人数未满\r\n                this.ShowPlayerYaoQing();\r\n            }\r\n        }\r\n    },\r\n    ShowPlayerYaoQing: function() {\r\n        this.btn_ready.active = 0;\r\n        this.btn_weixin.active = 1;\r\n        this.btn_fzfh.active = 1;\r\n        this.btn_quit.active = true;\r\n        this.btn_go.active = 0;\r\n        if (this.roomCfg.clubId > 0 || this.roomCfg.unionId > 0) {\r\n            this.invitationNode.active = false;\r\n        } else {\r\n            this.invitationNode.active = false;\r\n        }\r\n    },\r\n    ShowPlayerOk: function() {\r\n        if (this.isAutoReady() == true) {\r\n            this.btn_ready.active = 0;\r\n            this.Click_btn_ready();\r\n        } else {\r\n            this.btn_ready.active = 1;\r\n        }\r\n\r\n        this.btn_weixin.active = 0;\r\n        this.btn_fzfh.active = false;\r\n        this.btn_go.active = 0;\r\n        this.btn_quit.active = false;\r\n        this.invitationNode.active = false;\r\n    },\r\n\r\n\r\n    GetPlayerSex: function(pos) {\r\n        let playerSex = \"\";\r\n        let player = this.RoomPosMgr.GetPlayerInfoByPos(pos);\r\n        let Sex = player[\"sex\"];\r\n        if (Sex == this.ShareDefine.HeroSex_Boy) {\r\n            playerSex = \"b\";\r\n        } else if (Sex == this.ShareDefine.HeroSex_Girl) {\r\n            playerSex = \"g\";\r\n        }\r\n        return playerSex;\r\n    },\r\n\r\n    //设置手牌缩放大小\r\n    SetHandCardScale: function(scale) {\r\n        this.handCards.scale = scale;\r\n    },\r\n\r\n    /**\r\n     * 2次确认点击回调\r\n     */\r\n    SetWaitForConfirm: function(msgID, type, msgArg = [], cbArg = []) {\r\n        let ConfirmManager = app[app.subGameName + \"_ConfirmManager\"]();\r\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\r\n        ConfirmManager.ShowConfirm(type, msgID, msgArg);\r\n    },\r\n    OnConFirm: function(clickType, msgID, backArgList) {\r\n        let ClientPos = this.RoomPosMgr.GetClientPos();\r\n        let player = this.RoomPosMgr.GetPlayerInfoByPos(ClientPos);\r\n        let posName = player.name;\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        if (clickType != \"Sure\") {\r\n            if (msgID == \"SportsPointNotEnough\") {\r\n                let roomID = this.RoomMgr.GetEnterRoomID();\r\n                app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID);\r\n            }\r\n            return\r\n        }\r\n        if (msgID == \"UIPlay_BeKick\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if ('MSG_Room_Change' == msgID) {\r\n            let roomID = this.RoomMgr.GetEnterRoomID();\r\n            let that = this;\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ChangePlayerNum\", {\r\n                    \"roomID\": roomID\r\n                }, function(success) {\r\n\r\n                },\r\n                function(error) {\r\n                    let msg = error.Msg;\r\n                    that.ShowSysMsg(msg);\r\n                });\r\n        } else if (msgID == \"MSG_BeKick\" || msgID == \"MSG_BeDissolve\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if (msgID == \"OwnnerForceRoom\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if (msgID == \"MSG_Room_EXIT\") {\r\n            this.Click_btn_jiesan();\r\n        } else if (msgID == \"DissolveRoom\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if (msgID == \"SportsPointThresholdEnough\" || msgID == \"SportsPointThresholdNotEnough\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if (msgID == \"SportsPointDissolveRoom\") {\r\n            this.FormManager.ShowForm(app.subGameName + \"_UIXiuXPublic_Record\");\r\n        } else if (msgID == \"PlayerLeaveRoom\") {\r\n            let roomID = this.RoomMgr.GetEnterRoomID();\r\n            app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID);\r\n        } else if (msgID == \"UIMoreTuiChuFangJian\") {\r\n            let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n            let ClientPos = roomPosMgr.GetClientPos();\r\n            let player = roomPosMgr.GetPlayerInfoByPos(ClientPos);\r\n            if (!player)\r\n                return;\r\n            let posName = player.name;\r\n            let roomID = this.RoomMgr.GetEnterRoomID();\r\n            let state = this.Room.GetRoomProperty(\"state\");\r\n            if (state == this.ShareDefine.RoomState_Playing && player.isPlaying) {\r\n                app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID, posName);\r\n                return\r\n            }\r\n            //房主不能退出房间，只能解散\r\n            if (this.RoomMgr.GetEnterRoom().IsClientIsOwner()) {\r\n                app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID, posName);\r\n                return\r\n            }\r\n            app[app.subGameName + \"_GameManager\"]().SendExitRoom(roomID, ClientPos);\r\n        } else if (msgID == \"MSG_GAME_DissolveRoom\") {\r\n            app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID, posName);\r\n        } else {\r\n            this.ErrLog(\"OnConFirm msgID:%s error\", msgID);\r\n        }\r\n    },\r\n\r\n    Event_TouchStart: function(event) {\r\n        // this.SysLog(\"Event_TouchStart\");\r\n        if (!this.IsShowVoice()) {\r\n            this.ShowSysMsg(\"禁止语音\");\r\n            return;\r\n        }\r\n        app[app.subGameName + \"_AudioManager\"]().startRecord();\r\n\r\n    },\r\n    Event_TouchEnd: function(event) {\r\n        // this.SysLog(\"Event_TouchEnd\"); \r\n        this.FormManager.CloseForm(app.subGameName + \"_UIAudio\");\r\n        app[app.subGameName + \"_AudioManager\"]().setTouchEnd(true);\r\n        app[app.subGameName + \"_AudioManager\"]().stopRecord();\r\n    },\r\n\r\n    OnEventShow: function() {\r\n        if (!this.RoomMgr || typeof(this.RoomMgr) == \"undefined\") {\r\n            return;\r\n        }\r\n        let curTime = new Date().getTime();\r\n        let lostHearTime = cc.sys.isNative ? 30000 : 3000000;\r\n        if (this.outGameTime && curTime > this.outGameTime + lostHearTime) {\r\n            // app[app.subGameName + \"Client\"].lastHearTime = 0;\r\n            this.outGameTime = 0;\r\n            if (app[app.subGameName + \"_NetWork\"]().isConnectIng) { //ios的可能websoket不会主动断开\r\n                console.log(\"后台切回来，先断开连接\");\r\n                app[app.subGameName + \"_NetManager\"]().Disconnect();\r\n            }\r\n            if (!app[app.subGameName + \"Client\"].bStartReConnect) {\r\n                console.log(\"后台切回来，发起断线重连\");\r\n                app[app.subGameName + \"Client\"].StartReConnect();\r\n                app[app.subGameName + \"_NetWork\"]().ReConnectByTipSureBtn();\r\n            }\r\n        } else {\r\n            let roomID = this.RoomMgr.GetEnterRoomID();\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ShowLeave\", {\r\n                \"roomID\": roomID,\r\n                \"isShowLeave\": false\r\n            });\r\n\r\n        }\r\n        app[app.subGameName + \"Client\"].scheduleOnce(function() {\r\n            app[app.subGameName + \"Client\"].StartTimer();\r\n        }, 2);\r\n    },\r\n\r\n    OnEventHide: function() {\r\n        console.log(\"从游戏内切换后台\");\r\n        this.outGameTime = new Date().getTime();\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ShowLeave\", {\r\n            \"roomID\": roomID,\r\n            \"isShowLeave\": true\r\n        });\r\n        app[app.subGameName + \"Client\"].StopTimer();\r\n    },\r\n\r\n    //判断选择的牌是否玩家手里的牌\r\n    CheckSelCardListInHandCard: function(selCardList) {\r\n        let handCardListTemp = [];\r\n        for (let i = 0; i < this.LogicPDKGame.handCardList.length; i++) {\r\n            handCardListTemp.push(this.LogicPDKGame.handCardList[i]);\r\n        }\r\n        for (let i = 0; i < selCardList.length; i++) {\r\n            if (handCardListTemp.indexOf(selCardList[i]) >= 0) {\r\n                handCardListTemp.Remove(selCardList[i]);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    // 判断弹起的牌是否跟发送服务端的出牌list一致\r\n    CheckSelCardListOrCardList: function(selCardList) {\r\n        let selHandCardsList = [];\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].y > 0) {\r\n                let name = this.handCards.children[i].name;\r\n                let cardIdx = name.substring(5, name.length);\r\n                selHandCardsList.push(this.LogicPDKGame.handCardList[cardIdx - 1]);\r\n            }\r\n        }\r\n        for (let i = 0; i < selCardList.length; i++) {\r\n            if (selHandCardsList.indexOf(selCardList[i]) >= 0) {\r\n                selHandCardsList.Remove(selCardList[i]);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        if (selHandCardsList.length == 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n\r\n    //电量显示\r\n    OnEvent_BatteryLevel: function(event) {\r\n        let power = event['Level'];\r\n        if (power <= 20) {\r\n            this.bg_power.getComponent(cc.Sprite).spriteFrame = this.bg_electricity[0];\r\n        } else if (power <= 70) {\r\n            this.bg_power.getComponent(cc.Sprite).spriteFrame = this.bg_electricity[1];\r\n        } else {\r\n            this.bg_power.getComponent(cc.Sprite).spriteFrame = this.bg_electricity[2];\r\n        }\r\n    },\r\n    //延迟显示\r\n    OnEvent_SpeedTest: function(event) {\r\n        let YanCi = event['yanci'];\r\n        if (YanCi < 100) {\r\n            this.bg_signal.getComponent(cc.Sprite).spriteFrame = this.bg_wifi[0];\r\n        } else if (YanCi < 300) {\r\n            this.bg_signal.getComponent(cc.Sprite).spriteFrame = this.bg_wifi[1];\r\n        } else if (YanCi < 600) {\r\n            this.bg_signal.getComponent(cc.Sprite).spriteFrame = this.bg_wifi[2];\r\n        } else {\r\n            this.bg_signal.getComponent(cc.Sprite).spriteFrame = this.bg_wifi[3];\r\n        }\r\n    },\r\n    update: function(dt) {\r\n        var DateNow = new Date();\r\n        let Hours = DateNow.getHours();\r\n        let Minutes = DateNow.getMinutes();\r\n        let Seconds = DateNow.getSeconds()\r\n\r\n        Hours = app[app.subGameName + \"_ComTool\"]().StringAddNumSuffix(\"\", Hours, 2);\r\n        Minutes = app[app.subGameName + \"_ComTool\"]().StringAddNumSuffix(\"\", Minutes, 2);\r\n        Seconds = app[app.subGameName + \"_ComTool\"]().StringAddNumSuffix(\"\", Seconds, 2);\r\n\r\n        //显示系统时间\r\n        this.nowtime.getComponent(cc.Label).string = Hours + \":\" + Minutes + \":\" + Seconds;\r\n        // this.nowtime.getComponent(cc.Label).string = app[app.subGameName + \"_ComTool\"]().GetNowDateTimeStr();\r\n    },\r\n});"]}