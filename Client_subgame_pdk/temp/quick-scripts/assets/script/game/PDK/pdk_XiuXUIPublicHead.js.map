{"version":3,"sources":["pdk_XiuXUIPublicHead.js"],"names":["app","require","t","cc","Class","extends","subGameName","properties","touxiang","Node","sp_chatdi_left","sp_chatdi_right","sp_chatdi_leftBottom","sp_chatdi_rightBottom","sp_audio_left","sp_audio_right","sp_lixian","sp_likai","btn_out","zhuangjia","fangzhu","lb_name","Label","lb_jifen","btn_head","icon_auto","face_ani","icon_ready","bg_box","Init","uiPos","dataPos","point","isLeft","bResetPoint","useBottomChat","playerPos","node","x","y","playerInfo","active","bIsInitBaseEnd","InitBaseData","RoomMgr","toUpperCase","RoomPosMgr","GetEnterRoom","GetRoomPosMgr","WeChatHeadImage","getComponent","RegEvent","Event_SetStart","Event_PosContine","Event_PlayerOffline","OnPack_AutoStart","Event_PosReadyChg","Event_PosPosUpdate","Event_PosLeave","Event_UpdateBacker","Event_AudioNtf","Event_SportsPointChange","bg_SportsPoint","getChildByName","bg_jifen","bg_name","useTimeNode","GetWndNode","lb_useTime","HideAllChild","left","right","name","SetItemPos","removeAllChildren","msgNode","addComponent","color","Color","width","bottomMsgNode","scaleX","scaleY","anchorX","anchorY","addChild","instantiate","DeleteWndEffect","UpdatePlayerInfo","Animation","on","onFinished","bind","time","SetHeadInfo","IsRoomXianShi","fangjianxianshi","GetRoomConfigByProperty","GetRoomXianShiTime","roomXianShiObj","ShowUseTime","useTime","string","ShowTimeUpdate","dt","dataTime","Math","floor","console","log","Date","getTime","timeOpen","SetTimeOpen","isOpen","setReady","isShow","others","children","i","length","event","serverPack","pos","isReady","isCoinRoom","roomID","isAuto","pid","heroID","GetHeroProperty","roomPosMg","roomMrg","allPlayers","GetRoomAllPlayerInfo","trusteeship","OnShowPosActionHelp","AddWndEffect","OnUpdate","useLeftChat","OnClosePosActionHelp","ShowChatContent","content","lb_chat","overflow","Overflow","NONE","horizontalAlign","HorizontalAlign","LEFT","verticalAlign","VerticalAlign","CENTER","fontSize","lineHeight","newWidth","RESIZE_HEIGHT","ShowFaceContent","path","animState","play","repeatCount","ShowAutoIcon","ShowAudioContent","useLeftAudio","AudioAnimation","stop","CloseAudioContent","OnClose","UnRegTargetEvent","clientPos","GetClientPos","bShow","data","UpdateBacker","room","state","GetRoomProperty","ShareDefine","RoomState_Init","roomSet","GetRoomSet","dPos","GetRoomSetInfo","hasOwnProperty","GetRoomSetProperty","dataInfo","stateInfo","backerPos","isDPos","setState","RoomState_Playing","RoomState_Waiting","RoomState_WaitingEx","allPlayerInfo","playerLength","ErrLog","SetState_Playing","SetState_Waiting","SetState_WaitingEx","roomReady","gameReady","ShowPlayerBaseInfo","ShowBtnOut","IsClientIsCreater","IsClientIsOwner","createID","HideBtnOut","ShowHeroHead","iscreateID","isLostConnect","isShowLeave","UpDateLabJiFen","UpDateLabSportsPoint","playerIntegral","playerRealpoint","roomCfg","GetRoomConfig","realPoint","unionId","undefined","dianbo","loseCardCount","GetEnterRoomID","posId","sportsPoint","OnClick","btnName","btnNode","Click_btn_head","Click_btn_out","FormManager","ShowForm","ShowSysMsg","SendKickPosIndex"],"mappings":";;;;;;;;AAAA,IAAIA,MAAMC,QAAQ,SAAR,CAAV;;eACcA,QAAQ,iBAAR;IAANC,aAAAA;;AACRC,GAAGC,KAAH,CAAS;AACLC,aAASJ,QAAQD,IAAIM,WAAJ,GAAkB,WAA1B,CADJ;;AAGLC,gBAAY;AACRC,kBAASL,GAAGM,IADJ;AAERC,wBAAeP,GAAGM,IAFV;AAGRE,yBAAgBR,GAAGM,IAHX;AAIRG,8BAAqBT,GAAGM,IAJhB;AAKRI,+BAAsBV,GAAGM,IALjB;AAMRK,uBAAcX,GAAGM,IANT;AAORM,wBAAeZ,GAAGM,IAPV;AAQRO,mBAAUb,GAAGM,IARL;AASRQ,kBAASd,GAAGM,IATJ;AAURS,iBAAQf,GAAGM,IAVH;;AAYRU,mBAAUhB,GAAGM,IAZL;AAaRW,iBAAQjB,GAAGM,IAbH;;AAeRY,iBAAQlB,GAAGmB,KAfH;AAgBRC,kBAASpB,GAAGmB,KAhBJ;AAiBRE,kBAASrB,GAAGM,IAjBJ;AAkBRgB,mBAAUtB,GAAGM,IAlBL;AAmBRiB,kBAASvB,GAAGM,IAnBJ;AAoBRkB,oBAAWxB,GAAGM,IApBN;AAqBRmB,gBAAOzB,GAAGM;;AArBF,KAHP;;AA4BLoB,UAAM,cAAUC,KAAV,EAAgBC,OAAhB,EAAwBC,KAAxB,EAA8E;AAAA,YAAhDC,MAAgD,uEAAzC,CAAC,CAAwC;AAAA,YAAtCC,WAAsC,uEAA1B,IAA0B;AAAA,YAArBC,aAAqB,uEAAP,KAAO;;AAChF,aAAKL,KAAL,GAAaA,KAAb;AACA,aAAKM,SAAL,GAAiBL,OAAjB;AACA,YAAGG,WAAH,EAAe;AACX,iBAAKG,IAAL,CAAUC,CAAV,GAAcN,MAAMM,CAApB;AACA,iBAAKD,IAAL,CAAUE,CAAV,GAAcP,MAAMO,CAApB;AACA,gBAAGN,UAAQ,CAAC,CAAZ,EAAc;AACV,oBAAGD,MAAMM,CAAN,GAAQ,CAAX,EAAa;AACT,yBAAKL,MAAL,GAAY,IAAZ;AACH,iBAFD,MAEK;AACD,yBAAKA,MAAL,GAAY,KAAZ;AACH;AACJ,aAND,MAOI;AACA,oBAAGA,MAAH,EAAU;AACN,yBAAKA,MAAL,GAAY,IAAZ;AACH,iBAFD,MAGI;AACA,yBAAKA,MAAL,GAAY,KAAZ;AACH;AACJ;AACJ;AACD,aAAKO,UAAL,GAAkB,IAAlB;AACA,YAAG,CAAC,CAAD,IAAM,KAAKJ,SAAd,EAAwB;AACpB,iBAAKC,IAAL,CAAUI,MAAV,GAAmB,KAAnB;AACA;AACH;AACD,YAAG,CAAC,KAAKC,cAAT,EAAwB;AACpB,iBAAKA,cAAL,GAAsB,IAAtB;AACA,iBAAKC,YAAL;AACH;;AAED,aAAKN,IAAL,CAAUI,MAAV,GAAmB,IAAnB;AACA,aAAKG,OAAL,GAAe5C,IAAIA,IAAIM,WAAJ,CAAgBuC,WAAhB,KAA8B,SAAlC,GAAf;AACA,aAAKC,UAAL,GAAkB,KAAKF,OAAL,CAAaG,YAAb,GAA4BC,aAA5B,EAAlB;AACA,aAAKC,eAAL,GAAuB,KAAKzB,QAAL,CAAc0B,YAAd,CAA2BlD,IAAIM,WAAJ,GAAkB,kBAA7C,CAAvB;AACAN,YAAIA,IAAIM,WAAJ,GAAkB,QAAtB,EAAgC6C,QAAhC,CAAyC,UAAzC,EAAqD,KAAKC,cAA1D,EAAyE,IAAzE;AACApD,YAAIA,IAAIM,WAAJ,GAAkB,QAAtB,EAAgC6C,QAAhC,CAAyC,YAAzC,EAAuD,KAAKE,gBAA5D,EAA6E,IAA7E;AACArD,YAAIA,IAAIM,WAAJ,GAAkB,QAAtB,EAAgC6C,QAAhC,CAAyC,eAAzC,EAA0D,KAAKG,mBAA/D,EAAmF,IAAnF;AACAtD,YAAIA,IAAIM,WAAJ,GAAkB,QAAtB,EAAgC6C,QAAhC,CAAyC,qBAAzC,EAAgE,KAAKI,gBAArE,EAAuF,IAAvF;AACAvD,YAAIA,IAAIM,WAAJ,GAAkB,QAAtB,EAAgC6C,QAAhC,CAAyC,kBAAzC,EAA6D,KAAKK,iBAAlE,EAAoF,IAApF;AACAxD,YAAIA,IAAIM,WAAJ,GAAkB,QAAtB,EAAgC6C,QAAhC,CAAyC,gBAAzC,EAA2D,KAAKM,kBAAhE,EAAmF,IAAnF;AACAzD,YAAIA,IAAIM,WAAJ,GAAkB,QAAtB,EAAgC6C,QAAhC,CAAyC,eAAzC,EAA0D,KAAKO,cAA/D,EAA8E,IAA9E;AACA1D,YAAIA,IAAIM,WAAJ,GAAkB,QAAtB,EAAgC6C,QAAhC,CAAyC,mBAAzC,EAA6D,KAAKQ,kBAAlE,EAAqF,IAArF;AACA3D,YAAIA,IAAIM,WAAJ,GAAkB,QAAtB,EAAgC6C,QAAhC,CAAyC,eAAzC,EAAyD,KAAKS,cAA9D,EAA6E,IAA7E;AACA5D,YAAIA,IAAIM,WAAJ,GAAkB,QAAtB,EAAgC6C,QAAhC,CAAyC,uBAAzC,EAAiE,KAAKU,uBAAtE,EAA8F,IAA9F;AACA;AACA,aAAKC,cAAL,GAAsB,KAAKzB,IAAL,CAAU0B,cAAV,CAAyB,UAAzB,EAAqCA,cAArC,CAAoD,SAApD,EAA+DA,cAA/D,CAA8E,gBAA9E,CAAtB;;AAEA,aAAKC,QAAL,GAAgB,KAAK3B,IAAL,CAAU0B,cAAV,CAAyB,UAAzB,EAAqCA,cAArC,CAAoD,SAApD,EAA+DA,cAA/D,CAA8E,UAA9E,CAAhB;;AAEA,aAAKE,OAAL,GAAe,KAAK5B,IAAL,CAAU0B,cAAV,CAAyB,UAAzB,EAAqCA,cAArC,CAAoD,SAApD,EAA+DA,cAA/D,CAA8E,SAA9E,CAAf;;AAEA,aAAKG,WAAL,GAAmB,KAAKC,UAAL,CAAgB,sBAAhB,CAAnB;AACA,aAAKC,UAAL,GAAkB,KAAKD,UAAL,CAAgB,iCAAhB,EAAmDjB,YAAnD,CAAgE/C,GAAGmB,KAAnE,CAAlB;;AAEA,aAAK+C,YAAL;AACA,aAAKC,IAAL,GAAY,EAAChC,GAAE,CAAC,EAAJ,EAAOC,GAAE,CAAT,EAAZ;AACA,aAAKgC,KAAL,GAAa,EAACjC,GAAE,EAAH,EAAMC,GAAE,CAAR,EAAb;AACA,aAAKF,IAAL,CAAUmC,IAAV,GAAiB,qBAAqB,KAAK1C,KAA3C;AACA,aAAK2C,UAAL,CAAgB,KAAKxC,MAArB;;AAEA,aAAKE,aAAL,GAAqBA,aAArB;AACA,aAAKzB,cAAL,CAAoBgE,iBAApB;AACA,aAAK/D,eAAL,CAAqB+D,iBAArB;AACA,aAAK9D,oBAAL,CAA0B8D,iBAA1B;AACA,aAAK7D,qBAAL,CAA2B6D,iBAA3B;AACA,aAAKC,OAAL,GAAe,IAAIxE,GAAGM,IAAP,EAAf;AACA,aAAKkE,OAAL,CAAaH,IAAb,GAAoB,UAApB;AACA,aAAKG,OAAL,CAAaC,YAAb,CAA0BzE,GAAGmB,KAA7B;AACA,aAAKqD,OAAL,CAAarC,CAAb,GAAiB,EAAjB;AACA,aAAKqC,OAAL,CAAapC,CAAb,GAAiB,CAAjB;AACA,aAAKoC,OAAL,CAAaE,KAAb,GAAqB,IAAI1E,GAAG2E,KAAP,CAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAArB;AACA,aAAKH,OAAL,CAAaI,KAAb,GAAqB,GAArB;AACA,aAAKC,aAAL,GAAqB,IAArB;AACA,YAAG,KAAK/C,MAAR,EAAe;AACX,iBAAK0C,OAAL,CAAaM,MAAb,GAAsB,CAAC,CAAvB;AACA,iBAAKN,OAAL,CAAaO,MAAb,GAAsB,CAAC,CAAvB;AACA,iBAAKP,OAAL,CAAaQ,OAAb,GAAuB,CAAvB;AACA,iBAAKR,OAAL,CAAaS,OAAb,GAAuB,GAAvB;AACA,iBAAK1E,cAAL,CAAoB2E,QAApB,CAA6B,KAAKV,OAAlC;AACA,iBAAKK,aAAL,GAAqB7E,GAAGmF,WAAH,CAAe,KAAKX,OAApB,CAArB;AACA,iBAAK/D,oBAAL,CAA0ByE,QAA1B,CAAmC,KAAKL,aAAxC;AACH,SARD,MASI;AACA,iBAAKL,OAAL,CAAaQ,OAAb,GAAuB,CAAvB;AACA,iBAAKR,OAAL,CAAaS,OAAb,GAAuB,GAAvB;AACA,iBAAKzE,eAAL,CAAqB0E,QAArB,CAA8B,KAAKV,OAAnC;AACA,iBAAKK,aAAL,GAAqB7E,GAAGmF,WAAH,CAAe,KAAKX,OAApB,CAArB;AACA,iBAAK9D,qBAAL,CAA2BwE,QAA3B,CAAoC,KAAKL,aAAzC;AACH;;AAED,aAAKO,eAAL,CAAqB,wBAArB,EAA+C,qBAA/C;;AAEA,aAAKC,gBAAL;;AAEA,aAAK9D,QAAL,CAAcwB,YAAd,CAA2B/C,GAAGsF,SAA9B,EAAyCC,EAAzC,CAA4C,UAA5C,EAAwD,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAxD,EAAoF,IAApF;AACA,aAAKC,IAAL,GAAY,CAAC,CAAb;AACA7F,YAAIA,IAAIM,WAAJ,GAAkB,cAAtB,IAAwCwF,WAAxC,CAAoD/D,OAApD,EAA4D,KAAKM,IAAjE;AACH,KA/HI;AAgILsD,gBAAW,sBAAU;AACjB,aAAKjE,QAAL,CAAce,MAAd,GAAuB,KAAvB;AACH,KAlII;;AAoILsD,mBAAe,yBAAU;AACrB,YAAIC,kBAAkB,KAAKpD,OAAL,CAAaG,YAAb,GAA4BkD,uBAA5B,CAAoD,iBAApD,CAAtB;AACA,YAAGD,mBAAmB,CAAtB,EAAwB;AACpB,mBAAO,KAAP;AACH;AACD,eAAO,IAAP;AACH,KA1II;AA2ILE,wBAAoB,8BAAU;AAC1B,YAAIF,kBAAkB,KAAKpD,OAAL,CAAaG,YAAb,GAA4BkD,uBAA5B,CAAoD,iBAApD,CAAtB;AACA,YAAIE,iBAAiB,EAAC,GAAG,CAAJ,EAAO,GAAG,EAAV,EAAc,GAAG,EAAjB,EAAqB,GAAG,EAAxB,EAA4B,GAAG,EAA/B,EAArB;AACA,eAAOA,eAAeH,eAAf,IAAkC,EAAzC,CAH0B,CAGkB;AAC/C,KA/II;;AAiJLI,iBAAa,qBAASC,OAAT,EAAiB;AAC1B,aAAKnC,WAAL,CAAiBzB,MAAjB,GAA0B,KAAKsD,aAAL,EAA1B;AACA,YAAG,KAAKA,aAAL,EAAH,EAAwB;AACpB,gBAAGM,UAAU,KAAKH,kBAAL,EAAb,EAAuC;AACnCG,0BAAU,KAAKH,kBAAL,EAAV;AACH;AACD,iBAAKG,OAAL,GAAeA,OAAf;AACA,iBAAKjC,UAAL,CAAgBkC,MAAhB,GAAyB,KAAKD,OAAL,GAAe,GAAxC;AACH;AACJ,KA1JI;AA2JLE,oBAAgB,wBAASC,EAAT,EAAY;AACxB,aAAKH,OAAL,IAAgBG,EAAhB;AACA,YAAIC,WAAWC,KAAKC,KAAL,CAAW,KAAKN,OAAhB,CAAf;AACA,YAAGI,WAAW,KAAKP,kBAAL,EAAd,EAAwC;AACpCU,oBAAQC,GAAR,CAAY,UAAZ,EAAuB,IAAIC,IAAJ,GAAWC,OAAX,EAAvB,EAA6C,KAAKV,OAAlD;AACAI,uBAAW,KAAKP,kBAAL,EAAX;AACA,iBAAKc,QAAL,GAAgB,KAAhB;AACH;AACD,aAAK5C,UAAL,CAAgBkC,MAAhB,GAAyBG,WAAW,GAApC;AACH,KApKI;;AAsKLQ,iBAAa,qBAASC,MAAT,EAAgB;AACzB,aAAKF,QAAL,GAAgBE,MAAhB;AACH,KAxKI;;AA0KLC,cAAS,kBAASC,MAAT,EAAgB;AACrB,aAAKzF,UAAL,CAAgBc,MAAhB,GAAyB2E,MAAzB;AACH,KA5KI;AA6KL/C,kBAAa,wBAAU;AACnB,aAAK7D,QAAL,CAAciC,MAAd,GAAuB,CAAvB;AACA,aAAK/B,cAAL,CAAoB+B,MAApB,GAA6B,CAA7B;AACA,aAAK9B,eAAL,CAAqB8B,MAArB,GAA8B,CAA9B;AACA,aAAK7B,oBAAL,CAA0B6B,MAA1B,GAAmC,CAAnC;AACA,aAAK5B,qBAAL,CAA2B4B,MAA3B,GAAoC,CAApC;AACA,aAAK3B,aAAL,CAAmB2B,MAAnB,GAA4B,CAA5B;AACA,aAAK1B,cAAL,CAAoB0B,MAApB,GAA6B,CAA7B;AACA,aAAKd,UAAL,CAAgBc,MAAhB,GAAyB,CAAzB;AACA,aAAKvB,OAAL,CAAauB,MAAb,GAAsB,CAAtB;AACA,aAAKhB,SAAL,CAAegB,MAAf,GAAwB,CAAxB;AACA,aAAKtB,SAAL,CAAesB,MAAf,GAAwB,CAAxB;AACA,aAAKlB,QAAL,CAAc+E,MAAd,GAAuB,EAAvB;AACA,aAAKxC,cAAL,CAAoBrB,MAApB,GAA6B,KAA7B;AACA,aAAKrB,OAAL,CAAaqB,MAAb,GAAsB,KAAtB;AACA,aAAKzB,SAAL,CAAeyB,MAAf,GAAwB,KAAxB;AACA,aAAKxB,QAAL,CAAcwB,MAAd,GAAuB,KAAvB;AACA,aAAKb,MAAL,CAAYa,MAAZ,GAAqB,KAArB;AACA,aAAKyB,WAAL,CAAiBzB,MAAjB,GAA0B,KAA1B;AACA,aAAKuE,QAAL,GAAgB,KAAhB;AACA,YAAIK,SAAS,KAAKhF,IAAL,CAAU0B,cAAV,CAAyB,WAAzB,EAAsCuD,QAAnD;AACA,aAAI,IAAIC,IAAE,CAAV,EAAYA,IAAEF,OAAOG,MAArB,EAA4BD,GAA5B;AACIF,mBAAOE,CAAP,EAAU9E,MAAV,GAAmB,KAAnB;AADJ;AAEH,KApMI;AAqML;AACAe,uBAAkB,2BAASiE,KAAT,EAAe;AAC7B,YAAIC,aAAaD,KAAjB;AACA,YAAIE,MAAMD,WAAW,KAAX,CAAV;AACA,YAAIE,UAAQF,WAAW,SAAX,CAAZ;AACA,YAAG1H,IAAIA,IAAIM,WAAJ,GAAkB,cAAtB,IAAwCuH,UAA3C,EAAsD;AACrD;AACG,iBAAK3G,OAAL,CAAauB,MAAb,GAAoB,CAApB;AACN,SAHE,MAGE;AACJ,gBAAGkF,OAAO,KAAKvF,SAAf,EAAyB;AACxB,oBAAGwF,WAAS,IAAZ,EAAiB;AACV,yBAAKjG,UAAL,CAAgBc,MAAhB,GAAyB,IAAzB;AACA,iBAFP,MAEW;AACJ,yBAAKd,UAAL,CAAgBc,MAAhB,GAAyB,KAAzB;AACA;AACJ;AACJ;AACD,KAtNI;;AAwNLgB,wBAAmB,4BAASgE,KAAT,EAAe;AAC9B,aAAKjC,gBAAL;AACH,KA1NI;;AA4NL9B,oBAAe,wBAAS+D,KAAT,EAAe;AAC1B,YAAIC,aAAaD,KAAjB;AACA,YAAIE,MAAMD,WAAW,KAAX,CAAV;AACA,YAAGC,OAAO,KAAKvF,SAAf,EACI,KAAKiC,YAAL;AACP,KAjOI;;AAmOLjB,oBAAe,wBAASqE,KAAT,EAAe;AAC1B,YAAG,CAAC,CAAD,IAAM,KAAKrF,SAAd,EACI;AACJ,aAAKoD,gBAAL;AACH,KAvOI;AAwOLnC,sBAAiB,0BAASoE,KAAT,EAAe;AAC5B,YAAG,CAAC,CAAD,IAAM,KAAKrF,SAAd,EACI;AACJ,YAAG,KAAKA,SAAL,IAAgBqF,MAAME,GAAzB,EAA6B;AACzB,iBAAKhG,UAAL,CAAgBc,MAAhB,GAAuB,IAAvB;AACH;AACJ,KA9OI;AA+OLa,yBAAoB,6BAASmE,KAAT,EAAe;AAC/B,YAAG,CAAC,CAAD,IAAM,KAAKrF,SAAd,EACI;AACJ,aAAKoD,gBAAL;AACH,KAnPI;;AAqPLjC,sBAAiB,0BAASkE,KAAT,EAAe;AAC5B,YAAG,CAAC,CAAD,IAAM,KAAKrF,SAAd,EACI;AACJ,YAAIsF,aAAaD,KAAjB;AACA,YAAIK,SAASJ,WAAW,QAAX,CAAb;AACA,YAAIC,MAAMD,WAAW,KAAX,CAAV;AACA,YAAIK,SAASL,WAAW,aAAX,CAAb;AACA,YAAIM,MAAMN,WAAW,KAAX,CAAV;AACA,YAAIO,SAASjI,IAAIA,IAAIM,WAAJ,GAAkB,cAAtB,IAAwC4H,eAAxC,CAAwD,KAAxD,CAAb;;AAEA,YAAIC,YAAY,KAAKC,OAAL,CAAarF,YAAb,GAA4BC,aAA5B,EAAhB;AACA,YAAIqF,aAAaF,UAAUG,oBAAV,EAAjB;AACAD,mBAAWV,GAAX,EAAgBY,WAAhB,GAA8BR,MAA9B;AACA,YAAGC,OAAOK,WAAW,KAAKjG,SAAhB,EAA2B4F,GAArC,EACI,KAAKvG,SAAL,CAAegB,MAAf,GAAwBsF,MAAxB;AACP,KApQI;;AAsQL;AACAS,yBAAoB,+BAAY;AAC5B,YAAG,CAAC,CAAD,IAAM,KAAKpG,SAAd,EACI;AACJ,aAAKqG,YAAL,CAAkB,wBAAlB,EAA4C,qBAA5C,EAAmE,qBAAnE;AACH,KA3QI;;AA6QL;AACAC,cAAS,kBAAUlC,EAAV,EAAc;AACnB,YAAG,KAAKQ,QAAR,EAAiB;AACb,iBAAKT,cAAL,CAAoBC,EAApB;AACH;AACD,YAAG,CAAC,CAAD,IAAM,KAAKpE,SAAd,EACI;AACJ,YAAIyD,OAAO,IAAIiB,IAAJ,GAAWC,OAAX,EAAX;AACA,YAAG,KAAKlB,IAAR,EAAa;AACT,gBAAG,KAAKA,IAAL,GAAYA,IAAf,EAAoB;AAChB,qBAAKnF,cAAL,CAAoB+B,MAApB,GAA2B,CAA3B;AACA,qBAAK9B,eAAL,CAAqB8B,MAArB,GAA4B,CAA5B;AACA,qBAAK7B,oBAAL,CAA0B6B,MAA1B,GAAmC,CAAnC;AACA,qBAAK5B,qBAAL,CAA2B4B,MAA3B,GAAoC,CAApC;AACA;AACH;AACD,gBAAG,CAAC,KAAKN,aAAT,EAAuB;AACnB,oBAAG,KAAKwG,WAAR,EAAoB;AAChB,yBAAKjI,cAAL,CAAoB+B,MAApB,GAA6B,CAA7B;AACH,iBAFD,MAEK;AACD,yBAAK9B,eAAL,CAAqB8B,MAArB,GAA8B,CAA9B;AACH;AACJ,aAND,MAOI;AACA,oBAAG,KAAKkG,WAAR,EAAoB;AAChB,yBAAK/H,oBAAL,CAA0B6B,MAA1B,GAAmC,CAAnC;AACH,iBAFD,MAEK;AACD,yBAAK5B,qBAAL,CAA2B4B,MAA3B,GAAoC,CAApC;AACH;AACJ;AACJ;AACJ,KA5SI;;AA8SL;AACAmG,0BAAqB,gCAAU;AAC3B,aAAKrD,eAAL,CAAqB,wBAArB,EAA+C,qBAA/C;AACH,KAjTI;;AAmTLsD,qBAAgB,yBAAUC,OAAV,EAAmB;AAC/B,YAAInE,UAAU,IAAd;AACA,YAAG,CAAC,KAAKxC,aAAT,EACIwC,UAAU,KAAKA,OAAf,CADJ,KAGIA,UAAU,KAAKK,aAAf;AACJ,YAAI+D,UAAUpE,QAAQzB,YAAR,CAAqB/C,GAAGmB,KAAxB,CAAd;AACAyH,gBAAQC,QAAR,GAAmB7I,GAAGmB,KAAH,CAAS2H,QAAT,CAAkBC,IAArC;AACAH,gBAAQI,eAAR,GAA0BhJ,GAAGmB,KAAH,CAAS8H,eAAT,CAAyBC,IAAnD;AACAN,gBAAQO,aAAR,GAAwBnJ,GAAGmB,KAAH,CAASiI,aAAT,CAAuBC,MAA/C;AACAT,gBAAQU,QAAR,GAAmB,EAAnB;AACAV,gBAAQW,UAAR,GAAqB,EAArB;AACAX,gBAAQzC,MAAR,GAAiBwC,OAAjB;AACA,YAAI/D,QAAQ,KAAKJ,OAAL,CAAaI,KAAzB;AACA,YAAI4E,WAAW5E,QAAQ,EAAvB;AACA,YAAGA,SAAS,GAAZ,EAAgB;AACZ4E,uBAAW,GAAX;AACAZ,oBAAQC,QAAR,GAAmB7I,GAAGmB,KAAH,CAAS2H,QAAT,CAAkBW,aAArC;AACAjF,oBAAQI,KAAR,GAAgB,GAAhB;AACH;AACD,YAAG,CAAC,KAAK5C,aAAT,EAAuB;AACnB,iBAAKvB,oBAAL,CAA0B6B,MAA1B,GAAmC,CAAnC;AACA,iBAAK5B,qBAAL,CAA2B4B,MAA3B,GAAoC,CAApC;AACA,gBAAG,KAAKkG,WAAR,EAAoB;AAChB,qBAAKjI,cAAL,CAAoB+B,MAApB,GAA6B,CAA7B;AACA,qBAAK9B,eAAL,CAAqB8B,MAArB,GAA8B,CAA9B;AACA,qBAAK/B,cAAL,CAAoBqE,KAApB,GAA4B4E,QAA5B;AACH,aAJD,MAKI;AACA,qBAAKjJ,cAAL,CAAoB+B,MAApB,GAA6B,CAA7B;AACA,qBAAK9B,eAAL,CAAqB8B,MAArB,GAA8B,CAA9B;AACA,qBAAK9B,eAAL,CAAqBoE,KAArB,GAA6B4E,QAA7B;AACH;AACJ,SAbD,MAcI;AACA,iBAAKjJ,cAAL,CAAoB+B,MAApB,GAA6B,CAA7B;AACA,iBAAK9B,eAAL,CAAqB8B,MAArB,GAA8B,CAA9B;AACA,gBAAG,KAAKkG,WAAR,EAAoB;AAChB,qBAAK/H,oBAAL,CAA0B6B,MAA1B,GAAmC,CAAnC;AACA,qBAAK5B,qBAAL,CAA2B4B,MAA3B,GAAoC,CAApC;AACA,qBAAK7B,oBAAL,CAA0BmE,KAA1B,GAAkC4E,QAAlC;AACH,aAJD,MAKI;AACA,qBAAK/I,oBAAL,CAA0B6B,MAA1B,GAAmC,CAAnC;AACA,qBAAK5B,qBAAL,CAA2B4B,MAA3B,GAAoC,CAApC;AACA,qBAAK5B,qBAAL,CAA2BkE,KAA3B,GAAmC4E,QAAnC;AACH;AACJ;AACD,aAAK9D,IAAL,GAAY,IAAIiB,IAAJ,GAAWC,OAAX,KAAuB,IAAnC;AACH,KApWI;AAqWL8C,qBAAgB,yBAASC,IAAT,EAAc;AAC1B,aAAKpI,QAAL,CAAce,MAAd,GAAuB,IAAvB;AACA,YAAIsH,YAAY,KAAKrI,QAAL,CAAcwB,YAAd,CAA2B/C,GAAGsF,SAA9B,EAAyCuE,IAAzC,CAA8CF,IAA9C,CAAhB;AACAC,kBAAUE,WAAV,GAAwB,CAAxB;AACH,KAzWI;;AA2WLC,kBAAa,sBAASnC,MAAT,EAAgB;AACzB,aAAKtG,SAAL,CAAegB,MAAf,GAAwBsF,MAAxB;AACH,KA7WI;;AA+WLoC,sBAAiB,4BAAY;AACzB,YAAG,KAAKC,YAAR,EAAqB;AACjB,iBAAKtJ,aAAL,CAAmB2B,MAAnB,GAA4B,CAA5B;AACA,iBAAK1B,cAAL,CAAoB0B,MAApB,GAA6B,CAA7B;AACA,iBAAK4H,cAAL,GAAuB,KAAKvJ,aAAL,CAAmBoC,YAAnB,CAAgC/C,GAAGsF,SAAnC,CAAvB;AACH,SAJD,MAKI;AACA,iBAAK3E,aAAL,CAAmB2B,MAAnB,GAA4B,CAA5B;AACA,iBAAK1B,cAAL,CAAoB0B,MAApB,GAA6B,CAA7B;AACA,iBAAK4H,cAAL,GAAuB,KAAKtJ,cAAL,CAAoBmC,YAApB,CAAiC/C,GAAGsF,SAApC,CAAvB;AACH;;AAED,aAAK4E,cAAL,CAAoBC,IAApB;AACA,aAAKD,cAAL,CAAoBL,IAApB,CAAyB,aAAzB;AACH,KA7XI;;AA+XLO,uBAAkB,6BAAU;AACxB,YAAG,KAAKF,cAAR,EAAwB,KAAKA,cAAL,CAAoBC,IAApB;;AAExB,aAAKxJ,aAAL,CAAmB2B,MAAnB,GAA4B,CAA5B;AACA,aAAK1B,cAAL,CAAoB0B,MAApB,GAA6B,CAA7B;AACH,KApYI;;AAsYL+H,aAAQ,mBAAU;AACd,aAAKnG,YAAL;AACA,aAAK9C,QAAL,CAAc+E,MAAd,GAAuB,EAAvB;AACA,aAAKxC,cAAL,CAAoBrB,MAApB,GAA6B,KAA7B;AACA,aAAKrB,OAAL,CAAaqB,MAAb,GAAsB,KAAtB;AACA,aAAKX,KAAL,GAAa,CAAC,CAAd;AACA,aAAKM,SAAL,GAAiB,CAAC,CAAlB;AACA,aAAKI,UAAL,GAAkB,IAAlB;AACAxC,YAAIA,IAAIM,WAAJ,GAAkB,QAAtB,EAAgCmK,gBAAhC,CAAiD,IAAjD;AACH,KA/YI;AAgZLhG,gBAAW,oBAASxC,MAAT,EAAgB;AACvB,YAAIyI,YAAY,KAAK9H,OAAL,CAAaG,YAAb,GAA4BC,aAA5B,GAA4C2H,YAA5C,EAAhB;AACA,YAAG,KAAKvI,SAAL,IAAkBsI,SAArB,EAA+B;AAC3B,iBAAK1G,QAAL,CAAc1B,CAAd,GAAkB,GAAlB;AACA,iBAAK0B,QAAL,CAAczB,CAAd,GAAkB,CAAC,EAAnB;AACA,iBAAKuB,cAAL,CAAoBxB,CAApB,GAAwB,GAAxB;AACA,iBAAKwB,cAAL,CAAoBvB,CAApB,GAAwB,CAAC,EAAzB;AACA,iBAAK0B,OAAL,CAAaxB,MAAb,GAAsB,KAAtB;AACA,iBAAKpB,OAAL,CAAagB,IAAb,CAAkBC,CAAlB,GAAsB,GAAtB;AACA,iBAAKjB,OAAL,CAAagB,IAAb,CAAkBE,CAAlB,GAAsB,CAAC,EAAvB;AACA,iBAAKlB,OAAL,CAAaoI,QAAb,GAAwB,EAAxB;;AAEA,iBAAK9H,UAAL,CAAgBW,CAAhB,GAAoB,GAApB;AACA,iBAAKX,UAAL,CAAgBY,CAAhB,GAAoB,EAApB;AACA;AACA;AACH,SAdD,MAcK;AACD,iBAAKyB,QAAL,CAAc1B,CAAd,GAAkB,CAAlB;AACA,iBAAK0B,QAAL,CAAczB,CAAd,GAAkB,CAAC,EAAnB;AACA,iBAAKuB,cAAL,CAAoBxB,CAApB,GAAwB,CAAxB;AACA,iBAAKwB,cAAL,CAAoBvB,CAApB,GAAwB,CAAC,GAAzB;AACA,iBAAK0B,OAAL,CAAaxB,MAAb,GAAsB,IAAtB;AACA,iBAAKpB,OAAL,CAAagB,IAAb,CAAkBC,CAAlB,GAAsB,CAAtB;AACA,iBAAKjB,OAAL,CAAagB,IAAb,CAAkBE,CAAlB,GAAsB,CAAC,EAAvB;AACA,iBAAKlB,OAAL,CAAaoI,QAAb,GAAwB,EAAxB;;AAEA,gBAAGxH,MAAH,EAAU;AACN,qBAAKmI,YAAL,GAAoB,IAApB;AACA,qBAAKzB,WAAL,GAAmB,IAAnB;AACA,qBAAKhH,UAAL,CAAgBW,CAAhB,GAAoB,KAAKgC,IAAL,CAAUhC,CAAV,GAAc,EAAlC;AACA,qBAAKX,UAAL,CAAgBY,CAAhB,GAAoB,KAAK+B,IAAL,CAAU/B,CAA9B;AACA;AACA;AACH,aAPD,MAQI;AACA,qBAAK6H,YAAL,GAAoB,KAApB;AACA,qBAAKzB,WAAL,GAAmB,KAAnB;AACA,qBAAKhH,UAAL,CAAgBW,CAAhB,GAAoB,KAAKiC,KAAL,CAAWjC,CAAX,GAAe,EAAnC;AACA,qBAAKX,UAAL,CAAgBY,CAAhB,GAAoB,KAAKgC,KAAL,CAAWhC,CAA/B;AACA;AACA;AACH;AACJ;AAEJ,KA5bI;AA6bLqB,oBAAe,wBAAS6D,KAAT,EAAe;AAC1B,YAAIC,aAAaD,KAAjB;AACA,YAAImD,QAAQlD,WAAW,OAAX,CAAZ;AACA,YAAIC,MAAMD,WAAW,KAAX,CAAV;AACAd,gBAAQC,GAAR,CAAY,0BAAyB+D,KAAzB,GAAgC,OAAhC,GAA0CjD,GAAtD;AACA,YAAGiD,KAAH,EAAS;AACL,gBAAGjD,OAAO,KAAKvF,SAAf,EACI;AACJ,iBAAK+H,gBAAL;AACH,SAJD,MAMI,KAAKI,iBAAL;AACP,KAzcI;AA0cL5G,wBAAmB,4BAAS8D,KAAT,EAAe;AAC9B,YAAG,CAAC,CAAD,IAAM,KAAKrF,SAAd,EACI;AACJ,YAAIyI,OAAOpD,KAAX;AACA,YAAGoD,KAAKD,KAAR,EACI,KAAKE,YAAL,GADJ,KAGI,KAAK3J,SAAL,CAAesB,MAAf,GAAwB,KAAxB;AACP,KAldI;AAmdLqI,kBAAa,wBAAU;AACnB,YAAIC,OAAO,KAAK3C,OAAL,CAAarF,YAAb,EAAX;AACA,YAAIiI,QAAQD,KAAKE,eAAL,CAAqB,OAArB,CAAZ;AACA,aAAKrJ,MAAL,CAAYa,MAAZ,GAAqB,KAArB;AACA,YAAGuI,SAAS,KAAKE,WAAL,CAAiBC,cAA7B,EAA4C;AACxC,iBAAKhK,SAAL,CAAesB,MAAf,GAAwB,KAAxB;AACH,SAFD,MAGI;AACA,gBAAI2I,UAAUL,KAAKM,UAAL,EAAd;AACA,gBAAIC,OAAO,CAAC,CAAZ;AACA,gBAAGF,OAAH,EAAW;AACP,oBAAGA,QAAQG,cAAR,GAAyBC,cAAzB,CAAwC,WAAxC,CAAH,EAAwD;AACpDF,2BAAOF,QAAQK,kBAAR,CAA2B,WAA3B,CAAP;AACH,iBAFD,MAEK;AACDH,2BAAOF,QAAQM,QAAR,CAAiBJ,IAAxB;AACH;AACJ,aAND,MAOI;AACA,oBAAGP,KAAKE,eAAL,CAAqB,KAArB,EAA4BU,SAA/B,EACIL,OAAOP,KAAKE,eAAL,CAAqB,KAArB,EAA4BU,SAA5B,CAAsCC,SAA7C,CADJ,KAGIN,OAAOP,KAAKE,eAAL,CAAqB,KAArB,EAA4BW,SAAnC;AACP;AACD,gBAAIC,SAAS,KAAb;AACA,gBAAGP,QAAQ,KAAKlJ,SAAhB,EAA0B;AACtByJ,yBAAS,IAAT;AACA,qBAAKjK,MAAL,CAAYa,MAAZ,GAAqB,IAArB;AACH;AACD;AACA,iBAAKtB,SAAL,CAAesB,MAAf,GAAwBoJ,MAAxB;AACH;AACJ,KAlfI;AAmfL;AACArG,sBAAiB,4BAAU;AACvB,aAAK4C,OAAL,GAAepI,IAAIA,IAAIM,WAAJ,CAAgBuC,WAAhB,KAA8B,SAAlC,GAAf;AACA,YAAIkI,OAAO,KAAK3C,OAAL,CAAarF,YAAb,EAAX;AACA,YAAIiI,QAAQD,KAAKE,eAAL,CAAqB,OAArB,CAAZ;AACA,YAAIa,WAAS,CAAb;AACA,YAAGd,SAAO,KAAKE,WAAL,CAAiBa,iBAAxB,IACAf,SAAO,KAAKE,WAAL,CAAiBc,iBADxB,IAEAhB,SAAO,KAAKE,WAAL,CAAiBe,mBAF3B,EAE+C;AAC3C;AACAH,uBAAWf,KAAKM,UAAL,GAAkBI,kBAAlB,CAAqC,OAArC,CAAX;AACH;AACD,YAAIS,gBAAgB,IAApB;AACA,YAAIC,eAAe,CAAnB;AACAD,wBAAcnB,KAAK/H,aAAL,GAAqBsF,oBAArB,EAAd;AACA6D,uBAAeD,cAAc1E,MAA7B;AACA,YAAG,KAAKpF,SAAL,IAAkB+J,YAArB,EAAkC;AAC9B,iBAAKC,MAAL,CAAY,+CAAZ;AACA;AACH;AACD,aAAK5J,UAAL,GAAkB0J,cAAc,KAAK9J,SAAnB,CAAlB;AACA;AACA,YAAG,CAAC,KAAKI,UAAN,IAAoB,KAAK,KAAKA,UAAL,CAAgBwF,GAA5C,EAAgD;AAC5CpB,oBAAQC,GAAR,CAAY,SAAZ;AACA,iBAAKxC,YAAL;AACA;AACH;AACD;AACA,YAAGyH,YAAU,KAAKZ,WAAL,CAAiBmB,gBAA3B,IACAP,YAAU,KAAKZ,WAAL,CAAiBoB,gBAD3B,IAEAR,YAAU,KAAKZ,WAAL,CAAiBqB,kBAF9B,EAEiD;AAC7C;AACA,iBAAK5K,UAAL,CAAgBc,MAAhB,GAAuB,KAAvB;AACH,SALD,MAKK;AACD,gBAAGzC,IAAIA,IAAIM,WAAJ,GAAkB,cAAtB,IAAwCuH,UAA3C,EAAsD;AAClD,qBAAKlG,UAAL,CAAgBc,MAAhB,GAAuB,IAAvB;AACH,aAFD,MAEK;AACD,oBAAGuI,SAAO,KAAKE,WAAL,CAAiBC,cAA3B,EAA0C;AACtC,wBAAG,KAAK3I,UAAL,CAAgBgK,SAAnB,EAA6B;AACzB,6BAAK7K,UAAL,CAAgBc,MAAhB,GAAuB,IAAvB;AACH,qBAFD,MAEK;AACD,6BAAKd,UAAL,CAAgBc,MAAhB,GAAuB,KAAvB;AACH;AACJ,iBAND,MAMK;AACD,wBAAG,KAAKD,UAAL,CAAgBiK,SAAnB,EAA6B;AACzB,6BAAK9K,UAAL,CAAgBc,MAAhB,GAAuB,IAAvB;AACH,qBAFD,MAEK;AACD,6BAAKd,UAAL,CAAgBc,MAAhB,GAAuB,KAAvB;AACH;AACJ;AACJ;AACJ;AACD;AACA,YAAGuI,SAAS,KAAKE,WAAL,CAAiBC,cAA7B,EAA4C;AACxC,iBAAKjK,OAAL,CAAauB,MAAb,GAAsB,KAAtB;AACH;;AAED;AACA,aAAKiK,kBAAL,CAAwB3B,IAAxB;;AAEA;AACA,aAAKD,YAAL;AACH,KAjjBI;AAkjBL6B,gBAAW,sBAAU;AACjB,YAAI5B,OAAO,KAAK3C,OAAL,CAAarF,YAAb,EAAX;AACA,YAAIiI,QAAQD,KAAKE,eAAL,CAAqB,OAArB,CAAZ;AACA,YAAGD,SAAS,KAAKE,WAAL,CAAiBC,cAA7B,EACI;AACJ,YAAGJ,KAAK6B,iBAAL,MAA0B,KAA1B,IAAmC7B,KAAK8B,eAAL,MAAwB,KAA9D,EAAoE;AAChE,iBAAK3L,OAAL,CAAauB,MAAb,GAAoB,KAApB;AACA;AACH;AACD,YAAG,KAAKD,UAAL,CAAgBwF,GAAhB,IAAsB,KAAK8E,QAA9B,EAAuC;AACnC,iBAAK5L,OAAL,CAAauB,MAAb,GAAoB,KAApB;AACH,SAFD,MAEK;AACD,iBAAKvB,OAAL,CAAauB,MAAb,GAAoB,IAApB;AACH;AACJ,KAhkBI;AAikBLsK,gBAAW,sBAAU;AACjB,aAAK7L,OAAL,CAAauB,MAAb,GAAoB,KAApB;AACH,KAnkBI;AAokBL;AACAiK,wBAAmB,4BAAU3B,IAAV,EAAgB;AAC/B,aAAKvK,QAAL,CAAciC,MAAd,GAAuB,CAAvB;AACA;AACA,YAAIuF,MAAM,KAAKxF,UAAL,CAAgBwF,GAA1B;AACA,YAAGA,GAAH,EAAO;AACH,iBAAK/E,eAAL,CAAqB+J,YAArB,CAAkChF,GAAlC;AACH;;AAED;AACA,YAAI8E,WAAW/B,KAAKE,eAAL,CAAqB,SAArB,CAAf;AACA,YAAIgC,aAAa,KAAjB;AACA,aAAKH,QAAL,GAAcA,QAAd;AACA,aAAKC,UAAL;AACA,YAAG,KAAKvK,UAAL,CAAgBwF,GAAhB,IAAuB8E,QAA1B,EAAmC;AAC/BG,yBAAa,IAAb;AACH,SAFD,MAEK;AACD,iBAAKN,UAAL;AACH;;AAED,YAAG3M,IAAIA,IAAIM,WAAJ,GAAkB,cAAtB,IAAwCuH,UAA3C,EAAsD;AAClD,iBAAKzG,OAAL,CAAaqB,MAAb,GAAsB,KAAtB;AACA,iBAAKvB,OAAL,CAAauB,MAAb,GAAsB,KAAtB;AACH,SAHD,MAII;AACA,iBAAKrB,OAAL,CAAaqB,MAAb,GAAsBwK,UAAtB;AACH;;AAED;AACA,YAAG,KAAKzK,UAAL,CAAgB0K,aAAnB,EACI,KAAKlM,SAAL,CAAeyB,MAAf,GAAwB,CAAxB,CADJ,KAGI,KAAKzB,SAAL,CAAeyB,MAAf,GAAwB,CAAxB;AACJ;AACA,YAAG,KAAKD,UAAL,CAAgB2K,WAAhB,IAA+B,CAAC,KAAK3K,UAAL,CAAgB0K,aAAnD,EACI,KAAKjM,QAAL,CAAcwB,MAAd,GAAuB,CAAvB,CADJ,KAGI,KAAKxB,QAAL,CAAcwB,MAAd,GAAuB,CAAvB;AACJ;AACA,aAAK2K,cAAL;AACA;AACA,YAAI,OAAO,KAAK5K,UAAL,CAAgB,aAAhB,CAAP,IAAwC,WAA5C,EAAyD;AACrD,iBAAK6K,oBAAL;AACH,SAFD,MAEK;AACD,iBAAKvJ,cAAL,CAAoBrB,MAApB,GAA6B,KAA7B;AACH;;AAED;AACA;AACA,aAAKpB,OAAL,CAAaiF,MAAb,GAAsB,KAAK9D,UAAL,CAAgBgC,IAAtC;AAEH,KAvnBI;AAwnBL4I,oBAAe,0BAAY;AACvB,YAAIE,iBAAiB,CAArB;AACA,YAAIC,kBAAkB,CAAtB;AACA,aAAKC,OAAL,GAAe,KAAK5K,OAAL,CAAaG,YAAb,GAA4B0K,aAA5B,EAAf;AACA,YAAG,KAAKjL,UAAR,EAAmB;AACf8K,6BAAiB,KAAK9K,UAAL,CAAgBR,KAAjC;AACAuL,8BAAkB,KAAK/K,UAAL,CAAgBkL,SAAlC;AACH;AACD,YAAI,QAAO,KAAKF,OAAL,CAAaG,OAApB,KAAgCC,SAAhC,IAA6C,KAAKJ,OAAL,CAAaG,OAAb,GAAuB,CAAxE,EAA2E;AACvE,iBAAKpM,QAAL,CAAc+E,MAAd,GAAuBiH,eAAvB;AACA,gBAAIM,SAAS,KAAKjL,OAAL,CAAaG,YAAb,GAA4BkD,uBAA5B,CAAoD,QAApD,CAAb;AACA,gBAAI4H,SAAS,CAAT,IAAc,mBAAmB,KAAKrL,UAA1C,EAAsD;AAClD,qBAAKjB,QAAL,CAAc+E,MAAd,GAAuB,KAAK9D,UAAL,CAAgBsL,aAAhB,GAAgC,MAAvD;AACH;AACJ,SAND,MAMK;AACD,iBAAKvM,QAAL,CAAc+E,MAAd,GAAuBgH,cAAvB;AACH;AACJ,KAzoBI;AA0oBLzJ,6BAAwB,iCAAS4D,KAAT,EAAe;AACnC,YAAIK,SAAS,KAAKlF,OAAL,CAAamL,cAAb,EAAb;AACA,YAAIpG,MAAM,KAAKnF,UAAL,CAAgBmF,GAA1B;AACA,YAAIK,MAAM,KAAKxF,UAAL,CAAgBwF,GAA1B;AACA,YAAIP,MAAMK,MAAN,IAAgBA,MAAhB,IACAL,MAAMuG,KAAN,IAAerG,GADf,IAEAF,MAAMO,GAAN,IAAaA,GAFjB,EAEsB;AAClB;AACH;AACD,aAAKqF,oBAAL;AACH,KAppBI;AAqpBLA,0BAAqB,gCAAY;AAC7B,YAAIY,cAAc,CAAlB;AACA,YAAG,KAAKzL,UAAL,IAAmB,OAAO,KAAKA,UAAL,CAAgB,aAAhB,CAAP,IAAwC,WAA9D,EAA0E;AACtEyL,0BAAc,KAAKzL,UAAL,CAAgByL,WAA9B;AACA,gBAAIvD,YAAY,KAAK9H,OAAL,CAAaG,YAAb,GAA4BC,aAA5B,GAA4C2H,YAA5C,EAAhB;AACA,gBAAID,aAAa,KAAKlI,UAAL,CAAgBmF,GAAjC,EAAsC;AAClCsG,8BAAc,KAAKzL,UAAL,CAAgByL,WAA9B;AACA,qBAAKnK,cAAL,CAAoBC,cAApB,CAAmC,gBAAnC,EAAqDb,YAArD,CAAkE/C,GAAGmB,KAArE,EAA4EgF,MAA5E,GAAqF2H,WAArF;AACA,qBAAKnK,cAAL,CAAoBrB,MAApB,GAA6B,IAA7B;AACH,aAJD,MAIO;AACH,qBAAKqB,cAAL,CAAoBC,cAApB,CAAmC,gBAAnC,EAAqDb,YAArD,CAAkE/C,GAAGmB,KAArE,EAA4EgF,MAA5E,GAAqF,EAArF;AACA,qBAAKxC,cAAL,CAAoBrB,MAApB,GAA6B,KAA7B;AACH;AACJ;AAEJ,KApqBI;AAqqBL;AACA;AACAyL,aAAQ,iBAASC,OAAT,EAAkBC,OAAlB,EAA0B;AAC9BxH,gBAAQC,GAAR,CAAY,kBAAZ,EAA+BsH,OAA/B;AACA,YAAGA,WAAW,UAAd,EAAyB;AACrB,iBAAKE,cAAL;AACH,SAFD,MAGK,IAAGF,WAAW,SAAd,EAAwB;AACzB,iBAAKG,aAAL;AACH,SAFI,MAGD;AACA,iBAAKlC,MAAL,CAAY,0BAAZ,EAAwC+B,OAAxC;AACH;AACJ,KAlrBI;;AAorBLE,oBAAe,0BAAU;AACrB,aAAKE,WAAL,CAAiBC,QAAjB,CAA0BxO,IAAIM,WAAJ,GAAkB,aAA5C,EAA0D,KAAK8B,SAA/D;AACH,KAtrBI;;AAwrBLkM,mBAAc,yBAAU;AACpB,YAAIvD,OAAO,KAAKnI,OAAL,CAAaG,YAAb,EAAX;AACA,YAAIiI,QAAQD,KAAKE,eAAL,CAAqB,OAArB,CAAZ;AACA,YAAGD,SAAS,KAAKE,WAAL,CAAiBa,iBAA1B,IAA+Cf,SAAS,KAAKE,WAAL,CAAiBa,iBAA5E,EAA8F;AAC1F/L,gBAAIA,IAAIM,WAAJ,GAAkB,mBAAtB,IAA6CmO,UAA7C,CAAwDzO,IAAIM,WAAJ,CAAgBuC,WAAhB,KAA8B,cAAtF;AACH,SAFD,MAEK;AACD,gBAAIiF,SAAS,KAAKlF,OAAL,CAAamL,cAAb,EAAb;AACA/N,gBAAIA,IAAIM,WAAJ,GAAkB,cAAtB,IAAwCoO,gBAAxC,CAAyD5G,MAAzD,EAAiE,KAAK1F,SAAtE;AACH;AACJ;;AAjsBI,CAAT","file":"pdk_XiuXUIPublicHead.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\game\\PDK","sourcesContent":["var app = require(\"pdk_app\");\r\nconst { t } = require(\"../../i18n/i18n\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        touxiang:cc.Node,\r\n        sp_chatdi_left:cc.Node,\r\n        sp_chatdi_right:cc.Node,\r\n        sp_chatdi_leftBottom:cc.Node,\r\n        sp_chatdi_rightBottom:cc.Node,\r\n        sp_audio_left:cc.Node,\r\n        sp_audio_right:cc.Node,\r\n        sp_lixian:cc.Node,\r\n        sp_likai:cc.Node,\r\n        btn_out:cc.Node,\r\n\r\n        zhuangjia:cc.Node,\r\n        fangzhu:cc.Node,\r\n\r\n        lb_name:cc.Label,\r\n        lb_jifen:cc.Label,\r\n        btn_head:cc.Node,\r\n        icon_auto:cc.Node,\r\n        face_ani:cc.Node,\r\n        icon_ready:cc.Node,\r\n        bg_box:cc.Node,\r\n        \r\n    },\r\n\r\n    Init: function (uiPos,dataPos,point,isLeft=-1,bResetPoint=true,useBottomChat=false) {\r\n        this.uiPos = uiPos\r\n        this.playerPos = dataPos\r\n        if(bResetPoint){\r\n            this.node.x = point.x;\r\n            this.node.y = point.y; \r\n            if(isLeft==-1){\r\n                if(point.x>0){\r\n                    this.isLeft=true;\r\n                }else{\r\n                    this.isLeft=false;\r\n                }\r\n            }\r\n            else{\r\n                if(isLeft){\r\n                    this.isLeft=true;\r\n                }\r\n                else{\r\n                    this.isLeft=false;\r\n                }\r\n            }\r\n        }\r\n        this.playerInfo = null;\r\n        if(-1 == this.playerPos){\r\n            this.node.active = false;\r\n            return;\r\n        }\r\n        if(!this.bIsInitBaseEnd){\r\n            this.bIsInitBaseEnd = true;\r\n            this.InitBaseData();\r\n        }\r\n\r\n        this.node.active = true;\r\n        this.RoomMgr = app[app.subGameName.toUpperCase()+\"RoomMgr\"]();\r\n        this.RoomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n        this.WeChatHeadImage = this.btn_head.getComponent(app.subGameName + \"_WeChatHeadImage\");\r\n        app[app.subGameName + \"Client\"].RegEvent(\"SetStart\", this.Event_SetStart,this);\r\n        app[app.subGameName + \"Client\"].RegEvent(\"PosContine\", this.Event_PosContine,this);\r\n        app[app.subGameName + \"Client\"].RegEvent(\"PlayerOffline\", this.Event_PlayerOffline,this);\r\n        app[app.subGameName + \"Client\"].RegEvent(\"SPlayer_Trusteeship\", this.OnPack_AutoStart, this);\r\n        app[app.subGameName + \"Client\"].RegEvent(\"Head_PosReadyChg\", this.Event_PosReadyChg,this);\r\n        app[app.subGameName + \"Client\"].RegEvent(\"Head_PosUpdate\", this.Event_PosPosUpdate,this);\r\n        app[app.subGameName + \"Client\"].RegEvent(\"Head_PosLeave\", this.Event_PosLeave,this);\r\n        app[app.subGameName + \"Client\"].RegEvent(\"Head_UpdateBacker\",this.Event_UpdateBacker,this);\r\n        app[app.subGameName + \"Client\"].RegEvent(\"Head_AudioNtf\",this.Event_AudioNtf,this);\r\n        app[app.subGameName + \"Client\"].RegEvent(\"RoomSportsPointChange\",this.Event_SportsPointChange,this);\r\n        //获取控件\r\n        this.bg_SportsPoint = this.node.getChildByName(\"touxiang\").getChildByName(\"sp_info\").getChildByName(\"bg_SportsPoint\");\r\n\r\n        this.bg_jifen = this.node.getChildByName(\"touxiang\").getChildByName(\"sp_info\").getChildByName(\"bg_jifen\");\r\n        \r\n        this.bg_name = this.node.getChildByName(\"touxiang\").getChildByName(\"sp_info\").getChildByName(\"bg_name\");\r\n\r\n        this.useTimeNode = this.GetWndNode(\"touxiang/useTimeNode\");\r\n        this.lb_useTime = this.GetWndNode(\"touxiang/useTimeNode/lb_useTime\").getComponent(cc.Label);\r\n\r\n        this.HideAllChild();\r\n        this.left = {x:-99,y:0};\r\n        this.right = {x:99,y:0};\r\n        this.node.name = 'XiuXUIPublicHead' + this.uiPos;\r\n        this.SetItemPos(this.isLeft);\r\n\r\n        this.useBottomChat = useBottomChat;\r\n        this.sp_chatdi_left.removeAllChildren();\r\n        this.sp_chatdi_right.removeAllChildren();\r\n        this.sp_chatdi_leftBottom.removeAllChildren();\r\n        this.sp_chatdi_rightBottom.removeAllChildren();\r\n        this.msgNode = new cc.Node();\r\n        this.msgNode.name = \"chat_msg\";\r\n        this.msgNode.addComponent(cc.Label);\r\n        this.msgNode.x = 51;\r\n        this.msgNode.y = 0;\r\n        this.msgNode.color = new cc.Color(90, 76, 79);\r\n        this.msgNode.width = 280;\r\n        this.bottomMsgNode = null;\r\n        if(this.isLeft){\r\n            this.msgNode.scaleX = -1;\r\n            this.msgNode.scaleY = -1;\r\n            this.msgNode.anchorX = 1;\r\n            this.msgNode.anchorY = 0.5;\r\n            this.sp_chatdi_left.addChild(this.msgNode);\r\n            this.bottomMsgNode = cc.instantiate(this.msgNode);\r\n            this.sp_chatdi_leftBottom.addChild(this.bottomMsgNode);\r\n        }\r\n        else{\r\n            this.msgNode.anchorX = 0;\r\n            this.msgNode.anchorY = 0.5;\r\n            this.sp_chatdi_right.addChild(this.msgNode);\r\n            this.bottomMsgNode = cc.instantiate(this.msgNode);\r\n            this.sp_chatdi_rightBottom.addChild(this.bottomMsgNode);\r\n        }\r\n        \r\n        this.DeleteWndEffect(\"touxiang/btn_headkuang\", \"touxiangkuangtexiao\");\r\n\r\n        this.UpdatePlayerInfo();\r\n\r\n        this.face_ani.getComponent(cc.Animation).on('finished', this.onFinished.bind(this), this);\r\n        this.time = -1;\r\n        app[app.subGameName + \"_HeadManager\"]().SetHeadInfo(dataPos,this.node);\r\n    },\r\n    onFinished:function(){\r\n        this.face_ani.active = false;\r\n    },\r\n\r\n    IsRoomXianShi: function(){\r\n        let fangjianxianshi = this.RoomMgr.GetEnterRoom().GetRoomConfigByProperty(\"fangjianxianshi\");\r\n        if(fangjianxianshi == 0){\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    GetRoomXianShiTime: function(){\r\n        let fangjianxianshi = this.RoomMgr.GetEnterRoom().GetRoomConfigByProperty(\"fangjianxianshi\");\r\n        let roomXianShiObj = {1: 8, 2: 10, 3: 12, 4: 15, 5: 20}\r\n        return roomXianShiObj[fangjianxianshi] * 60;//分钟转换秒数\r\n    },\r\n\r\n    ShowUseTime: function(useTime){\r\n        this.useTimeNode.active = this.IsRoomXianShi();\r\n        if(this.IsRoomXianShi()){\r\n            if(useTime > this.GetRoomXianShiTime()){\r\n                useTime = this.GetRoomXianShiTime();\r\n            }\r\n            this.useTime = useTime;\r\n            this.lb_useTime.string = this.useTime + \"s\";\r\n        }\r\n    },\r\n    ShowTimeUpdate: function(dt){\r\n        this.useTime += dt;\r\n        let dataTime = Math.floor(this.useTime);\r\n        if(dataTime > this.GetRoomXianShiTime()){\r\n            console.log(\"定时器终止时间：\",new Date().getTime(), this.useTime);\r\n            dataTime = this.GetRoomXianShiTime();\r\n            this.timeOpen = false;\r\n        }\r\n        this.lb_useTime.string = dataTime + \"s\";\r\n    },\r\n\r\n    SetTimeOpen: function(isOpen){\r\n        this.timeOpen = isOpen;\r\n    },\r\n\r\n    setReady:function(isShow){\r\n        this.icon_ready.active = isShow;\r\n    },\r\n    HideAllChild:function(){\r\n        this.touxiang.active = 0;\r\n        this.sp_chatdi_left.active = 0;\r\n        this.sp_chatdi_right.active = 0;\r\n        this.sp_chatdi_leftBottom.active = 0;\r\n        this.sp_chatdi_rightBottom.active = 0;\r\n        this.sp_audio_left.active = 0;\r\n        this.sp_audio_right.active = 0;\r\n        this.icon_ready.active = 0;\r\n        this.btn_out.active = 0;\r\n        this.icon_auto.active = 0;\r\n        this.zhuangjia.active = 0;\r\n        this.lb_jifen.string = \"\";\r\n        this.bg_SportsPoint.active = false;\r\n        this.fangzhu.active = false;\r\n        this.sp_lixian.active = false;\r\n        this.sp_likai.active = false;\r\n        this.bg_box.active = false;\r\n        this.useTimeNode.active = false;\r\n        this.timeOpen = false;\r\n        let others = this.node.getChildByName('otherNode').children;\r\n        for(let i=0;i<others.length;i++)\r\n            others[i].active = false;\r\n    },\r\n    //-----------------回调函数------------------------\r\n    Event_PosReadyChg:function(event){\r\n        let serverPack = event;\r\n        let pos = serverPack[\"pos\"];\r\n        let isReady=serverPack[\"isReady\"];\r\n        if(app[app.subGameName + \"_ShareDefine\"]().isCoinRoom){\r\n        \t//练习场OK 手势图标不显示\r\n            this.btn_out.active=0;\r\n    \t}else{\r\n    \t\tif(pos == this.playerPos){\r\n    \t\t\tif(isReady==true){\r\n            \t\tthis.icon_ready.active = true;\r\n            \t}else{\r\n            \t\tthis.icon_ready.active = false;\r\n            \t}\r\n        \t}\r\n    \t}\r\n    },\r\n    \r\n    Event_PosPosUpdate:function(event){\r\n        this.UpdatePlayerInfo();\r\n    },\r\n    \r\n    Event_PosLeave:function(event){\r\n        let serverPack = event;\r\n        let pos = serverPack[\"pos\"];\r\n        if(pos == this.playerPos)\r\n            this.HideAllChild();\r\n    },\r\n\r\n    Event_SetStart:function(event){\r\n        if(-1 == this.playerPos)\r\n            return;\r\n        this.UpdatePlayerInfo();\r\n    },\r\n    Event_PosContine:function(event){\r\n        if(-1 == this.playerPos)\r\n            return;\r\n        if(this.playerPos==event.pos){\r\n            this.icon_ready.active=true;\r\n        }\r\n    },\r\n    Event_PlayerOffline:function(event){\r\n        if(-1 == this.playerPos)\r\n            return;\r\n        this.UpdatePlayerInfo();\r\n    },\r\n    \r\n    OnPack_AutoStart:function(event){\r\n        if(-1 == this.playerPos)\r\n            return;\r\n        let serverPack = event;\r\n        let roomID = serverPack[\"roomID\"];\r\n        let pos = serverPack[\"pos\"];\r\n        let isAuto = serverPack[\"trusteeship\"];\r\n        let pid = serverPack[\"pid\"];\r\n        let heroID = app[app.subGameName + \"_HeroManager\"]().GetHeroProperty(\"pid\");\r\n       \r\n        let roomPosMg = this.roomMrg.GetEnterRoom().GetRoomPosMgr();\r\n        let allPlayers = roomPosMg.GetRoomAllPlayerInfo();\r\n        allPlayers[pos].trusteeship = isAuto;\r\n        if(pid == allPlayers[this.playerPos].pid)\r\n            this.icon_auto.active = isAuto;    \r\n    },\r\n    \r\n    //本家显示出牌动作\r\n    OnShowPosActionHelp:function () {\r\n        if(-1 == this.playerPos)\r\n            return;\r\n        this.AddWndEffect(\"touxiang/btn_headkuang\", \"touxiangkuangtexiao\", \"touxiangkuangtexiao\");\r\n    },\r\n\r\n    //--------------刷新函数-----------------\r\n    OnUpdate:function (dt) {\r\n        if(this.timeOpen){\r\n            this.ShowTimeUpdate(dt);\r\n        }\r\n        if(-1 == this.playerPos)\r\n            return;\r\n        let time = new Date().getTime();\r\n        if(this.time){\r\n            if(this.time < time){\r\n                this.sp_chatdi_left.active=0;\r\n                this.sp_chatdi_right.active=0;\r\n                this.sp_chatdi_leftBottom.active = 0;\r\n                this.sp_chatdi_rightBottom.active = 0;\r\n                return;\r\n            }\r\n            if(!this.useBottomChat){\r\n                if(this.useLeftChat){\r\n                    this.sp_chatdi_left.active = 1;\r\n                }else{\r\n                    this.sp_chatdi_right.active = 1;\r\n                }\r\n            }\r\n            else{\r\n                if(this.useLeftChat){\r\n                    this.sp_chatdi_leftBottom.active = 1;\r\n                }else{\r\n                    this.sp_chatdi_rightBottom.active = 1;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    //本家动作结束回调\r\n    OnClosePosActionHelp:function(){\r\n        this.DeleteWndEffect(\"touxiang/btn_headkuang\", \"touxiangkuangtexiao\");\r\n    },\r\n\r\n    ShowChatContent:function (content) {\r\n        let msgNode = null;\r\n        if(!this.useBottomChat)\r\n            msgNode = this.msgNode;\r\n        else\r\n            msgNode = this.bottomMsgNode;\r\n        let lb_chat = msgNode.getComponent(cc.Label);\r\n        lb_chat.overflow = cc.Label.Overflow.NONE;\r\n        lb_chat.horizontalAlign = cc.Label.HorizontalAlign.LEFT;\r\n        lb_chat.verticalAlign = cc.Label.VerticalAlign.CENTER;\r\n        lb_chat.fontSize = 20;\r\n        lb_chat.lineHeight = 25;\r\n        lb_chat.string = content;\r\n        let width = this.msgNode.width;\r\n        let newWidth = width + 80;\r\n        if(width >= 280){\r\n            newWidth = 360;\r\n            lb_chat.overflow = cc.Label.Overflow.RESIZE_HEIGHT;\r\n            msgNode.width = 280;\r\n        }\r\n        if(!this.useBottomChat){\r\n            this.sp_chatdi_leftBottom.active = 0;\r\n            this.sp_chatdi_rightBottom.active = 0;\r\n            if(this.useLeftChat){\r\n                this.sp_chatdi_left.active = 1;\r\n                this.sp_chatdi_right.active = 0;\r\n                this.sp_chatdi_left.width = newWidth;\r\n            }\r\n            else{\r\n                this.sp_chatdi_left.active = 0;\r\n                this.sp_chatdi_right.active = 1;\r\n                this.sp_chatdi_right.width = newWidth;\r\n            }\r\n        }\r\n        else{\r\n            this.sp_chatdi_left.active = 0;\r\n            this.sp_chatdi_right.active = 0;\r\n            if(this.useLeftChat){\r\n                this.sp_chatdi_leftBottom.active = 1;\r\n                this.sp_chatdi_rightBottom.active = 0;\r\n                this.sp_chatdi_leftBottom.width = newWidth;\r\n            }\r\n            else{\r\n                this.sp_chatdi_leftBottom.active = 0;\r\n                this.sp_chatdi_rightBottom.active = 1;\r\n                this.sp_chatdi_rightBottom.width = newWidth;\r\n            }\r\n        }\r\n        this.time = new Date().getTime() + 4000;\r\n    },\r\n    ShowFaceContent:function(path){\r\n        this.face_ani.active = true;\r\n        var animState = this.face_ani.getComponent(cc.Animation).play(path);\r\n        animState.repeatCount = 3;\r\n    },\r\n\r\n    ShowAutoIcon:function(isAuto){\r\n        this.icon_auto.active = isAuto;\r\n    },\r\n\r\n    ShowAudioContent:function () {\r\n        if(this.useLeftAudio){\r\n            this.sp_audio_left.active = 1;\r\n            this.sp_audio_right.active = 0;\r\n            this.AudioAnimation =  this.sp_audio_left.getComponent(cc.Animation);\r\n        }\r\n        else{\r\n            this.sp_audio_left.active = 0;\r\n            this.sp_audio_right.active = 1;\r\n            this.AudioAnimation =  this.sp_audio_right.getComponent(cc.Animation);\r\n        }\r\n\r\n        this.AudioAnimation.stop();\r\n        this.AudioAnimation.play(\"UIAudioPlay\");\r\n    },\r\n\r\n    CloseAudioContent:function(){\r\n        if(this.AudioAnimation) this.AudioAnimation.stop();\r\n\r\n        this.sp_audio_left.active = 0;\r\n        this.sp_audio_right.active = 0;\r\n    },\r\n\r\n    OnClose:function(){\r\n        this.HideAllChild();\r\n        this.lb_jifen.string = \"\";\r\n        this.bg_SportsPoint.active = false;\r\n        this.fangzhu.active = false;\r\n        this.uiPos = -1;\r\n        this.playerPos = -1;\r\n        this.playerInfo = null;\r\n        app[app.subGameName + \"Client\"].UnRegTargetEvent(this);\r\n    },\r\n    SetItemPos:function(isLeft){\r\n        let clientPos = this.RoomMgr.GetEnterRoom().GetRoomPosMgr().GetClientPos();\r\n        if(this.playerPos == clientPos){\r\n            this.bg_jifen.x = 260;\r\n            this.bg_jifen.y = -34;\r\n            this.bg_SportsPoint.x = 400;\r\n            this.bg_SportsPoint.y = -34;\r\n            this.bg_name.active = false;\r\n            this.lb_name.node.x = 130;\r\n            this.lb_name.node.y = -34;\r\n            this.lb_name.fontSize = 26;\r\n\r\n            this.icon_ready.x = 145;\r\n            this.icon_ready.y = 50;\r\n            // this.icon_auto.x = this.left.x + 23;\r\n            // this.icon_auto.y = this.left.y - 36;\r\n        }else{\r\n            this.bg_jifen.x = 0;\r\n            this.bg_jifen.y = -72;\r\n            this.bg_SportsPoint.x = 0;\r\n            this.bg_SportsPoint.y = -105;\r\n            this.bg_name.active = true;\r\n            this.lb_name.node.x = 0;\r\n            this.lb_name.node.y = -36;\r\n            this.lb_name.fontSize = 18;\r\n\r\n            if(isLeft){\r\n                this.useLeftAudio = true;\r\n                this.useLeftChat = true;\r\n                this.icon_ready.x = this.left.x - 46;\r\n                this.icon_ready.y = this.left.y;\r\n                // this.icon_auto.x = this.left.x + 23;\r\n                // this.icon_auto.y = this.left.y - 36;\r\n            }\r\n            else{\r\n                this.useLeftAudio = false;\r\n                this.useLeftChat = false;\r\n                this.icon_ready.x = this.right.x + 46;\r\n                this.icon_ready.y = this.right.y;\r\n                // this.icon_auto.x = this.right.x - 23;\r\n                // this.icon_auto.y = this.right.y - 36;\r\n            }\r\n        }\r\n        \r\n    },\r\n    Event_AudioNtf:function(event){\r\n        let serverPack = event;\r\n        let bShow = serverPack[\"bShow\"];\r\n        let pos = serverPack[\"pos\"];\r\n        console.log('Event_AudioNtf bShow '+ bShow +' pos ' + pos);\r\n        if(bShow){\r\n            if(pos != this.playerPos)\r\n                return;\r\n            this.ShowAudioContent();\r\n        }\r\n        else\r\n            this.CloseAudioContent();\r\n    },\r\n    Event_UpdateBacker:function(event){\r\n        if(-1 == this.playerPos)\r\n            return;\r\n        let data = event;\r\n        if(data.bShow)\r\n            this.UpdateBacker();\r\n        else\r\n            this.zhuangjia.active = false;\r\n    },\r\n    UpdateBacker:function(){\r\n        let room = this.roomMrg.GetEnterRoom();\r\n        let state = room.GetRoomProperty(\"state\");\r\n        this.bg_box.active = false;\r\n        if(state == this.ShareDefine.RoomState_Init){\r\n            this.zhuangjia.active = false;\r\n        }\r\n        else{\r\n            let roomSet = room.GetRoomSet();\r\n            let dPos = -1;\r\n            if(roomSet){\r\n                if(roomSet.GetRoomSetInfo().hasOwnProperty('backerPos')){\r\n                    dPos = roomSet.GetRoomSetProperty(\"backerPos\");\r\n                }else{\r\n                    dPos = roomSet.dataInfo.dPos;\r\n                }\r\n            }\r\n            else{\r\n                if(room.GetRoomProperty('set').stateInfo)\r\n                    dPos = room.GetRoomProperty('set').stateInfo.backerPos;\r\n                else\r\n                    dPos = room.GetRoomProperty('set').backerPos;\r\n            }\r\n            let isDPos = false;\r\n            if(dPos == this.playerPos){\r\n                isDPos = true;\r\n                this.bg_box.active = true;\r\n            }\r\n            //是否庄\r\n            this.zhuangjia.active = isDPos;\r\n        }\r\n    },\r\n    //显示本家玩家信息\r\n    UpdatePlayerInfo:function(){\r\n        this.roomMrg = app[app.subGameName.toUpperCase()+\"RoomMgr\"]();\r\n        let room = this.roomMrg.GetEnterRoom();\r\n        let state = room.GetRoomProperty(\"state\");\r\n        let setState=0;\r\n        if(state==this.ShareDefine.RoomState_Playing || \r\n           state==this.ShareDefine.RoomState_Waiting ||\r\n           state==this.ShareDefine.RoomState_WaitingEx){\r\n            //房间启动了，获取游戏是否在进行\r\n            setState = room.GetRoomSet().GetRoomSetProperty(\"state\");\r\n        }\r\n        let allPlayerInfo = null;\r\n        let playerLength = 0;\r\n        allPlayerInfo=room.GetRoomPosMgr().GetRoomAllPlayerInfo();\r\n        playerLength = allPlayerInfo.length;\r\n        if(this.playerPos >= playerLength){\r\n            this.ErrLog('LPUIPublicHead this.playerPos >= playerLength');\r\n            return;\r\n        }\r\n        this.playerInfo = allPlayerInfo[this.playerPos];\r\n        //如果没有有玩家坐下\r\n        if(!this.playerInfo || 0 == this.playerInfo.pid){\r\n            console.log(\"没有有玩家坐下\");\r\n            this.HideAllChild();\r\n            return\r\n        }\r\n        //准备按钮更新,区分啃爹的金币场\r\n        if(setState==this.ShareDefine.SetState_Playing || \r\n           setState==this.ShareDefine.SetState_Waiting ||\r\n           setState==this.ShareDefine.SetState_WaitingEx){\r\n            //游戏进行中，OK按钮关闭\r\n            this.icon_ready.active=false;\r\n        }else{\r\n            if(app[app.subGameName + \"_ShareDefine\"]().isCoinRoom){\r\n                this.icon_ready.active=true;\r\n            }else{\r\n                if(state==this.ShareDefine.RoomState_Init){\r\n                    if(this.playerInfo.roomReady){\r\n                        this.icon_ready.active=true;\r\n                    }else{\r\n                        this.icon_ready.active=false;\r\n                    }\r\n                }else{\r\n                    if(this.playerInfo.gameReady){\r\n                        this.icon_ready.active=true;\r\n                    }else{\r\n                        this.icon_ready.active=false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        //隐藏踢出房间按钮\r\n        if(state != this.ShareDefine.RoomState_Init){\r\n            this.btn_out.active = false;\r\n        }\r\n\r\n        //提示控件隐藏\r\n        this.ShowPlayerBaseInfo(room);\r\n\r\n        //庄家\r\n        this.UpdateBacker();\r\n    },\r\n    ShowBtnOut:function(){\r\n        let room = this.roomMrg.GetEnterRoom();\r\n        let state = room.GetRoomProperty(\"state\");\r\n        if(state != this.ShareDefine.RoomState_Init)\r\n            return;\r\n        if(room.IsClientIsCreater()==false && room.IsClientIsOwner()==false){\r\n            this.btn_out.active=false;\r\n            return;\r\n        }\r\n        if(this.playerInfo.pid== this.createID){\r\n            this.btn_out.active=false;\r\n        }else{\r\n            this.btn_out.active=true;\r\n        }\r\n    },\r\n    HideBtnOut:function(){\r\n        this.btn_out.active=false;\r\n    },\r\n    //获取位置玩家头像基础信息\r\n    ShowPlayerBaseInfo:function (room) {\r\n        this.touxiang.active = 1;\r\n        //有玩家坐下才需要显示玩家头像\r\n        let pid = this.playerInfo.pid;\r\n        if(pid){\r\n            this.WeChatHeadImage.ShowHeroHead(pid);\r\n        }\r\n\r\n        //显示是否房主\r\n        let createID = room.GetRoomProperty(\"ownerID\");\r\n        let iscreateID = false;\r\n        this.createID=createID;\r\n        this.HideBtnOut();\r\n        if(this.playerInfo.pid == createID){\r\n            iscreateID = true;\r\n        }else{\r\n            this.ShowBtnOut();\r\n        }\r\n        \r\n        if(app[app.subGameName + \"_ShareDefine\"]().isCoinRoom){\r\n            this.fangzhu.active = false;\r\n            this.btn_out.active = false;\r\n        }\r\n        else{\r\n            this.fangzhu.active = iscreateID;\r\n        }\r\n        \r\n        //是否离线\r\n        if(this.playerInfo.isLostConnect)\r\n            this.sp_lixian.active = 1;\r\n        else\r\n            this.sp_lixian.active = 0;\r\n        //是否离开\r\n        if(this.playerInfo.isShowLeave && !this.playerInfo.isLostConnect)\r\n            this.sp_likai.active = 1;\r\n        else\r\n            this.sp_likai.active = 0;\r\n        //积分\r\n        this.UpDateLabJiFen();\r\n        //比赛分\r\n        if (typeof(this.playerInfo['sportsPoint'])!=\"undefined\") {\r\n            this.UpDateLabSportsPoint();\r\n        }else{\r\n            this.bg_SportsPoint.active = false;\r\n        }\r\n        \r\n        //名字\r\n        // this.lb_name.string = this.playerInfo.name.substring(0,6) + \"...\";\r\n        this.lb_name.string = this.playerInfo.name;\r\n\r\n    },\r\n    UpDateLabJiFen:function () {\r\n        let playerIntegral = 0;\r\n        let playerRealpoint = 0;\r\n        this.roomCfg = this.RoomMgr.GetEnterRoom().GetRoomConfig();\r\n        if(this.playerInfo){\r\n            playerIntegral = this.playerInfo.point;\r\n            playerRealpoint = this.playerInfo.realPoint;\r\n        }\r\n        if (typeof(this.roomCfg.unionId) != undefined && this.roomCfg.unionId > 0) {\r\n            this.lb_jifen.string = playerRealpoint; \r\n            let dianbo = this.RoomMgr.GetEnterRoom().GetRoomConfigByProperty(\"dianbo\");\r\n            if (dianbo > 0 && \"loseCardCount\" in this.playerInfo) {\r\n                this.lb_jifen.string = this.playerInfo.loseCardCount + \"/70张\"; \r\n            }\r\n        }else{\r\n            this.lb_jifen.string = playerIntegral;\r\n        }\r\n    },\r\n    Event_SportsPointChange:function(event){\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        let pos = this.playerInfo.pos;\r\n        let pid = this.playerInfo.pid;\r\n        if (event.roomID != roomID ||\r\n            event.posId != pos ||\r\n            event.pid != pid) {\r\n            return;\r\n        }\r\n        this.UpDateLabSportsPoint();\r\n    },\r\n    UpDateLabSportsPoint:function () {\r\n        let sportsPoint = 0;\r\n        if(this.playerInfo && typeof(this.playerInfo['sportsPoint'])!=\"undefined\"){\r\n            sportsPoint = this.playerInfo.sportsPoint;\r\n            let clientPos = this.RoomMgr.GetEnterRoom().GetRoomPosMgr().GetClientPos();\r\n            if (clientPos == this.playerInfo.pos) {\r\n                sportsPoint = this.playerInfo.sportsPoint;\r\n                this.bg_SportsPoint.getChildByName(\"lb_SportsPoint\").getComponent(cc.Label).string = sportsPoint;\r\n                this.bg_SportsPoint.active = true;\r\n            } else {\r\n                this.bg_SportsPoint.getChildByName(\"lb_SportsPoint\").getComponent(cc.Label).string = \"\";\r\n                this.bg_SportsPoint.active = false;\r\n            }\r\n        }\r\n        \r\n    },\r\n    //---------点击函数---------------------\r\n    //---------点击函数---------------------\r\n    OnClick:function(btnName, btnNode){\r\n        console.log(\"onclick btnName:\",btnName);\r\n        if(btnName == \"btn_head\"){\r\n            this.Click_btn_head();\r\n        }\r\n        else if(btnName == \"btn_out\"){\r\n            this.Click_btn_out();\r\n        }\r\n        else{\r\n            this.ErrLog(\"OnClick btnName:%s error\", btnName);\r\n        }\r\n    },\r\n\r\n    Click_btn_head:function(){\r\n        this.FormManager.ShowForm(app.subGameName + \"_UIUserInfo\",this.playerPos);\r\n    },\r\n\r\n    Click_btn_out:function(){\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let state = room.GetRoomProperty(\"state\");\r\n        if(state == this.ShareDefine.RoomState_Playing || state == this.ShareDefine.RoomState_Playing){\r\n            app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(app.subGameName.toUpperCase()+\"_CANNOT_KICK\");\r\n        }else{\r\n            let roomID = this.RoomMgr.GetEnterRoomID();\r\n            app[app.subGameName + \"_GameManager\"]().SendKickPosIndex(roomID, this.playerPos);\r\n        }\r\n    },\r\n\r\n\r\n});"]}