{"version":3,"sources":["UIPDK_ResultXY.js"],"names":["app","require","cc","Class","extends","subGameName","properties","playerList","Node","room_Id","Label","lb_jushu","end_Time","cardPrefab","Prefab","icon_winlost","SpriteFrame","OnCreateInit","RoomMgr","toUpperCase","Room","RoomPosMgr","SoundManager","HeroManager","RoomSet","ComTool","SDKManager","Define","PokerCard","toLowerCase","OnShow","setEnd","FormManager","CloseForm","roomEnd","GetEnterRoom","GetRoomProperty","SendTimeOutContinue","juShu","GetRoomConfig","setCount","setID","isCoinRoom","isEnd","node","getChildByName","active","InitPlayer","ShowGameResult","ShowCardList","cardList","ShowLeftCardList","privateList","ShowFeiPaiList","feipaiList","i","path","toString","playerNode","GetWndNode","removeAllChildren","room","ErrLog","allPlayer","GetRoomAllPlayerInfo","key","setId","idx","push","sort","a","b","pos","length","player","pid","point","pointList","GetClientPos","getComponent","Sprite","spriteFrame","PlaySound","sportsPointList","string","totalPointList","surplusCardList","bombList","lostCardList","pointNode","absNum","Math","abs","shortNum","toFixed","head","ShowHeroHead","playerName","name","SubNameLen","substring","current","GetRoomConfigByProperty","i18n","t","sec","round","startTime","GetDateYearMonthDayHourMinuteString","playBackCode","layout","cardDemo","j","isLastCard","addCard","instantiate","ShowCard","addChild","allcardList","layoutDemo","addlayout","shou","jishou","cardType","cardNode","realValue","GetPokeCard","kexuanwanfa","indexOf","OnClick","btnName","btnNode","is3DShow","LocalDataManager","GetConfigProperty","GameBg","SendPack","practiceId","OnSuccess","bind","OnEnterRoomFailed","roomID","SendContinueGame","ShowForm","AddDefaultFormName","ExitGame","serverPack","LoadScene"],"mappings":"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","file":"UIPDK_ResultXY.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\game\\PDK","sourcesContent":["var app = require(\"pdk_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        playerList:cc.Node,\r\n        room_Id:cc.Label,\r\n        lb_jushu:cc.Label,\r\n        end_Time:cc.Label,\r\n        cardPrefab:cc.Prefab,\r\n        icon_winlost:[cc.SpriteFrame],\r\n    },\r\n\r\n    OnCreateInit: function () {\r\n        this.RoomMgr = app[app.subGameName.toUpperCase()+\"RoomMgr\"]();\r\n        this.Room = app[app.subGameName.toUpperCase()+\"Room\"]();\r\n        this.RoomPosMgr = app[app.subGameName.toUpperCase()+\"RoomPosMgr\"]();\r\n        this.SoundManager = app[app.subGameName+\"_SoundManager\"]();\r\n        this.HeroManager = app[app.subGameName+\"_HeroManager\"]();\r\n        this.RoomSet = app[app.subGameName.toUpperCase()+\"RoomSet\"]();\r\n        this.ComTool = app[app.subGameName+\"_ComTool\"]();\r\n        this.SDKManager = app[app.subGameName+\"_SoundManager\"]();\r\n        this.Define = app[app.subGameName.toUpperCase()+\"Define\"]();\r\n        this.PokerCard = app[app.subGameName.toLowerCase()+\"_PokerCard\"]();\r\n    },\r\n\r\n    OnShow:function(setEnd){\r\n        this.FormManager.CloseForm(app.subGameName+\"_UIChat\");\r\n        this.RoomMgr = app[app.subGameName.toUpperCase()+\"RoomMgr\"]();\r\n        let roomEnd = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"roomEnd\");\r\n        if(!roomEnd){\r\n            //延迟自动继续\r\n            this.RoomMgr.SendTimeOutContinue();\r\n        }\r\n        let juShu = this.Room.GetRoomConfig().setCount;\r\n        let setID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"setID\");\r\n        if(roomEnd || (setID >= juShu && !app[app.subGameName+\"_ShareDefine\"]().isCoinRoom)){\r\n            this.isEnd = true;\r\n        }\r\n        else{\r\n            this.isEnd = false;\r\n        }\r\n        if(app[app.subGameName+\"_ShareDefine\"]().isCoinRoom){\r\n            this.node.getChildByName('btn_out').active=true;\r\n        }else{\r\n            this.node.getChildByName('btn_out').active=false;\r\n        }\r\n        this.InitPlayer();\r\n        this.ShowGameResult(setEnd);\r\n        this.ShowCardList(setEnd.cardList);\r\n        this.ShowLeftCardList(setEnd.privateList);\r\n        this.ShowFeiPaiList(setEnd.feipaiList);\r\n    },\r\n    InitPlayer:function(){\r\n        for (let i = 0; i < 3; i++) {\r\n            let path = \"playerList/player\" + (i+1).toString();\r\n            let playerNode = this.GetWndNode(path);\r\n            playerNode.getChildByName('cardlist').removeAllChildren();\r\n            playerNode.active=false;\r\n        }\r\n    },\r\n    ShowGameResult:function(setEnd){\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if(!room){\r\n            this.ErrLog(\"Event_PosContinueGame not enter room\");\r\n            return\r\n        }   \r\n        let allPlayer = this.RoomPosMgr.GetRoomAllPlayerInfo();\r\n        let key = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"key\");\r\n        let setId = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"setID\");\r\n        let playerList = [];\r\n        for(let idx in allPlayer){\r\n            playerList.push(allPlayer[idx]);\r\n        }\r\n        //先排序一下\r\n        playerList.sort(function(a, b){\r\n            return a.pos - b.pos;\r\n        });\r\n        this.playerList=playerList;\r\n        for (let i = 0; i < playerList.length; i++) {\r\n            let player = playerList[i];\r\n            let path = \"playerList/player\" + (i+1).toString();\r\n            let playerNode = this.GetWndNode(path);\r\n            playerNode.active = true;\r\n            if(player.pid == this.RoomMgr.GetEnterRoom().GetRoomProperty(\"ownerID\")){\r\n                playerNode.getChildByName(\"touxiang\").getChildByName(\"fangzhu\").active = true;\r\n            }else{\r\n                playerNode.getChildByName(\"touxiang\").getChildByName(\"fangzhu\").active = false;\r\n            }\r\n            let point=setEnd.pointList[i];\r\n            if(player.pos == this.RoomPosMgr.GetClientPos()){\r\n                if(point > 0){\r\n                    this.node.getChildByName('lost_win').getComponent(cc.Sprite).spriteFrame=this.icon_winlost[0];\r\n                    this.SoundManager.PlaySound(\"win\");\r\n                    this.SoundManager.PlaySound(\"sssResult_Win\");\r\n                }\r\n                else{\r\n                    this.node.getChildByName('lost_win').getComponent(cc.Sprite).spriteFrame=this.icon_winlost[1];\r\n                    this.SoundManager.PlaySound(\"fail\");\r\n                    this.SoundManager.PlaySound(\"sssResult_Lose\");\r\n                }\r\n                \r\n            }\r\n            if(typeof(setEnd['sportsPointList'])!=\"undefined\"){\r\n                if(setEnd.sportsPointList[i] >0){  \r\n                    playerNode.getChildByName('lb_sportsPoint').getComponent(cc.Label).string = \"比赛分：+\" + setEnd.sportsPointList[i];\r\n                }else{\r\n                    playerNode.getChildByName('lb_sportsPoint').getComponent(cc.Label).string = \"比赛分：\" + setEnd.sportsPointList[i];\r\n                }\r\n            }else{\r\n                playerNode.getChildByName('lb_sportsPoint').getComponent(cc.Label).string = \"\";\r\n            }\r\n            playerNode.getChildByName('lb_point').getComponent(cc.Label).string=setEnd.totalPointList[i];\r\n            playerNode.getChildByName('lb_num').getComponent(cc.Label).string=setEnd.surplusCardList[i];\r\n            playerNode.getChildByName('lb_zhadan').getComponent(cc.Label).string=setEnd.bombList[i];\r\n            playerNode.getChildByName('lb_lose').getComponent(cc.Label).string=setEnd.lostCardList[i];\r\n            \r\n            let pointNode=null;\r\n            let absNum=Math.abs(point);\r\n            \r\n            if(absNum>10000){\r\n                let shortNum=(absNum/10000).toFixed(2);\r\n                if(point > 0){\r\n                    playerNode.getChildByName('lb_lose_num').active=false;\r\n                    pointNode=playerNode.getChildByName('lb_win_num');\r\n                    pointNode.getComponent(cc.Label).string='+'+shortNum+\"万\";\r\n                }else{\r\n                    playerNode.getChildByName('lb_win_num').active=false;\r\n                    pointNode=playerNode.getChildByName('lb_lose_num');\r\n                    pointNode.getComponent(cc.Label).string='-'+shortNum+\"万\";\r\n                }\r\n            }else{\r\n                if(point > 0){\r\n                    playerNode.getChildByName('lb_lose_num').active=false;\r\n                    pointNode=playerNode.getChildByName('lb_win_num');\r\n                    pointNode.getComponent(cc.Label).string=\"+\"+point;\r\n                }else{\r\n                    playerNode.getChildByName('lb_win_num').active=false;\r\n                    pointNode=playerNode.getChildByName('lb_lose_num');\r\n                    pointNode.getComponent(cc.Label).string=point;\r\n                }\r\n            }\r\n\r\n             //////////\r\n            \r\n            pointNode.active=true;\r\n            let head = playerNode.getChildByName('touxiang').getChildByName('mask').getChildByName('head').getComponent(app.subGameName + \"_WeChatHeadImage\");\r\n            head.ShowHeroHead(player.pid);\r\n            //玩家名字\r\n            let playerName = \"\";\r\n            playerName = player.name;\r\n            if(playerName.length > app[app.subGameName+\"_ShareDefine\"]().SubNameLen){\r\n                playerName = playerName.substring(0, app[app.subGameName+\"_ShareDefine\"]().SubNameLen) + '...';\r\n            }\r\n            let name = playerNode.getChildByName(\"touxiang\").getChildByName(\"lb_name\").getComponent(cc.Label);\r\n            name.string = playerName;\r\n        }\r\n        this.room_Id.string = \"房间号:\" + key;\r\n        let current = room.GetRoomConfigByProperty(\"setCount\");\r\n        this.lb_jushu.string = app.i18n.t(\"UIWanFa_setCount\", {\"current\": current, \"setCount\": setId});\r\n        let sec = Math.round(setEnd.startTime/1000);\r\n        this.end_Time.string = this.ComTool.GetDateYearMonthDayHourMinuteString(sec);\r\n        //回放码\r\n        this.node.getChildByName('backcode').getComponent(cc.Label).string=\"回放码：\"+setEnd.playBackCode;\r\n    },\r\n    ShowFeiPaiList:function(cardList){\r\n        //清理当前的layout\r\n        let layout=this.node.getChildByName('feipai');\r\n        if (!cardList || cardList.length < 2) {\r\n            layout.active = false\r\n            this.node.getChildByName('fplb').active = false;\r\n            return\r\n        }\r\n        layout.removeAllChildren()\r\n        let cardDemo=this.node.getChildByName('cardPrefab');\r\n        for(let j=0;j<cardList.length;j++){\r\n            let isLastCard=(j == cardList.length-1);\r\n            let addCard=cc.instantiate(cardDemo);\r\n            addCard.active=true;\r\n            this.ShowCard(cardList[j],addCard,isLastCard);\r\n            layout.addChild(addCard);\r\n        }\r\n    },\r\n    ShowLeftCardList:function(allcardList){\r\n        //清理当前的layout\r\n        let layoutDemo=this.node.getChildByName('chupai');\r\n        let cardDemo=this.node.getChildByName('cardPrefab');\r\n        for(let i=0;i<allcardList.length;i++){\r\n            if(i == this.RoomPosMgr.GetClientPos()){\r\n                this.node.getChildByName(\"bg\").active = allcardList[i].length == 0\r\n                this.node.getChildByName(\"bg2\").active = allcardList[i].length == 0\r\n                this.node.getChildByName(\"bg3\").active = allcardList[i].length != 0\r\n                this.node.getChildByName(\"bg4\").active = allcardList[i].length != 0\r\n            }\r\n            if(allcardList[i].length==0){\r\n                continue;\r\n            }\r\n            let addlayout = cc.instantiate(layoutDemo);\r\n            let path = \"playerList/player\" + (i+1).toString();\r\n            let playerNode = this.GetWndNode(path);\r\n            addlayout.active=true;\r\n            playerNode.getChildByName('cardlist').addChild(addlayout);\r\n            let cardList=allcardList[i];\r\n            for(let j=0;j<cardList.length;j++){\r\n                let isLastCard=false;\r\n                let addCard=cc.instantiate(cardDemo);\r\n                addCard.active=true;\r\n                if(j+1==cardList.length){\r\n                    isLastCard=true;\r\n                }\r\n                this.ShowCard(cardList[j],addCard,isLastCard);\r\n                addlayout.addChild(addCard);\r\n            }\r\n        } \r\n    },\r\n    ShowCardList:function(allcardList){\r\n        //清理当前的layout\r\n        let layoutDemo=this.node.getChildByName('chupai');\r\n        let cardDemo=this.node.getChildByName('cardPrefab');\r\n        for(let i=0;i<allcardList.length;i++){\r\n             let addlayout = cc.instantiate(layoutDemo);\r\n             let pos=allcardList[i].pos;\r\n             let path = \"playerList/player\" + (pos+1).toString();\r\n             let playerNode = this.GetWndNode(path);\r\n             addlayout.active=true;\r\n             playerNode.getChildByName('cardlist').addChild(addlayout);\r\n\r\n             let shou=i+1;\r\n             let cardList=allcardList[i].cardList;\r\n             for(let j=0;j<cardList.length;j++){\r\n                let isLastCard=false;\r\n                let addCard=cc.instantiate(cardDemo);\r\n                addCard.active=true;\r\n                if(j==0){\r\n                    let jishou=addCard.getChildByName('shou');\r\n                    jishou.active=true;\r\n                    jishou.getChildByName('lb').getComponent(cc.Label).string=shou;\r\n                }\r\n                if(j+1==cardList.length){\r\n                    isLastCard=true;\r\n                }\r\n                this.ShowCard(cardList[j],addCard,isLastCard);\r\n                addlayout.addChild(addCard);\r\n             }\r\n        }\r\n    },\r\n    //显示poker\r\n    ShowCard:function(cardType, cardNode, isLastCard){\r\n        let realValue = 0;\r\n        if(cardType > 500){\r\n            realValue = cardType - 500;\r\n        }\r\n        else{\r\n            realValue = cardType;\r\n        }\r\n        if (!isLastCard) {\r\n            cardNode.getChildByName('icon_1').active = false;\r\n        }else{\r\n            cardNode.getChildByName('icon_1').active = true;\r\n        }\r\n        this.PokerCard.GetPokeCard(realValue, cardNode, isLastCard);\r\n        cardNode.active = true;\r\n        cardNode.getChildByName(\"bg_poker\").active = true;\r\n        cardNode.getChildByName(\"num\").active = true;\r\n        cardNode.getChildByName(\"icon\").active = true;\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if(!room || !cardNode.getChildByName(\"tag\")) return\r\n        let kexuanwanfa = room.GetRoomConfigByProperty('kexuanwanfa');\r\n        if(!kexuanwanfa || !kexuanwanfa.length) return\r\n        cardNode.getChildByName(\"tag\").active = (realValue == 0x2A && kexuanwanfa.indexOf(24) > -1)\r\n    },\r\n    OnClick:function(btnName, btnNode){\r\n        let is3DShow = app.LocalDataManager().GetConfigProperty(\"SysSetting\", \"is3DShow\");\r\n        let GameBg = app.LocalDataManager().GetConfigProperty(\"SysSetting\", app.subGameName+\"_GameBg\");\r\n        if(btnName == \"btn_jixu\"){\r\n            if(!this.isEnd){\r\n                if(app[app.subGameName+\"_ShareDefine\"]().isCoinRoom){\r\n                    app[app.subGameName+\"_NetManager\"]().SendPack('game.CGoldRoom', {practiceId:app[app.subGameName+\"_ShareDefine\"]().practiceId}, this.OnSuccess.bind(this),this.OnEnterRoomFailed.bind(this));\r\n                }\r\n                else{\r\n                    let room = this.RoomMgr.GetEnterRoom();\r\n                    if(!room){\r\n                        this.ErrLog(\"Click_btn_ready not enter room\");\r\n                        return\r\n                    }\r\n                    let roomID = room.GetRoomProperty(\"roomID\");\r\n                    app[app.subGameName+\"_GameManager\"]().SendContinueGame(roomID);\r\n                }\r\n            }\r\n            else{\r\n                if(GameBg == 1){\r\n                    this.FormManager.ShowForm(app.subGameName + \"_UIPublic_Record\");\r\n                }else if(GameBg == 2){\r\n                    this.FormManager.ShowForm(app.subGameName + \"_UILPPublic_Record\");\r\n                }else if(GameBg == 3){\r\n                    this.FormManager.ShowForm(app.subGameName + \"_UIPublic_Record\");\r\n                }else if(GameBg == 4){\r\n                    this.FormManager.ShowForm(app.subGameName + \"_UIXiuXPublic_Record\");\r\n                }\r\n                \r\n            }\r\n            \r\n        }\r\n        else if(btnName == \"btn_out\"){\r\n            app[app.subGameName+\"_FormManager\"]().AddDefaultFormName(app.subGameName+\"_UIPractice\");\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        }\r\n    },\r\n    OnSuccess:function(serverPack){\r\n        let roomID = serverPack.roomID;\r\n        app[app.subGameName+\"_NetManager\"]().SendPack('pdk.CPDKGetRoomInfo', {\"roomID\":roomID});\r\n    },\r\n    OnEnterRoomFailed:function(serverPack){\r\n        app[app.subGameName+\"_SceneManager\"]().LoadScene(\"mainScene\");\r\n    },\r\n});\r\n"]}